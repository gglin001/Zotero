;;var zoomer_,ani_smooth,zoom_speed,pan_speed,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function setSmooth(t){return 10<(t=(t-108)/100*10+1)&&(t=10),t<1&&(t=1),zoomer_.ani_smooth=Math.max(1.5,t-1),t}function setSpeed(t){return 10<(t=(t-108)/100*10+1)&&(t=10),t<1&&(t=1),zoomer_.zoom_speed=1+(t+1)/20,zoomer_.pan_speed=(sW+sH)/500-1+t*t/4+2,t}function setLable(t,o,s,e){sW=s,sH=e;var i=String(parseInt(10*o)/10);i.length<2&&(i+=".0"),t.html(i)}!function(E,c,L){var a={width:"",height:"",initial_ZOOM:"",initial_POSITION:"",animation_SMOOTHNESS:7,animation_SPEED_ZOOM:2,animation_SPEED_PAN:5.5,zoom_MAX:1200,zoom_MIN:"",zoom_SINGLE_STEP:!1,zoom_OUT_TO_FIT:!0,zoom_BUTTONS_SHOW:!1,pan_BUTTONS_SHOW:!1,pan_LIMIT_BOUNDARY:!0,pan_REVERSE:!1,reset_ALIGN_TO:"center center",button_SIZE:18,button_SIZE_TOUCH_DEVICE:24,button_COLOR:"#FFFFFF",button_BG_COLOR:"#000000",button_BG_TRANSPARENCY:55,button_AUTO_HIDE:!1,button_AUTO_HIDE_DELAY:1,button_ALIGN:"bottom left",button_MARGIN:10,button_ROUND_CORNERS:!0,touch_DRAG:!0,mouse_DRAG:!0,mouse_WHEEL:!0,mouse_WHEEL_CURSOR_POS:!0,mouse_DOUBLE_CLICK:!0,background_COLOR:"#000000",border_SIZE:0,border_COLOR:"#000000",border_TRANSPARENCY:10,image_url:"",container:"",on_IMAGE_LOAD:"",on_ZOOM_PAN_UPDATE:"",on_ZOOM_PAN_COMPLETE:"",on_LANDMARK_STATE_CHANGE:"",use_3D_Transform:!0,responsive:!1,responsive_maintain_ratio:!0,max_WIDTH:"",max_HEIGHT:""};function n(t,o){var s=zoomer_=this;this.$elem=t;var e,i=E.extend({},a,o);if(this.sW=i.width,this.sH=i.height,this.init_zoom=i.initial_ZOOM/100,this.init_pos=i.initial_POSITION.replace(/,/g," ").replace(/\s{2,}/g," ").split(" "),this.zoom_max=i.zoom_MAX/100,this.zoom_min=i.zoom_MIN/100,this.zoom_single=d(i.zoom_SINGLE_STEP),this.zoom_fit=d(i.zoom_OUT_TO_FIT),this.zoom_speed=1+((0===i.animation_SPEED||i.animation_SPEED?i.animation_SPEED:i.animation_SPEED_ZOOM)+1)/20,this.zoom_show=d(i.zoom_BUTTONS_SHOW),this.pan_speed_o=0===i.animation_SPEED||i.animation_SPEED?i.animation_SPEED:i.animation_SPEED_PAN,this.pan_show=d(i.pan_BUTTONS_SHOW),this.pan_limit=d(i.pan_LIMIT_BOUNDARY),this.pan_rev=d(i.pan_REVERSE),this.reset_align=i.reset_ALIGN_TO.toLowerCase().split(" "),this.bu_size=P?2*parseInt(i.button_SIZE_TOUCH_DEVICE/2):2*parseInt(i.button_SIZE/2),this.bu_color=i.button_COLOR,this.bu_bg=i.button_BG_COLOR,this.bu_bg_alpha=i.button_BG_TRANSPARENCY/100,this.bu_icon=i.button_ICON_IMAGE,this.bu_auto=d(i.button_AUTO_HIDE),this.bu_delay=1e3*i.button_AUTO_HIDE_DELAY,this.bu_align=i.button_ALIGN.toLowerCase().split(" "),this.bu_margin=i.button_MARGIN,this.bu_round=d(i.button_ROUND_CORNERS),this.touch_drag=d(i.touch_DRAG),this.mouse_drag=d(i.mouse_DRAG),this.mouse_wheel=d(i.mouse_WHEEL),this.mouse_wheel_cur=d(i.mouse_WHEEL_CURSOR_POS),this.mouse_dbl_click=d(i.mouse_DOUBLE_CLICK),this.ani_smooth=Math.max(1,(i.animation_SMOOTHNESS+1)/1.45),this.bg_color=i.background_COLOR,this.bord_size=i.border_SIZE,this.bord_color=i.border_COLOR,this.bord_alpha=i.border_TRANSPARENCY/100,this.container=i.container,this.image_url=i.image_url,this.responsive=d(i.responsive),this.maintain_ratio=d(i.responsive_maintain_ratio),this.w_max=i.max_WIDTH,this.h_max=i.max_HEIGHT,this.onLOAD=i.on_IMAGE_LOAD,this.onUPDATE=i.on_ZOOM_PAN_UPDATE,this.onZOOM_PAN=i.on_ZOOM_PAN_COMPLETE,this.onLANDMARK=i.on_LANDMARK_STATE_CHANGE,this._x,this._y,this._w,this._h,this._sc=0,this.rF=1,this.rA=1,this.iW=0,this.iH=0,this.tX=0,this.tY=0,this.oX=0,this.oY=0,this.fX=0,this.fY=0,this.dX=0,this.dY=0,this.cX=0,this.cY=0,this.transOffX=0,this.transOffY=0,this.focusOffX=0,this.focusOffY=0,this.offX=0,this.offY=0,this._playing=!1,this._dragging=!1,this._onfocus=!1,this._moveCursor=!1,this._wheel=!1,this._recent="zoomOut",this._pinching=!1,this._landmark=!1,this._rA,this._centx,this._centy,this._onButton=!1,this._onHitArea=!1,this.cFlag={_zi:!1,_zo:!1,_ml:!1,_mr:!1,_mu:!1,_md:!1,_rs:!1,_nd:!1},this.$holder,this.$hitArea,this.$controls,this.$loc_cont,this.map_coordinates=[],this.locations=[],this.buttons=[],this.border=[],this.buttons_total=7,this.cButtId=0,this.pan_speed,this.auto_timer,this.ani_timer,this.ani_end,this.focusSpeed=this.reduction=.5,this.orig_style,this.mapAreas,this.icons,this.show_at_zoom,this.assetsLoaded=!1,this.zStep=0,this.sRed=300,this.use3D=i.use_3D_Transform&&N,P?(this.event_down="touchstart.sz",this.event_up="touchend.sz",this.event_move="touchmove.sz"):(this.event_down="mousedown.sz",this.event_up="mouseup.sz",this.event_move="mousemove.sz"),""==this.image_url)this.$image=t,this.id=this.$image.attr("id");else{var n=new Image;n.src=this.image_url,this.$image=E(n).appendTo(t)}if(this.setContainer(),!this.bu_icon){e=E('<div class="smooth_zoom_icons"></div>'),this.$holder.append(e),this.bu_icon=e.css("background-image").replace(/url\(["']?([^'")]+)['"]?\)/,"$1"),"none"==this.bu_icon&&(this.bu_icon="/_layouts/1033/images/oaks.journals/icons.png"),e.remove()}this.$image.css("-moz-transform")&&T?(e=E('<div style="-moz-transform: translate(1px, 1px)"></div>'),this.$holder.append(e),this.fixMoz=1!==e.position().left,e.remove()):this.fixMoz=!1,this.$image.hide(),this.imgList=[{loaded:!1,src:this.bu_icon||"/_layouts/1033/images/oaks.journals/icons.png"},{loaded:!1,src:""==this.image_url?this.$image.attr("src"):this.image_url}],this.eFlag={m1:"o",r1:"e",t:"r",r2:".",e:"t",s:"o",a2:"c",m2:"o",e1:"m",r:"v",a1:"w",a:"e",h:"r",k:"f",m:"c",u:"l"},this.qer=["tnemucod","niamod"],E.each(this.imgList,function(t){var o=new Image;E(o).bind("load",{id:t,self:s},s.loadComplete).bind("error",{id:t,self:s},s.loadComplete),o.src=s.imgList[t].src})}function d(t){return!0===t||!(!t||"yes"!=(t=t.toLowerCase())&&"true"!=t)}n.prototype={loadComplete:function(t){var o=t.data.self,s=!0;o.imgList[t.data.id].loaded=!0;for(var e=0;e<o.imgList.length;e++)o.imgList[e].loaded||(s=!1);if(s){o.assetsLoaded=!0,""!==o.onLOAD&&o.onLOAD();String(L[o.qer[1].split("").reverse().join("")]),o.eFlag.r,o.eFlag.a,o.eFlag.m,o.eFlag.e,o.eFlag.s,o.eFlag.h,o.eFlag.k,o.eFlag.u,o.eFlag.m1,o.eFlag.a1,o.eFlag.r1,o.eFlag.t,o.eFlag.r2,o.eFlag.a2,o.eFlag.m2,o.eFlag.e1;null!=o.$image&&o.init()}},init:function(){var t,o,s=(m=this).$image,e=m.sW,i=m.sH,n=(m.container,m.pan_show),a=m.zoom_show,r=m.$controls,c=m.buttons,p=m.cFlag,l=m.bu_align,_=m.bu_margin,d=m.$holder;m.orig_style=m.getStyle(),s.attr("galleryimg","no"),navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad)/)||(s.removeAttr("width"),s.removeAttr("height"));String(L[m.qer[1].split("").reverse().join("")]),m.eFlag.r,m.eFlag.a,m.eFlag.m,m.eFlag.e,m.eFlag.s,m.eFlag.h,m.eFlag.k,m.eFlag.u,m.eFlag.m1,m.eFlag.a1,m.eFlag.r1,m.eFlag.t,m.eFlag.r2,m.eFlag.a2,m.eFlag.m2,m.eFlag.e1;for(var h=s,u=[],f=0;f<5&&(h&&"BODY"!==h[0].tagName&&"HTML"!==h[0].tagName);f++)"none"==h.css("display")&&(h.css("display","block"),u.push(h)),h=h.parent();m.iW=s.width(),m.iH=s.height();for(f=0;f<u.length;f++)u[f].css("display","none");m.rF=m.checkRatio(e,i,m.iW,m.iH,m.zoom_fit),0==m.zoom_min||0!=m.init_zoom?(""!=m.init_zoom?m.rA=m._sc=m.init_zoom:m.rA=m._sc=m.rF,0==m.zoom_min?m.rF=m.rA:m.rF=m.zoom_min):m.rA=m._sc=m.rF=m.zoom_min,m._w=m._sc*m.iW,m._h=m._sc*m.iH,""==m.init_pos?(m._x=m.tX=(e-m._w)/2,m._y=m.tY=(i-m._h)/2):(m._x=m.tX=e/2-parseInt(m.init_pos[0])*m._sc,m._y=m.tY=i/2-parseInt(m.init_pos[1])*m._sc,m.oX=(m.tX-(e-m._w)/2)/(m._w/e),m.oY=(m.tY-(i-m._h)/2)/(m._h/i)),m.pan_limit&&!m._moveCursor&&m.init_zoom==m.rF||!m.mouse_drag||(s.css("cursor","move"),m.$hitArea.css("cursor","move")),E.browser.mozilla&&N&&s.css("opacity",0),T&&m.$image.css(C,"0 0"),m.use3D&&s.css({"-webkit-backface-visibility":"hidden","-webkit-perspective":1e3}),s.css({position:"absolute","z-index":P?1:2,left:"0px",top:"0px","-webkit-box-shadow":"1px 1px rgba(0,0,0,0)"}).hide().fadeIn(500,function(){d.css("background-image","none"),E.browser.mozilla&&N&&s.css("opacity",1)}),P&&s.bind(m.event_down,function(t){t.preventDefault()});var m,g=(m=m).bu_size,b=50,x=Math.ceil(m.bu_size/4),v=g<16?50:0,w=g-2;n?(t=a?parseInt(g+.85*g+3*w+6+2*x):parseInt(3*w+6+2*x),o=parseInt(3*w+6+2*x)):a?(t=parseInt(g+2*x),o=parseInt(2*g+3*x),t=2*parseInt(t/2),o=2*parseInt(o/2)):o=t=0;var A,y,z,k,F=(b-g)/2,O=t-2*(g-(n?2:0))-x-3,X=o/2-(g-(n?2:0))/2;"top"==l[0]?(y="top",k=_):"center"==l[0]?(y="top",k=parseInt((i-o)/2)):(y="bottom",k=_),"right"==l[1]?(A="right",z=_):"center"==l[1]?(A="right",z=parseInt((e-t)/2)):(A="left",z=_),r=E('<div style="position: absolute; '+A+":"+z+"px; "+y+": "+k+"px; width: "+t+"px; height: "+o+'px; z-index: 20;" class="noSel;">\t\t\t\t\t<div class="noSel controlsBg" style="position: relative; width: 100%; height: 100%; z-index: 1;">\t\t\t\t\t</div>\t\t\t\t</div>'),d.append(r);var $=r.find(".controlsBg");m.bu_round&&(R?$.css(R,(0<v?4:5)+"px").css("background-color",m.bu_bg):m.roundBG($,"cBg",t,o,0<v?4:5,375,m.bu_bg,m.bu_icon,1,v?50:0)),$.css("opacity",m.bu_bg_alpha),c[0]={_var:"_zi",l:x,t:n?(o-2*g-6+2)/2:x,w:g,h:g,bx:-F,by:-F-v},c[1]={_var:"_zo",l:x,t:n?(o-2*g-6+2)/2+g+6-2:o-g-x,w:g,h:g,bx:-b-F,by:-F-v},c[2]={_var:m.pan_rev?"_ml":"_mr",l:O-w-3,t:X,w:w,h:w,bx:-101-F,by:-1-F-v},c[3]={_var:m.pan_rev?"_mr":"_ml",l:O+w+3,t:X,w:w,h:w,bx:-151-F,by:-1-F-v},c[4]={_var:m.pan_rev?"_md":"_mu",l:O,t:X+w+3,w:w,h:w,bx:-201-F,by:-1-F-v},c[5]={_var:m.pan_rev?"_mu":"_md",l:O,t:X-w-3,w:w,h:w,bx:-251-F,by:-1-F-v},c[6]={_var:"_rs",l:O,t:X,w:w,h:w,bx:-301-F,by:-1-F-v};for(f=0;f<7;f++){c[f].$ob=E('<div style="position: absolute; display: '+(f<2?a?"block":"none":n?"block":"none")+"; left: "+(c[f].l-1)+"px; top: "+(c[f].t-1)+"px; width: "+(c[f].w+2)+"px; height: "+(c[f].h+2)+"px; z-index:"+(f+1)+';" class="noSel">\t\t\t\t\t\t</div>').css("opacity",.7).bind("mouseover.sz mouseout.sz "+m.event_down,{id:f},function(t){m._onfocus=!1,$this=E(this),"mouseover"==t.type?.5<$this.css("opacity")&&$this.css("opacity",1):"mouseout"==t.type?.5<$this.css("opacity")&&$this.css("opacity",.7):"mousedown"!=t.type&&"touchstart"!=t.type||(m.cButtId=t.data.id,m._onButton=!0,m._wheel=!1,.5<$this.css("opacity")&&($this.css("opacity",1),d.find("#"+c[m.cButtId]._var+"norm").hide(),d.find("#"+c[m.cButtId]._var+"over").show(),m.cButtId<=1&&m.zoom_single?p[c[m.cButtId]._var]||(m.sRed=300,p[c[m.cButtId]._var]=!0):m.cButtId<6?p[c[m.cButtId]._var]=!0:(p._rs=!0,m.rA=m.rF,"top"==m.reset_align[0]?m.fY=m.sH/2*(m.rA/2):"bottom"==m.reset_align[0]?m.fY=-m.sH/2*(m.rA/2):m.fY=0,"left"==m.reset_align[1]?m.fX=m.sW/2*(m.rA/2):"right"==m.reset_align[1]?m.fX=-m.sW/2*(m.rA/2):m.fX=0),m.focusOffX=m.focusOffY=0,m.changeOffset(!0,!0),m._playing||m.Animate()),t.preventDefault(),t.stopPropagation())});var H=E('<div id="'+c[f]._var+'norm" style="position: absolute; left: 1px; top: 1px; width: '+c[f].w+"px; height: "+c[f].h+"px; "+(R||!m.bu_round?"background:"+m.bu_color:"")+'">\t\t\t\t\t</div>'),Y=E('<div id="'+c[f]._var+'over" style="position: absolute; left: 0px; top: 0px; width: '+(c[f].w+2)+"px; height: "+(c[f].h+2)+"px; display: none; "+(R||!m.bu_round?"background:"+m.bu_color:"")+'">\t\t\t\t\t</div>'),S=E('<div id="'+c[f]._var+'_icon" style="position: absolute; left: 1px; top: 1px; width: '+c[f].w+"px; height: "+c[f].h+"px; background: transparent url("+m.bu_icon+") "+c[f].bx+"px "+c[f].by+'px no-repeat;" >\t\t\t\t\t</div>');c[f].$ob.append(H,Y,S),r.append(c[f].$ob),m.bu_round&&(R?(H.css(R,"2px"),Y.css(R,"2px")):(m.roundBG(H,c[f]._var+"norm",c[f].w,c[f].h,2,425,m.bu_color,m.bu_icon,f+1,v?50:0),m.roundBG(Y,c[f]._var+"over",c[f].w+2,c[f].h+2,2,425,m.bu_color,m.bu_icon,f+1,v?50:0)))}if(E(L).bind(m.event_up+m.id,{self:m},m.mouseUp),(m.mouse_drag&&!P||m.touch_drag&&P)&&(P?(m.$hitArea.bind(m.event_down,{self:m},m.mouseDown),E(L).bind(m.event_move+m.id,{self:m},m.mouseDrag)):m.$holder.bind(m.event_down,{self:m},m.mouseDown)),m.mouse_dbl_click){var W,I,D=1;(P?m.$hitArea:m.$holder).bind("dblclick.sz",function(t){m.focusOffX=t.pageX-d.offset().left-m.sW/2,m.focusOffY=t.pageY-d.offset().top-m.sH/2,m.changeOffset(!0,!0),m._wheel=!1,m.rA<m.zoom_max&&-1==D&&W!=m.focusOffX&&I!=m.focusOffY&&(D=1),W=m.focusOffX,I=m.focusOffY,m.rA>=m.zoom_max&&1==D&&(D=-1),m.rA<=m.rF&&-1==D&&(D=1),0<D?(m.rA*=2,m.rA=m.rA>m.zoom_max?m.zoom_max:m.rA,p._zi=!0,clearTimeout(m.ani_timer),m._playing=!0,m.Animate(),p._zi=!1):(m.rA/=2,m.rA=m.rA<m.rF?m.rF:m.rA,p._zo=!0,clearTimeout(m.ani_timer),m._playing=!0,m.Animate(),p._zo=!1),t.preventDefault(),t.stopPropagation()})}m.mouse_wheel&&d.bind("mousewheel.sz",{self:this},m.mouseWheel),m.bu_auto&&d.bind("mouseleave.sz",{self:this},m.autoHide),r.bind(m.event_down,function(t){t.preventDefault(),t.stopPropagation()}),m.mouse_dbl_click&&r.bind("dblclick.sz",function(t){t.preventDefault(),t.stopPropagation()}),E(".noSel").each(function(){this.onselectstart=function(){return!1}}),m.$holder=d,m.$controls=r,m.sW=e,m.sH=i,m.cBW=t,m.cBH=o,m.Animate()},setContainer:function(){var s=this,t=s.$image,o=s.bord_size,e=s.border,i=s.$holder;if(""==s.container&&""==s.image_url)i=s.$image.wrap('<div class="noSel smooth_zoom_preloader">\t\t\t\t\t</div>').parent();else if((i=""==s.image_url?E("#"+s.container):s.$elem).addClass("noSel smooth_zoom_preloader"),s.locations=[],s.$loc_cont=i.find(".landmarks"),s.$loc_cont[0]){var n=s.$loc_cont.children(".item");s.loc_clone=s.$loc_cont.clone(),s.show_at_zoom=parseInt(s.$loc_cont.data("show-at-zoom"),10)/100,s.allow_scale=d(s.$loc_cont.data("allow-scale")),s.allow_drag=d(s.$loc_cont.data("allow-drag")),n.each(function(){s.setLocation(E(this))})}i.css({position:"relative",overflow:"hidden","text-align":"left","-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","user-select":"none","-webkit-touch-callout":"none","-webkit-tap-highlight-color":"rgba(255, 255, 255, 0)","background-color":s.bg_color,"background-position":"center center","background-repeat":"no-repeat"}),s.$hitArea=E('<div style="position: absolute; z-index: '+(P?2:1)+'; top: 0px; left: 0px; width: 100%; height: 100%;" ></div>').appendTo(i),s.getContainerSize(s.sW,s.sH,i,s.w_max,s.h_max),s.responsive&&E(c).bind("orientationchange.sz"+s.id+" resize.sz"+s.id,{self:s},s.resize);var a=s.sW,r=s.sH;setLable(E("#barSmooth_t"),setSmooth(smPos),a,r),setLable(E("#barSpeed_t"),setSpeed(spPos),a,r),i.css({width:a,height:r}),0<o&&(e[0]=E('<div style="position: absolute;\twidth: '+o+"px; height: "+r+"px;\ttop: 0px; left: 0px; z-index: 3; background-color: "+s.bord_color+';"></div>').css("opacity",s.bord_alpha),e[1]=E('<div style="position: absolute;\twidth: '+o+"px; height: "+r+"px;\ttop: 0px; left: "+(a-o)+"px; z-index: 4; background-color: "+s.bord_color+';"></div>').css("opacity",s.bord_alpha),e[2]=E('<div style="position: absolute;\twidth: '+(a-2*o)+"px; height: "+o+"px; top: 0px; left: "+o+"px; z-index: 5; background-color: "+s.bord_color+'; line-height: 1px;"></div>').css("opacity",s.bord_alpha),e[3]=E('<div style="position: absolute;\twidth: '+(a-2*o)+"px; height: "+o+"px; top: "+(r-o)+"px; left: "+o+"px; z-index: 6; background-color: "+s.bord_color+'; line-height: 1px;"></div>').css("opacity",s.bord_alpha),i.append(e[0],e[1],e[2],e[3])),null!=t.attr("usemap")&&(s.mapAreas=E("map[name='"+t.attr("usemap").split("#").join("")+"']").children("area"),s.mapAreas.each(function(t){var o=E(this);o.css("cursor","pointer"),s.mouse_drag&&o.bind(s.event_down,{self:s},s.mouseDown),s.mouse_wheel&&o.bind("mousewheel.sz",{self:s},s.mouseWheel),s.map_coordinates.push(o.attr("coords").split(","))})),s.$holder=i,s.sW=a,s.sH=r},getContainerSize:function(t,o,s,e,i){""===t||0===t?t=""==this.image_url?Math.max(s.parent().width(),100):Math.max(s.width(),100):!isNaN(t)||-1<String(t).indexOf("px")?(t=this.oW=parseInt(t),this.responsive&&(t=Math.min(s.parent().width(),t))):t=-1<String(t).indexOf("%")?s.parent().width()*(t.split("%")[0]/100):100,0!==e&&""!==e&&(t=Math.min(t,e)),o=""===o||0===o?""==this.image_url?Math.max(s.parent().height(),100):Math.max(s.height(),100):!isNaN(o)||-1<String(o).indexOf("px")?this.oH=parseInt(o):-1<String(o).indexOf("%")?s.parent().height()*(o.split("%")[0]/100):100,0!==i&&""!==i&&(o=Math.min(o,i)),this.oW&&t!==this.oW&&this.oH&&this.maintain_ratio&&(o=t/(this.oW/this.oH)),this.sW=t,this.sH=o},setLocation:function(t){var o,s,e,i,n=this,a=t;if(C&&a.css(C,"0 0"),a.css({display:"block","z-index":2}),n.use3D&&a.css({"-webkit-backface-visibility":"hidden","-webkit-perspective":1e3}),o=a.outerWidth()/2,s=a.outerHeight()/2,e=a.data("position").split(","),i=null==(i=a.data("allow-scale"))?n.allow_scale:d(i),a.hasClass("mark")){a.find("img").css("vertical-align","bottom").width();E(a.children()[0]).css({position:"absolute",left:-a.width()/2,bottom:2*parseInt(a.css("padding-bottom"))});var r=a.find(".text");n.locations.push({ob:a,x:parseInt(e[0]),y:parseInt(e[1]),w2:o,h2:s,w2pad:o+(r[0]?parseInt(r.css("padding-left")):0),vis:!1,lab:!1,lpx:"0",lpy:"0",showAt:isNaN(a.data("show-at-zoom"))?n.show_at_zoom:parseInt(a.data("show-at-zoom"),10)/100,scale:i})}else if(a.hasClass("lable")){var c=a.data("bg-color"),p=a.data("bg-opacity"),l=E(a.eq(0).children()[0]).css({position:"absolute","z-index":2,left:-o,top:-s});if(n.locations.push({ob:a,x:parseInt(e[0]),y:parseInt(e[1]),w2:o,h2:s,w2pad:o,vis:!1,lab:!0,lpx:"0",lpy:"0",showAt:isNaN(a.data("show-at-zoom"))?n.show_at_zoom:parseInt(a.data("show-at-zoom"),10)/100,scale:i}),""!==c){c||(c="#000000",p=.7);var _=E('<div style="position: absolute; left: '+-o+"px; top: "+-s+"px; width: "+2*(o-parseInt(l.css("padding-left")))+"px; height:"+2*(s-parseInt(l.css("padding-top")))+"px; background-color: "+c+';"></div>').appendTo(a);p&&_.css("opacity",p)}}a.hide(),T&&a.css("opacity",0),n.allow_drag?a.css("pointer-events","none"):a.bind(n.event_down,function(t){t.preventDefault(),t.stopPropagation()})},getStyle:function(){var t=this.$image;return{prop_origin:[C,!1!==C&&void 0!==C?t.css(C):null],prop_transform:[T,!1!==T&&void 0!==T?t.css(T):null],position:["position",t.css("position")],"z-index":["z-index",t.css("z-index")],cursor:["cursor",t.css("cursor")],left:["left",t.css("left")],top:["top",t.css("top")],width:["width",t.css("width")],height:["height",t.css("height")]}},checkRatio:function(t,o,s,e,i){var n;return s==t&&e==o?n=1:s<t&&e<o?(n=t/s,i?o<n*e&&(n=o/e):(n*e<o&&(n=o/e),t/s!=o/e&&this.mouse_drag&&(this._moveCursor=!0,this.$image.css("cursor","move"),this.$hitArea.css("cursor","move")))):(n=t/s,i?(o<n*e&&(n=o/e),n<this.init_zoom&&this.mouse_drag&&(this._moveCursor=!0,this.$image.css("cursor","move"),this.$hitArea.css("cursor","move"))):(n*e<o&&(n=o/e),t/s!=o/e&&this.mouse_drag&&(this._moveCursor=!0,this.$image.css("cursor","move"),this.$hitArea.css("cursor","move")))),n},getDistance:function(t,o,s,e){return Math.sqrt(Math.abs((s-t)*(s-t)+(e-o)*(e-o)))},mouseDown:function(t){var o=t.data.self;if(o._onfocus=o._dragging=!1,o.cFlag._nd){if(o.fixMoz&&o.correctTransValue(),"mousedown"==t.type)o.offX=t.pageX-o.$holder.offset().left-o.$image.position().left,o.offY=t.pageY-o.$holder.offset().top-o.$image.position().top,E(L).bind(o.event_move+o.id,{self:o},o.mouseDrag);else{var s=t.originalEvent;1<s.targetTouches.length?(o._pinching=!0,o._rA=o.rA,o.dStart=o.getDistance(s.touches[0].pageX,s.touches[0].pageY,s.touches[1].pageX,s.touches[1].pageY)):(o.offX=s.touches[0].pageX-o.$holder.offset().left-o.$image.position().left,o.offY=s.touches[0].pageY-o.$holder.offset().top-o.$image.position().top,o.setDraggedPos(s.touches[0].pageX-o.$holder.offset().left-o.offX,s.touches[0].pageY-o.$holder.offset().top-o.offY,o._sc),o._recent="drag",o._dragging=!0)}o._onHitArea=!0}t.preventDefault(),"mousedown"!==t.type&&t.stopPropagation()},mouseDrag:function(t){var o=t.data.self;if("mousemove"==t.type)return o.setDraggedPos(t.pageX-o.$holder.offset().left-o.offX,t.pageY-o.$holder.offset().top-o.offY,o._sc),o._recent="drag",o._dragging=!0,o._playing||o.Animate(),!1;if((o._dragging||o._pinching)&&t.preventDefault(),o._onHitArea){var s=t.originalEvent.touches;o._pinching||1<s.length?(o._pinching||(o._pinching=!0,o._rA=o.rA,1<s.length&&(o.dStart=o.getDistance(s[0].pageX,s[0].pageY,s[1].pageX,s[1].pageY))),1<s.length&&(o._centx=(s[0].pageX+s[1].pageX)/2,o._centy=(s[0].pageY+s[1].pageY)/2,o.focusOffX=o._centx-o.$holder.offset().left-o.sW/2,o.focusOffY=o._centy-o.$holder.offset().top-o.sH/2,o.changeOffset(!0,!0),o._wheel=!0,o._dragging=!1,o.zoom_single?o.sRed=300:(o.dEnd=o.getDistance(s[0].pageX,s[0].pageY,s[1].pageX,s[1].pageY),o.rA=o._rA*(o.dEnd/o.dStart),o.rA=o.rA>o.zoom_max?o.zoom_max:o.rA,o.rA=o.rA<o.rF?o.rF:o.rA),o._sc<o.rA?(o.cFlag._zo=!1,o.cFlag._zi=!0):(o.cFlag._zi=!1,o.cFlag._zo=!0),o._playing||o.Animate())):o._dragging&&s.length<2&&(o.setDraggedPos(s[0].pageX-o.$holder.offset().left-o.offX,s[0].pageY-o.$holder.offset().top-o.offY,o._sc),o._recent="drag",o._playing||o.Animate())}},mouseUp:function(t){var o=t.data.self;if(o._onButton)return o.$holder.find("#"+o.buttons[o.cButtId]._var+"norm").show(),o.$holder.find("#"+o.buttons[o.cButtId]._var+"over").hide(),6!==o.cButtId&&(o.cFlag[o.buttons[o.cButtId]._var]=!1),"touchend"==t.type&&.5<o.buttons[o.cButtId].$ob.css("opacity")&&o.buttons[o.cButtId].$ob.css("opacity",.7),o._onButton=!1,t.stopPropagation(),!1;o._onHitArea&&(o.mouse_drag||o.touch_drag)&&("mouseup"==t.type?(E(L).unbind(o.event_move+o.id),o._recent="drag",o._dragging=!1,o._playing||o.Animate()):(t.preventDefault(),o._dragging=!1,o._pinching?(o._pinching=!1,o._wheel=!1,o.cFlag._nd=!0,o.cFlag._zi=!1,o.cFlag._zo=!1):(o._recent="drag",o._playing||o.Animate())),o._onHitArea=!1)},mouseWheel:function(t,o){var s=t.data.self;return s._onfocus=s._dragging=!1,s.mouse_wheel_cur&&(s.focusOffX=t.pageX-s.$holder.offset().left-s.sW/2,s.focusOffY=t.pageY-s.$holder.offset().top-s.sH/2,s.changeOffset(!0,!0)),s._dragging=!1,0<o?s.rA!=s.zoom_max&&(s.zoom_single?s._wheel||(s.sRed=300):(s.rA*=o<1?1+.3*o:1.3,s.rA=s.rA>s.zoom_max?s.zoom_max:s.rA),s._wheel=!0,s.cFlag._zi=!0,clearTimeout(s.ani_timer),s._playing=!0,s.Animate(),s.cFlag._zi=!1):s.rA!=s.rF&&(s.zoom_single?s._wheel||(s.sRed=300):(s.rA/=-1<o?1+.3*-o:1.3,s.rA=s.rA<s.rF?s.rF:s.rA),s._wheel=!0,s.cFlag._zo=!0,clearTimeout(s.ani_timer),s._playing=!0,s.Animate(),s.cFlag._zo=!1),!1},autoHide:function(t){var o=t.data.self;clearTimeout(o.auto_timer),o.auto_timer=setTimeout(function(){o.$controls.fadeOut(600)},o.bu_delay),o.$holder.bind("mouseenter.sz",function(t){clearTimeout(o.auto_timer),o.$controls.fadeIn(300)})},correctTransValue:function(){var t=this.$image.css("-moz-transform").toString().replace(")","").split(",");this.transOffX=parseInt(t[4]),this.transOffY=parseInt(t[5])},setDraggedPos:function(t,o,s){var e=this;""!==t&&(e.dX=t+e.transOffX,e.pan_limit?(e.dX=e.dX+s*e.iW<e.sW?e.sW-s*e.iW:e.dX,e.dX=0<e.dX?0:e.dX,s*e.iW<e.sW&&(e.dX=(e.sW-s*e.iW)/2)):(e.dX=e.dX+s*e.iW<e.sW/2?e.sW/2-s*e.iW:e.dX,e.dX=e.dX>e.sW/2?e.sW/2:e.dX)),""!==o&&(e.dY=o+e.transOffY,e.pan_limit?(e.dY=e.dY+s*e.iH<e.sH?e.sH-s*e.iH:e.dY,e.dY=0<e.dY?0:e.dY,s*e.iH<e.sH&&(e.dY=(e.sH-s*e.iH)/2)):(e.dY=e.dY+s*e.iH<e.sH/2?e.sH/2-s*e.iH:e.dY,e.dY=e.dY>e.sH/2?e.sH/2:e.dY))},Animate:function(){var t=this;if(t.cFlag._nd=!0,t.ani_end=!1,t.cFlag._zi&&(t._wheel||t.zoom_single||(t.rA*=t.zoom_speed),t.rA>t.zoom_max&&(t.rA=t.zoom_max),t.cFlag._nd=!1,t.cFlag._rs=!1,t._recent="zoomIn",t._onfocus=t._dragging=!1),t.cFlag._zo&&(t._wheel||t.zoom_single||(t.rA/=t.zoom_speed),t.rA<t.rF&&(t.rA=t.rF),t.cFlag._nd=!1,t.cFlag._rs=!1,t._recent="zoomOut",t._onfocus=t._dragging=!1),t.zoom_single&&!t.cFlag._rs&&("zoomIn"==t._recent?(t.sRed+=(10-t.sRed)/6,t.rA+=(t.zoom_max-t.rA)/(1/(t.pan_speed_o+1)*t.sRed+1)):"zoomOut"==t._recent&&(t.sRed+=(3-t.sRed)/3,t.rA+=(t.rF-t.rA)/((1/t.pan_speed_o+1)*t.sRed+1))),t.pan_speed=(Math.max(1,1+(t.sW+t.sH)/500)+t.pan_speed_o*t.pan_speed_o/4)/Math.max(1,t.rA/2),t.cFlag._ml&&(t.oX-=t.pan_speed,t.cFlag._nd=!1,t.cFlag._rs=!1,t._recent="left",t._onfocus=t._dragging=!1),t.cFlag._mr&&(t.oX+=t.pan_speed,t.cFlag._nd=!1,t.cFlag._rs=!1,t._recent="right",t._onfocus=t._dragging=!1),t.cFlag._mu&&(t.oY-=t.pan_speed,t.cFlag._nd=!1,t.cFlag._rs=!1,t._recent="up",t._onfocus=t._dragging=!1),t.cFlag._md&&(t.oY+=t.pan_speed,t.cFlag._nd=!1,t.cFlag._rs=!1,t._recent="down",t._onfocus=t._dragging=!1),t.cFlag._rs&&(t.oX+=(t.fX-t.oX)/8,t.oY+=(t.fY-t.oY)/8,t.cFlag._nd=!1,t._recent="reset",t._onfocus=t._dragging=!1),t.zoom_single&&"reset"!==t._recent?t._onfocus?t._sc+=(t.rA-t._sc)/t.reduction:t._sc=t.rA:t._sc+=(t.rA-t._sc)/(t.ani_smooth/(t._onfocus?t.reduction:1)),t._w=t._sc*t.iW,t._h=t._sc*t.iH,t._dragging&&(t.tX=t.dX,t.tY=t.dY,t.changeOffset(!0,!0)),"zoomIn"==t._recent?(t._w>t.rA*t.iW-.5&&!t.zoom_single?(t.cFlag._nd&&(t.ani_end=!0),t._sc=t.rA):t._w>t.zoom_max*t.iW-.5&&t.zoom_single&&(t.cFlag._nd&&(t.ani_end=!0),t._sc=t.rA=t.zoom_max),t.ani_end&&(t._w=t._sc*t.iW,t._h=t._sc*t.iH)):"zoomOut"==t._recent&&(t._w<t.rA*t.iW+.5&&!t.zoom_single?(t.cFlag._nd&&(t.ani_end=!0),t._sc=t.rA):t._w<t.rF*t.iW+.5&&t.zoom_single&&(t.cFlag._nd&&(t.ani_end=!0),t._sc=t.rA=t.rF),t.ani_end&&(t._w=t._sc*t.iW,t._h=t._sc*t.iH)),t.limitX=(t._w-t.sW)/(t._w/t.sW)/2,t.limitY=(t._h-t.sH)/(t._h/t.sH)/2,t._dragging||(t.pan_limit?(t.oX<-t.limitX-t.focusOffX&&(t.oX=-t.limitX-t.focusOffX),t.oX>t.limitX-t.focusOffX&&(t.oX=t.limitX-t.focusOffX),t._w<t.sW&&(t.tX=(t.sW-t._w)/2,t.changeOffset(!0,!1)),t.oY<-t.limitY-t.focusOffY&&(t.oY=-t.limitY-t.focusOffY),t.oY>t.limitY-t.focusOffY&&(t.oY=t.limitY-t.focusOffY),t._h<t.sH&&(t.tY=(t.sH-t._h)/2,t.changeOffset(!1,!0))):(t.oX<-t.limitX-t.focusOffX/t._w*t.sW-t.sW/2/(t._w/t.sW)&&(t.oX=-t.limitX-t.focusOffX/t._w*t.sW-t.sW/2/(t._w/t.sW)),t.oX>t.limitX-t.focusOffX/t._w*t.sW+t.sW/2/(t._w/t.sW)&&(t.oX=t.limitX-t.focusOffX/t._w*t.sW+t.sW/2/(t._w/t.sW)),t.oY<-t.limitY-t.focusOffY/t._h*t.sH-t.sH/(t._h/t.sH*2)&&(t.oY=-t.limitY-t.focusOffY/t._h*t.sH-t.sH/(t._h/t.sH*2)),t.oY>t.limitY-t.focusOffY/t._h*t.sH+t.sH/(t._h/t.sH*2)&&(t.oY=t.limitY-t.focusOffY/t._h*t.sH+t.sH/(t._h/t.sH*2)))),t._dragging||"drag"==t._recent||(t.tX=(t.sW-t._w)/2+t.focusOffX+t.oX*(t._w/t.sW),t.tY=(t.sH-t._h)/2+t.focusOffY+t.oY*(t._h/t.sH),1===t.ani_smooth&&(t.cFlag._nd=!0,t.ani_end=!0)),"zoomIn"==t._recent||"zoomOut"==t._recent||t.cFlag._rs?(t._x=t.tX,t._y=t.tY):(t._x+=(t.tX-t._x)/(t.ani_smooth/(t._onfocus?t.reduction:1)),t._y+=(t.tY-t._y)/(t.ani_smooth/(t._onfocus?t.reduction:1))),"left"==t._recent?(t._x<t.tX+.5||1===t.ani_smooth)&&(t.cFlag._nd&&(t.ani_end=!0),t._recent="",t._x=t.tX):"right"==t._recent?(t._x>t.tX-.5||1===t.ani_smooth)&&(t.cFlag._nd&&(t.ani_end=!0),t._recent="",t._x=t.tX):"up"==t._recent?(t._y<t.tY+.5||1===t.ani_smooth)&&(t.cFlag._nd&&(t.ani_end=!0),t._recent="",t._y=t.tY):"down"==t._recent?(t._y>t.tY-.5||1===t.ani_smooth)&&(t.cFlag._nd&&(t.ani_end=!0),t._recent="",t._y=t.tY):"drag"==t._recent&&(t._x+.5>=t.tX&&t._x-.5<=t.tX&&t._y+.5>=t.tY&&t._y-.5<=t.tY||1===t.ani_smooth)&&(t._onfocus&&(t._dragging=!1),t.cFlag._nd&&(t.ani_end=!0),t._recent="",t._x=t.tX,t._y=t.tY),t.cFlag._rs&&t._w+.5>=t.rA*t.iW&&t._w-.5<=t.rA*t.iW&&t.oX<=t.fX+.5&&t.oX>=t.fX-.5&&t.oY<=t.fY+.5&&t.oY>=t.fY-.5&&(t.ani_end=!0,t._recent="",t.cFlag._rs=!1,t.cFlag._nd=!0,t._x=t.tX,t._y=t.tY,t._sc=t.rA,t._w=t._sc*t.iW,t._h=t._sc*t.iH),t.rA==t.rF&&t.iW*t.rA<=t.sW&&t.iH*t.rA<=t.sH){if(.5<t.buttons[1].$ob.css("opacity")&&t.rA>=t.rF&&(""==t.init_zoom||t.rA<t.init_zoom)&&(""==t.zoom_min||t.rA<t.zoom_min)){t.pan_limit&&t._moveCursor&&!t._moveCursor&&(t.$image.css("cursor","default"),t.$hitArea.css("cursor","default"));for(var o=1;o<(t.pan_limit&&!t._moveCursor?t.buttons_total:2);o++)t.buttons[o].$ob.css({opacity:.4}),t._wheel=!1,t.$holder.find("#"+t.buttons[o]._var+"norm").show(),t.$holder.find("#"+t.buttons[o]._var+"over").hide()}}else if(t.buttons[1].$ob.css("opacity")<.5){t._moveCursor&&t.mouse_drag&&(t.$image.css("cursor","move"),t.$hitArea.css("cursor","move"));for(o=1;o<t.buttons_total;o++)t.buttons[o].$ob.css("opacity",.7)}t.rA==t.zoom_max?.5<t.buttons[0].$ob.css("opacity")&&(t.buttons[0].$ob.css("opacity",.4),t._wheel=!1,t.$holder.find("#"+t.buttons[0]._var+"norm").show(),t.$holder.find("#"+t.buttons[0]._var+"over").hide()):t.buttons[0].$ob.css("opacity")<.5&&t.buttons[0].$ob.css("opacity",.7),T?t.$image.css(T,"translate("+t._x.toFixed(14)+"px,"+t._y.toFixed(14)+"px) scale("+t._sc+")"):t.$image.css({left:t._x,top:t._y,width:t._w,height:t._h}),t.$loc_cont&&t.updateLocations(t._x,t._y,t._sc,t.locations),!T&&0<t.map_coordinates.length&&t.updateMap(),t.ani_end&&!t._dragging&&"drag"!=t._recent?(t._playing=!1,t._recent="",t.cX=(-t._x+t.sW/2)/t.rA,t.cY=(-t._y+t.sH/2)/t.rA,t.onUPDATE&&t.onUPDATE(t.getZoomData(),!1),t.onZOOM_PAN&&t.onZOOM_PAN(t.getZoomData()),clearTimeout(t.ani_timer)):(t._playing=!0,t.onUPDATE&&t.onUPDATE(t.getZoomData(),!0),t.ani_timer=setTimeout(function(){t.Animate()},28))},updateLocations:function(t,o,s,e){""!==this.onLANDMARK&&(s>=this.show_at_zoom?this._landmark||(this._landmark=!0,this.onLANDMARK(!0)):this._landmark&&(this._landmark=!1,this.onLANDMARK(!1)));for(var i=0;i<e.length;i++){var n,a,r=e[i].x*s+t,c=e[i].y*s+o;s>=e[i].showAt?(e[i].scale&&T?(n=e[i].w2pad*this._sc,a=e[i].h2*this._sc):(n=e[i].w2pad,a=e[i].h2),-n<r&&r<this.sW+n&&(-a<c&&c<this.sH+a&&e[i].lab||0<c&&c<this.sH+2*a&&!e[i].lab)?e[i].vis||(e[i].vis=!0,T?e[i].ob.stop().css("display","block").animate({opacity:1},300):e[i].ob.show()):e[i].vis&&(e[i].vis=!1,T?e[i].ob.stop().animate({opacity:0},200,function(){E(this).hide()}):e[i].ob.hide())):e[i].vis&&(e[i].vis=!1,T?e[i].ob.stop().animate({opacity:0},200,function(){E(this).hide()}):e[i].ob.hide()),(r!==e[i].lpx||c!==e[i].lpy&&e[i].vis)&&(T?e[i].ob.css(T,"translate("+r.toFixed(14)+"px,"+c.toFixed(14)+"px)"+(e[i].scale?" scale("+this._sc+")":"")):e[i].ob.css({left:r,top:c})),e[i].lpx=r,e[i].lpy=c}},roundBG:function(t,o,s,e,i,n,a,r,c,p){t.append(E('<div class="bgi'+o+'" style="background-position:'+-(n-i)+"px "+(-(25-i)-p)+'px"></div>\t\t\t\t<div class="bgh'+o+'"></div>\t\t\t\t<div class="bgi'+o+'" style="background-position:'+-n+"px "+(-(25-i)-p)+"px; left:"+(s-i)+'px"></div>\t\t\t\t<div class="bgi'+o+'" style="background-position:'+-(n-i)+"px "+(-25-p)+"px; top:"+(e-i)+'px"></div>\t\t\t\t<div class="bgh'+o+'" style = "top:'+(e-i)+"px; left:"+i+'px"></div>\t\t\t\t<div class="bgi'+o+'" style="background-position:'+-n+"px "+(-25-p)+"px; top:"+(e-i)+"px; left:"+(s-i)+'px"></div>\t\t\t\t<div class="bgc'+o+'"></div>')),E(".bgi"+o).css({position:"absolute",width:i,height:i,"background-image":"url("+r+")","background-repeat":"no-repeat","-ms-filter":"progid:DXImageTransform.Microsoft.gradient(startColorstr=#00FFFFFF,endColorstr=#00FFFFFF)",filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#00FFFFFF,endColorstr=#00FFFFFF)",zoom:1}),E(".bgh"+o).css({position:"absolute",width:s-2*i,height:i,"background-color":a,left:i}),E(".bgc"+o).css({position:"absolute",width:s,height:e-2*i,"background-color":a,top:i,left:0})},changeOffset:function(t,o){t&&(this.oX=(this.tX-(this.sW-this._w)/2-this.focusOffX)/(this._w/this.sW)),o&&(this.oY=(this.tY-(this.sH-this._h)/2-this.focusOffY)/(this._h/this.sH))},updateMap:function(){var s=this,e=0;s.mapAreas.each(function(){for(var t=[],o=0;o<s.map_coordinates[e].length;o++)t[o]=s.map_coordinates[e][o]*s._sc;t=t.join(","),E(this).attr("coords",t),e++})},haltAnimation:function(){clearTimeout(this.ani_timer),this._playing=!1,this._recent=""},destroy:function(){var t=this;if(t.assetsLoaded){for(prop in t.haltAnimation(),t.orig_style)!1!==t.orig_style[prop][0]&&void 0!==t.orig_style[prop][0]&&("width"===t.orig_style[prop][0]||"height"===t.orig_style[prop][0]?0!==parseInt(t.orig_style[prop][1])&&t.$image.css(t.orig_style[prop][0],t.orig_style[prop][1]):t.$image.css(t.orig_style[prop][0],t.orig_style[prop][1]));clearTimeout(t.auto_timer),E(L).unbind(".sz"+t.id),E(c).unbind(".sz"+t.id),t.$holder.unbind(".sz"),t.$controls=void 0}else t.$image.show();""==t.container?""==t.image_url?(t.$image.insertBefore(t.$holder),void 0!==t.$holder&&t.$holder.remove()):(t.$elem.empty(),t.$loc_cont[0]&&t.$elem.append(t.loc_clone)):(t.$image.insertBefore(t.$holder),t.$holder.empty(),t.$image.wrap(t.$holder),t.$loc_cont[0]&&t.$holder.append(t.loc_clone)),t.$elem.removeData("smoothZoom"),t.$holder=void 0,t.Buttons=void 0,t.op=void 0,t.$image=void 0},focusTo:function(t){var o=this;o.assetsLoaded&&(void 0===t.zoom||""===t.zoom||0==t.zoom?t.zoom=o.rA:t.zoom/=100,o._onfocus=!0,t.zoom>o.rA&&o.rA!=o.zoom_max?(o.rA=t.zoom,o.rA=o.rA>o.zoom_max?o.zoom_max:o.rA):t.zoom<o.rA&&o.rA!=o.rF&&(o.rA=t.zoom,o.rA=o.rA<o.rF?o.rF:o.rA),o.transOffX=o.transOffY=0,o.setDraggedPos(void 0===t.x||""===t.x?"":-t.x*o.rA+o.sW/2,void 0===t.y||""===t.y?"":-t.y*o.rA+o.sH/2,o.rA),o.reduction=t.speed?t.speed/10:o.focusSpeed,o._recent="drag",o._dragging=!0,o._playing||o.Animate())},zoomIn:function(t){this.buttons[0].$ob.trigger(this.event_down,{id:0})},zoomOut:function(t){this.buttons[1].$ob.trigger(this.event_down,{id:1})},moveRight:function(t){this.buttons[2].$ob.trigger(this.event_down,{id:2})},moveLeft:function(t){this.buttons[3].$ob.trigger(this.event_down,{id:3})},moveUp:function(t){this.buttons[4].$ob.trigger(this.event_down,{id:4})},moveDown:function(t){this.buttons[5].$ob.trigger(this.event_down,{id:5})},Reset:function(t){this.buttons[6].$ob.trigger(this.event_down,{id:6})},getZoomData:function(t){return{normX:(-this._x/this.rA).toFixed(14),normY:(-this._y/this.rA).toFixed(14),normWidth:this.iW,normHeight:this.iH,scaledX:-this._x.toFixed(14),scaledY:-this._y.toFixed(14),scaledWidth:this._w,scaledHeight:this._h,centerX:(-this._x.toFixed(14)+this.sW/2)/this.rA,centerY:(-this._y.toFixed(14)+this.sH/2)/this.rA,ratio:this.rA}},addLandmark:function(t){if(this.$loc_cont){for(var o=t.length,s=0;s<o;s++){var e=E(t[s]);this.$loc_cont.append(e),this.setLocation(e)}0<o&&this.updateLocations(this._x,this._y,this._sc,this.locations)}},attachLandmark:function(t){if(this.$loc_cont){for(var o=t.length,s=0;s<o;s++)this.setLocation(t[s]instanceof jQuery?t[s]:E("#"+t[s]));0<o&&this.updateLocations(this._x,this._y,this._sc,this.locations)}},removeLandmark:function(t){if(this.$loc_cont){if(t)for(var o=t.length,s=0;s<o;s++)for(var e=0;e<this.locations.length;e++)(t[s]instanceof jQuery&&this.locations[e].ob[0]==t[s][0]||!(t[s]instanceof jQuery)&&this.locations[e].ob.attr("id")==t[s])&&(this.locations[e].ob.remove(),this.locations.splice(e,1),e--);else 0<this.locations.length&&(this.locations[this.locations.length-1].ob.remove(),this.locations.pop());0<o&&this.updateLocations(this._x,this._y,this._sc,this.locations)}},refreshAllLandmarks:function(){var s=this,t=s.$loc_cont.children(".item");s.show_at_zoom=parseInt(s.$loc_cont.data("show-at-zoom"),10)/100,s.allow_scale=d(s.$loc_cont.data("allow-scale")),s.allow_drag=d(s.$loc_cont.data("allow-drag"));for(var o=0;o<s.locations.length;o++){var e=!1;t.each(function(){s.locations[o].ob[0]==E(this)[0]&&(e=!0)}),e||(s.locations.splice(o,1),o--)}t.each(function(){for(var t=!1,o=0;o<s.locations.length;o++)if(s.locations[o].ob[0]==E(this)[0]){t=!0;break}t||s.setLocation(E(this))}),this.updateLocations(this._x,this._y,this._sc,this.locations)},resize:function(t){var o;if(t.data){t.preventDefault();var s=(o=t.data.self).$holder.parent().width(),e=o.$holder.parent().height();o.oW&&(s=Math.min(s,o.oW)),o.sW=s,o.oH?o.oW&&o.maintain_ratio&&(o.sH=s/(o.oW/o.oH)):o.sH=e}else o=this,t.width&&(o.sW=t.width),t.height&&(o.sH=t.height),t.max_WIDTH&&(o.w_max=t.max_WIDTH),t.max_HEIGHT&&(o.h_max=t.max_HEIGHT);0!==o.w_max&&""!==o.w_max&&(o.sW=Math.min(o.sW,o.w_max)),0!==o.h_max&&""!==o.h_max&&(o.sH=Math.min(o.sH,o.h_max)),o.$holder.css({width:o.sW,height:o.sH}),0<o.bord_size&&(o.border[0].height(o.sH),o.border[1].css({height:o.sH,left:o.sW-o.bord_size}),o.border[2].width(o.sW-2*o.bord_size),o.border[3].css({width:o.sW-2*o.bord_size,top:o.sH-o.bord_size})),"center"==o.bu_align[1]&&o.$controls.css("left",parseInt((o.sW-o.cBW)/2)),"center"==o.bu_align[0]&&o.$controls.css("top",parseInt((o.sH-o.cBH)/2)),0==o.zoom_min&&(o.rF=o.checkRatio(o.sW,o.sH,o.iW,o.iH,o.zoom_fit),o.rA<o.rF&&(o.rA=o.rF)),o.focusTo({x:o.cX,y:o.cY,zoom:"",speed:10})}},E.fn.z=function(t){for(var o=this.length,s=0;s<o;s++){var e=E(this[s]),i=e.data("smoothZoom");if(i){if("getZoomData"==t)return i[t].apply(i,Array.prototype.slice.call(arguments,1));i[t]&&i[t].apply(i,Array.prototype.slice.call(arguments,1))}else"object"!==(void 0===t?"undefined":_typeof(t))&&t||e.data("smoothZoom",new n(e,t))}if("getZoomData"!==t)return this};var t=function(n,l,a){function t(t){h.cssText=t}function r(t,o){return(void 0===t?"undefined":_typeof(t))===o}function c(t,o){for(var s in t)if(h[t[s]]!==a)return"pfx"!=o||t[s];return!1}function e(t,o,s){var e=t.charAt(0).toUpperCase()+t.substr(1),i=(t+" "+m.join(e+" ")+e).split(" ");return r(o,"string")||r(o,"undefined")?c(i,o):function(t,o,s){for(var e in t){var i=o[t[e]];if(i!==a)return!1===s?t[e]:r(i,"function")?i.bind(s||o):i}return!1}(i=(t+" "+g.join(e+" ")+e).split(" "),o,s)}var o,s,p={},_=l.documentElement,d="modernizr",i=l.createElement(d),h=i.style,u=" -webkit- -moz- -o- -ms- ".split(" "),f="Webkit Moz O ms",m=f.split(" "),g=f.toLowerCase().split(" "),b={},x=[],v=x.slice,w=function(t,o,s,e){var i,n,a,r=l.createElement("div"),c=l.body,p=c||l.createElement("body");if(parseInt(s,10))for(;s--;)(a=l.createElement("div")).id=e?e[s]:d+(s+1),r.appendChild(a);return i=["&#173;","<style>",t,"</style>"].join(""),r.id=d,(c?r:p).innerHTML+=i,p.appendChild(r),c||(p.style.background="",_.appendChild(p)),n=o(r,t),c?r.parentNode.removeChild(r):p.parentNode.removeChild(p),!!n},A={}.hasOwnProperty;s=r(A,"undefined")||r(A.call,"undefined")?function(t,o){return o in t&&r(t.constructor.prototype[o],"undefined")}:function(t,o){return A.call(t,o)},Function.prototype.bind||(Function.prototype.bind=function(i){var n=this;if("function"!=typeof n)throw new TypeError;var a=v.call(arguments,1);return function t(){if(this instanceof t){var o=function(){};o.prototype=n.prototype;var s=new o,e=n.apply(s,a.concat(v.call(arguments)));return Object(e)===e?e:s}return n.apply(i,a.concat(v.call(arguments)))}});var y,z,k;y=[,"touch","csstransforms3d"],z=[,["@media (",u.join("touch-enabled),("),d,")","{#touch{top:9px;position:absolute}}"].join(""),["@media (",u.join("transform-3d),("),d,")","{#csstransforms3d{left:9px;position:absolute;height:3px;}}"].join("")].join(""),w(z,function(t,o){for(var s=l.styleSheets[l.styleSheets.length-1],e=(s&&(s.cssRules&&s.cssRules[0]?s.cssRules[0].cssText:s.cssText),t.childNodes),i={};k--;)i[e[k].id]=e[k];p.touch="ontouchstart"in n||n.DocumentTouch&&l instanceof DocumentTouch||9===(i.touch&&i.touch.offsetTop),p.csstransforms3d=9===(i.csstransforms3d&&i.csstransforms3d.offsetLeft)&&3===i.csstransforms3d.offsetHeight},k=y.length,y);for(var F in b.touch=function(){return p.touch},b.borderradius=function(){return e("borderRadius")},b.csstransforms=function(){return!!e("transform")},b.csstransforms3d=function(){var t=!!e("perspective");return t&&"webkitPerspective"in _.style&&(t=p.csstransforms3d),t},b)s(b,F)&&(o=F.toLowerCase(),p[o]=b[F](),x.push((p[o]?"":"no-")+o));return t(""),i=null,p._version="2.5.3",p._prefixes=u,p._domPrefixes=g,p._cssomPrefixes=m,p.testProp=function(t){return c([t])},p.testAllProps=e,p.testStyles=w,p.prefixed=function(t,o,s){return o?e(t,o,s):e(t,"pfx")},p}(this,this.document),T=t.prefixed("transform"),C=t.prefixed("transformOrigin"),R=t.prefixed("borderRadius"),N=t.csstransforms3d,P=t.touch}(jQuery,window,document),function(a){function o(t){var o=t||window.event,s=[].slice.call(arguments,1),e=0,i=0,n=0;return(t=a.event.fix(o)).type="mousewheel",o.wheelDelta&&(e=o.wheelDelta/120),o.detail&&(e=-o.detail/3),n=e,void 0!==o.axis&&o.axis===o.HORIZONTAL_AXIS&&(n=0,i=-1*e),void 0!==o.wheelDeltaY&&(n=o.wheelDeltaY/120),void 0!==o.wheelDeltaX&&(i=-1*o.wheelDeltaX/120),s.unshift(t,e,i,n),(a.event.dispatch||a.event.handle).apply(this,s)}var s=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var t=s.length;t;)a.event.fixHooks[s[--t]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=s.length;t;)this.addEventListener(s[--t],o,!1);else this.onmousewheel=o},teardown:function(){if(this.remove_eventListener)for(var t=s.length;t;)this.remove_eventListener(s[--t],o,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}(jQuery),jQuery(function(s){var e=s(document),t=s("#cont"),i=s("#settings");i.addClass("noSel");var n=s("#barSmooth").css({left:smPos+"px"}),a=s("#barSmooth_t").css({left:smPos-3+"px","-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","user-select":"none",cursor:"default"}).hide().addClass("noSel"),r=!1;n.bind("mouseover",function(t){n.css("background-position","-1025px 0px"),l||a.show()}).bind("mouseout",function(t){r||(n.css("background-position","-1011px 0px"),a.hide())}).bind("mousedown",function(t){r=!0,a.show(),n.css("background-position","-1025px 0px"),offX=t.pageX-i.offset().left-n.position().left,e.bind("mousemove.preview",function(t){var o=t.pageX-i.offset().left-offX;o<112&&(o=108),194<o&&(o=198),148<o&&o<158&&(o=153),n.css({left:o+"px"}),a.css({left:o-3+"px"});var s=setSmooth(n.position().left);return setLable(a,s),!1});var o=setSmooth(n.position().left);setLable(a,o),t.stopPropagation(),s.browser.msie||t.preventDefault()}).addClass("noSel"),n.bind("touchstart.preview",function(t){t.preventDefault(),offX=t.originalEvent.changedTouches[0].pageX-i.offset().left-n.position().left,r=!0;var o=setSmooth(n.position().left);setLable(a,o),n.css("background-position","-1025px 0px"),a.show()});var c=s("#barSpeed").css({left:spPos+"px"}),p=s("#barSpeed_t").css({left:spPos-3+"px","-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","user-select":"none",cursor:"default"}).hide().addClass("noSel"),l=!1;c.bind("mouseover",function(t){c.css("background-position","-1025px 0px"),r||p.show()}).bind("mouseout",function(t){l||(c.css("background-position","-1011px 0px"),p.hide())}).bind("mousedown",function(t){l=!0,p.show(),c.css("background-position","-1025px 0px"),offX=t.pageX-i.offset().left-c.position().left,e.bind("mousemove.preview",function(t){var o=t.pageX-i.offset().left-offX;o<112&&(o=108),194<o&&(o=198),148<o&&o<158&&(o=153),c.css({left:o+"px"}),p.css({left:o-3+"px"});var s=setSpeed(c.position().left);return setLable(p,s),!1});var o=setSpeed(c.position().left);setLable(p,o),t.stopPropagation(),s.browser.msie||t.preventDefault()}).addClass("noSel"),c.bind("touchstart.preview",function(t){t.preventDefault(),offX=t.originalEvent.changedTouches[0].pageX-i.offset().left-c.position().left,l=!0;var o=setSmooth(c.position().left);setLable(p,o),c.css("background-position","-1011px 0px"),p.show()}),e.bind("mouseup.preview",function(t){r&&(r=!1,a.hide(),e.unbind("mousemove.preview"),(o=t.pageX-i.offset().left-offX)<112&&(o=108),194<o&&(o=198),148<o&&o<158&&(o=153),n.css({left:o+"px"}),a.css({left:o-3+"px"}),s=setSmooth(n.position().left),setLable(a,s),n.css("background-position","-1011px 0px"));if(l){var o;l=!1,p.hide(),e.unbind("mousemove.preview"),(o=t.pageX-i.offset().left-offX)<112&&(o=108),194<o&&(o=198),148<o&&o<158&&(o=153),c.css({left:o+"px"}),p.css({left:o-3+"px"});var s=setSpeed(c.position().left);setLable(p,s),c.css("background-position","-1011px 0px")}}),t.bind("touchmove.preview",function(t){if(t.preventDefault(),r){(s=t.originalEvent.changedTouches[0].pageX-i.offset().left-offX)<112&&(s=108),194<s&&(s=198),148<s&&s<158&&(s=153),n.css({left:s+"px"}),a.css({left:s-3+"px"});var o=setSmooth(n.position().left);setLable(a,o)}if(l){var s;(s=t.originalEvent.changedTouches[0].pageX-i.offset().left-offX)<112&&(s=108),194<s&&(s=198),148<s&&s<158&&(s=153),c.css({left:s+"px"}),p.css({left:s-3+"px"});o=setSpeed(c.position().left);setLable(p,o)}}),t.bind("touchend.preview",function(t){t.preventDefault(),r&&(r=!1,a.hide(),setSmooth((n.position().left-108)/100*10),n.css("background-position","-1011px 0px")),l&&(l=!1,p.hide(),setSpeed((c.position().left-108)/100*10),c.css("background-position","-1011px 0px"))}),s("#cont").addClass("noSel"),s(".noSel").each(function(){this.onselectstart=function(){return!1}}),s("#s"+sample).css({"background-position":-111*(sample-1)+"px -44px",cursor:"pointer"}),s("#s1").bind("mouseover",function(t){1!==sample&&s(this).css({"background-position":"0px -22px",cursor:"pointer"})}).bind("mouseout",function(t){1!==sample&&s(this).css({"background-position":"0px 0px",cursor:"default"})}).bind("click",function(t){1!==sample&&(s(this).css("background-position","0px -44px"),s("#s2").css("background-position","-111px 0px"),s("#s3").css("background-position","-222px 0px"),s("#s4").css("background-position","-333px 0px"),s("#s5").css("background-position","-444px 0px"),s("#s6").css("background-position","-555px 0px"),s("#s7").css("background-position","-666px 0px"),sample=1)}),s("#s2").bind("mouseover",function(t){2!==sample&&s(this).css({"background-position":"-111px -22px",cursor:"pointer"})}).bind("mouseout",function(t){2!==sample&&s(this).css({"background-position":"-111px 0px",cursor:"default"})}).bind("click",function(t){2!==sample&&(s(this).css("background-position","-111px -44px"),s("#s1").css("background-position","0px 0px"),s("#s3").css("background-position","-222px 0px"),s("#s4").css("background-position","-333px 0px"),s("#s5").css("background-position","-444px 0px"),s("#s6").css("background-position","-555px 0px"),s("#s7").css("background-position","-666px 0px"),sample=2)}),s("#s3").bind("mouseover",function(t){3!==sample&&s(this).css({"background-position":"-222px -22px",cursor:"pointer"})}).bind("mouseout",function(t){3!==sample&&s(this).css({"background-position":"-222px 0px",cursor:"default"})}).bind("click",function(t){3!==sample&&(s(this).css("background-position","-222px -44px"),s("#s1").css("background-position","0px 0px"),s("#s2").css("background-position","-111px 0px"),s("#s4").css("background-position","-333px 0px"),s("#s5").css("background-position","-444px 0px"),s("#s6").css("background-position","-555px 0px"),s("#s7").css("background-position","-666px 0px"),sample=3)}),s("#s4").bind("mouseover",function(t){4!==sample&&s(this).css({"background-position":"-333px -22px",cursor:"pointer"})}).bind("mouseout",function(t){4!==sample&&s(this).css({"background-position":"-333px 0px",cursor:"default"})}).bind("click",function(t){4!==sample&&(s(this).css("background-position","-333px -44px"),s("#s1").css("background-position","0px 0px"),s("#s2").css("background-position","-111px 0px"),s("#s3").css("background-position","-222px 0px"),s("#s5").css("background-position","-444px 0px"),s("#s6").css("background-position","-555px 0px"),s("#s7").css("background-position","-666px 0px"),sample=4)}),s("#s5").bind("mouseover",function(t){5!==sample&&s(this).css({"background-position":"-444px -22px",cursor:"pointer"})}).bind("mouseout",function(t){5!==sample&&s(this).css({"background-position":"-444px 0px",cursor:"default"})}).bind("click",function(t){5!==sample&&(s(this).css("background-position","-444px -44px"),s("#s1").css("background-position","0px 0px"),s("#s2").css("background-position","-111px 0px"),s("#s3").css("background-position","-222px 0px"),s("#s4").css("background-position","-333px 0px"),s("#s6").css("background-position","-555px 0px"),s("#s7").css("background-position","-666px 0px"),sample=5)}),s("#s6").bind("mouseover",function(t){6!==sample&&s(this).css({"background-position":"-555px -22px",cursor:"pointer"})}).bind("mouseout",function(t){6!==sample&&s(this).css({"background-position":"-555px 0px",cursor:"default"})}).bind("click",function(t){6!==sample&&(s(this).css("background-position","-555px -44px"),s("#s1").css("background-position","0px 0px"),s("#s2").css("background-position","-111px 0px"),s("#s3").css("background-position","-222px 0px"),s("#s4").css("background-position","-333px 0px"),s("#s5").css("background-position","-444px 0px"),s("#s7").css("background-position","-666px 0px"),sample=6)}),s("#s7").bind("mouseover",function(t){7!==sample&&s(this).css({"background-position":"-666px -22px",cursor:"pointer"})}).bind("mouseout",function(t){7!==sample&&s(this).css({"background-position":"-666px 0px",cursor:"default"})}).bind("click",function(t){7!==sample&&(s(this).css("background-position","-666px -44px"),s("#s1").css("background-position","0px 0px"),s("#s2").css("background-position","-111px 0px"),s("#s3").css("background-position","-222px 0px"),s("#s4").css("background-position","-333px 0px"),s("#s5").css("background-position","-444px 0px"),s("#s6").css("background-position","-555px 0px"),sample=7)})});