2016 IEEE 18th International Conference on e-Health Networking, Applications and Services (Healthcom)

A Wearable 1-Lead Necklace ECG for Continuous Heart Rate Monitoring

Aulia A. Iskandar (Author), Reiner Kolla, Klaus Schilling
Institut für Informatik University of Würzburg
Würzburg, Germany iskandar@informatik.uni-wuerzburg.de,
kolla@informatik.uni-wuerzburg.de, schi@informatik.uni-wuerzburg.de

Wolfram Voelker
Center of Cardiovascular Medicine University of Würzburg Würzburg, Germany Voelker_W@ukw.de

Abstract—Nowadays, people are getting more and more concern on their own fitness conditions and it has become a digital healthy lifestyle movement. A basic activity tracker has given many data on the user’s movement to fulfill their daily goal of calories burned. An advance tracker can also measure heart rate with accurate activity intense level. However, consider if these fitness devices can be used for clinical diagnosis by adding an ECG, then it can be a daily health monitoring or a health assisted device by connecting it to the internet via a smartphone. To use an ECG as a wearable device, the electrode positions has to fulfill the clinical placement. A new biomedical electrodes placement is proposed in this paper to meet the practicality of a fitness lifestyle device but has a medical ECG result for continuous heart monitoring in a form of a necklace. The device has a single lead ECG analog front end that is connected to an ARM-Cortex M4 microcontroller. It uses a 4 GB memory card, rechargeable battery, and a Bluetooth Low Energy 4.0 to communicate with an Android 4.3 smartphone. The test results were taken from a 32-year-old male subject with normal heart condition. The signal acquired from the electrode placement at the backside of the neck shows Lead I waveform with 10% from the normal position amplitude value. The R-wave of every heartbeat can be seen for heart rate calculation. Therefore, it is able to do a daily heart monitoring with a lifestyle device.
Keywords—ECG; cardiology; biomedical electrodes; wearable device; clinical diagnosis.
I. INTRODUCTION
In 2012, WHO estimates that more than 17.5 million people died of cardiovascular diseases i.e. heart attack or stroke. However, 80% of premature heart attacks and strokes can be prevented [1]. Consider if the early phase of a heart attack can be detected due to the evolving gradual stages of the disease and we can capture the heart activity morphologies, then it can help to give an early warning prediction to the user before the event occurs. To do a continuous heart monitoring, we will need a wearable device that has a clinical specification but doesn't look like a medical device, so people can use it daily with a smartphone to be connected to the cloud. Several approach has been conducted to combine consumer applications with medical devices and have promising results for not only the physicians but also user friendly [2]. Another

approach is by using a dedicated telemedicine device that has all of the medical instrument at the user home a send it to a server for analysis with a state of the art QRS detection algorithm [3]. A real-time QRS algorithm can be embedded in the wearable patch devices so it possible to do an early heart diagnosis [4]. On the other hand, the dry electrode technology and contactless electrodes are promising to give better electrocardiogram (ECG) signal results even for wearable usage [5]. Besides the sensors, the smartphone technology is rapidly increasing and allow real-time digital signal processing of the ECG signal to classify different type of arrhythmia via Bluetooth connection with the ECG sensor [6]. In addition, live-saving algorithm to determine arrhythmia based on the RR interval is possible to reduce the cardiovascular disease risk [7].
The wearable ECG devices has to have a practical usage and function in our daily activities. An armband capacitivecoupled ECG can an alternative to the chest strap [8]. It is also possible from the ears-lead [9] and smart textile that can be integrated in to the garment, underwear, or cotton shirt [10]. The latest wearable patch sensor that is capable to track our movement and heart condition [11]. We tried to give another approach by the form of a lanyard/necklace that is new but has issue to the ECG signal with head movements.
In this paper, we will show you the following contribution: • Measuring the ECG signal from the subject’s backside
of the neck is possible based on the cardiac vector of Einthoven Triangle (Section II.A). • A lanyard/necklace form wearable device with a cube shape ECG monitoring device (Section II.B). • The raw signals at different electrode placement i.e. left arm – right arm and behind the neck (Section III). • The comparison analysis of the signals and movement (Section IV).
II. METHODOLOGY There are two common ways to measure the heart rate in the health wearable devices. One is to use the Photo-

978-1-5090-3370-6/16/$31.00 ©2016 IEEE

2016 IEEE 18th International Conference on e-Health Networking, Applications and Services (Healthcom)

plethysmography (PPG) that sense the volume of the blood in an artery by using reflective light and optical sensor. The changes of the light absorbance of the blood flow is correlated to the cardiac cycle. The PPG waveform can be extracted to achieve the heart rate by calculating the interval between successive peaks. However, there is an issue in determining the peaks of the waves due to the inconsistency in the waveform amplitude. Therefore, it can create error in further calculations. The other way is by using the ECG, that is by measuring the voltage difference of the heart electrical activity at different places of our body. The ECG uses passive electrodes that is attached to our skin on the chest and arm. The common placement of the wearables sensors is around the chest, so it can acquire clear signals without noise. The closer to the heart, the greater the ECG signal retrieved. This method is more accurate than the PPG because the heart waveform has a steady amplitude level.
Typically, a chest strap, a rubber patch that is placed above the heart or a smart textile sensor on a shirt is used on an ECG wearable device. Suppose we want to monitor our heart rate using an ECG by wearing a daily accessory, i.e. watch, bracelets, necklace, earphones, etc. The wearable device has to look normal so that other people doesn’t recognize the wearable as a medical device. So that the wearable consumer application seems to be a daily device but has medical grade specification ability. To accomplish this, we have to move the common electrode placement from the arm or chest to a different placement where usually an accessory is worn. It is possible to move it due to the cardiac vector based on Einthoven’s Triangle.
A. The Heart Biopotential and Heart Rate The Einthoven triangle is a three bipolar limb leads that
consist of Lead I, II, and III. The bipolar leads have two electrodes (positive (+) and negative (-)) placed around the heart with a proximally equal distances. Equation (1) is

representing the Lead I that is equal to the electric potential between left arm (LA) and right arm (RA).

Lead I = LA − RA

(1)

The heart electrical conduction signal that begins from the sinoatrial node of the heart to the atrioventricular node, stimulate and contract the cardiac muscles and then spread-out to the heart that creates a cardiac cycle. The electrode at LA and RA then captures these action potential activities of the heart cells in a one-dimension vector value.
In this research, we had chosen a 32-year old male as a subject and we moved the electrodes position from the arm to the backside of the neck (Fig. 1) to find the ECG waveform. We assume it was possible due to the vector movement of the bipolar limbs of Lead I from the original placement at the wrist to the shoulder, as shown in the Einthoven triangle. Then, we move the electrodes around the body to find a suitable position for wearable applications but still have the Lead I vector. We had decided to place the electrodes at the backside of the neck, so it can be applied as a necklace or a lanyard.
The electrodes are placed close together at the backside of the neck to represent vector Lead I and in between there is a driven right leg (DRL) electrode (Fig. 2). The function of the DRL is to give a feedback of the common-mode voltage and improve the common-mode rejection ratio (CMRR). If the electrodes are cut in to shape as same as the width of the lanyard, then it can be hidden so others can’t see it. The device then processes the acquired signal from the body. If we plot the data against time, then it shows the heart activity of the depolarization and repolarization of the cardiac muscles. An Rwave peak (Fig. 3) represents every heartbeat. Therefore, if we want to calculate the heart rate, then we have to find the period between each heart beat. The interval between R-waves is called R-R interval.

Heart Rate (bpm) = 60 / R-R interval

(2)

Fig. 1. Illustration of the Einthoven Triangle with a new electrode placement behind the neck.

Fig. 3. R-wave and R-R Interval of the subject Lead II.

Fig. 2. The backside of the neck electrode placements.

Fig. 4. The subject using the necklace-form 1-lead ECG.

2016 IEEE 18th International Conference on e-Health Networking, Applications and Services (Healthcom)

Fig. 5. Lead I measurement between left arm and right arm.

Fig. 6. ECG signal from the backside of the neck.

Fig. 7. ECG signal from the backside of the neck with head movement.

Then, 60 seconds is divided by the R-R interval to have the value of heart beats per minute (bpm) (2).
B. Wearable Electrocardiogram Design Three dry Ag/AgCl electrodes were placed at the back side
of the neck that represent the Lead I clinical positions (RADRL-LA) to a single lead ECG analog front end (AFE) (AD8232). The AFE is configured with a 0.5 Hz two-pole high-pass filter followed by a 40 Hz two-pole low-pass filter for monitoring the ECG waveform. The AFE's op-amp has a total system gain of 1100 to measure the millivolts heart biopotential signals. Therefore, it can be read by a 10-bit analog-to-digital converter (ADC) at 200 samples/sec in the 32-bit ARM-Cortex M4 microcontroller (Teensy 3.2) with 16 MHz clock speed. The signal is acquired and stored in the RAM then later saved in the 4 GB memory card via microSD module. The device is controlled by a smartphone with Android 4.3 via a Bluetooth Low Energy 4.0 module (nRF51822) Bluefruit LE UART Friend and powered by a LiPo Battery 3.7V, 220 mAh that is supported by a 3.3V StepUp/Step-Down Voltage Regulator (S7V8F3) and Li-Po Battery Charger (MCP73831).
We have designed and implemented the PCB into a 3D printed plastic cube shape with the dimension 4.2 x 4.2 x 2.8 cm that can be hooked to a lanyard or a necklace. In Fig. 4 is the subject wearing the device and it can be seen that the device looks like a daily accessory. There are no buttons and only have a micro USB port for data transfer, flash programming and charging. The two LEDs are to indicate the device power status and Bluetooth connection.
III. RESULTS The placement of the electrodes at the backside of the neck has an advantage in the daily look that wasn’t noticeable by others and the ECG hardware can be hang in front by the lanyard as medallion. In addition, it doesn’t interfere in daily activities or movements. To begin the heart monitoring, we need to use the Bluetooth serial console on the smartphone to

start recording. Then, the 10-bit 200 sample/sec raw data records will be stored in the memory and later in the microSD. Data are transferred to the PC from microSD for plotting and analyzing the signals.
For a base reference, we used the device to measure the Lead I ECG waveform at the typical clinical electrode position, such as between the left arm and right arm (Fig. 5). It shows the ECG waveform can be seen clearly with the amplitude approx. 1.5 mV and has small noises. In addition, the period between every heartbeat, which is represented by the peaks, can be measured with approx. 1 second between one another peaks. It means that the heart rate is around 60 bpm in a normal relax condition.
In Fig. 6, the new measurement placement from behind the neck shows that it has a similarity to the Lead I waveform. It has more noises than the normal position and the amplitude has drop to 0.15 mV. However, we can still see the peaks of every heart beat and measure the periods in between approx. 1 seconds or 60 bpm. The results at this stage is promising.
We have tested the device with the subject in a steady relaxed sitting position but we also want to see with minor head movements. In Fig. 7, at the first 3 seconds, we can see that the ECG waveform in every peak is clear with a normal rhythm but when the subject’s head starts to move facing to the right side then it shows lots of artifacts. The artifacts amplitude itself is greater that the ECG signal, so we can’t see the heart beat peaks any more. There is also sign of a wondering base line signal in the artifacts.
The motion artifact is continuously appearing if the head motion is facing to the left or the right. Also, when looking up or down but the artifact amplitude is less than previous. The artifact will stop if the motion has stop, i.e. if we turn our head to the right, at the beginning, there will be no artifacts but when it is moving then the artifacts appear and ended as our head is facing to the right and vice versa.

2016 IEEE 18th International Conference on e-Health Networking, Applications and Services (Healthcom)

IV. DISCUSSIONS It is clear that in every heart beat without head movement the R-wave can be seen and can be detected using the Pan and Tompkins QRS algorithm detection for heart rate calculation. This algorithm can be applied in the microprocessor for realtime measurement and calculation with Direct Memory Access (DMA) features on board. However, if there are head movements then the R-wave can’t be seen and detected by the algorithm. These artifacts are also can be seen in other ECG based wearable devices. The duration of the test is stored and processed every 20 minutes to analyze the data in a small batch with video records to see the head and body movements. The whole day measurements will use approx. 75 MB space in the memory card without any compression in a comma-separated version (.csv). The device has been calibrated with a Fluke patient monitoring simulator with normal sinus rhythm at various amplitudes. The microcontroller clock speed at 16 MHz was enough to do a 200 Hz continuously signal acquisition and store it in the memory for further digital signal processing. The performance of the single chip analog-front-end and the supporting amplifiers and filters can be seen by the clear ECG signal with small noise and high signal-to-noise ratio. The driven right leg amplifier circuit that feedbacks’ the common mode signals gave a better signal by reducing the common noise. The two-pole 0.5 Hz high pass filtered most of the 50 Hz power line interference and two pole 40 Hz low pass filters. The total gain of the system was 1100 V/V but with the low amplitude signals at the backside of the neck, then we need to amplify it more around 11000 V/V for better results. In addition, higher CMRR is preferred to reduce the noise at low amplitude but it is possible to do a digital processing in the microcontroller itself.
V. CONCLUSIONS In this research, we have achieved to design and implement a new approach in the health wearable devices by combining the practicality of the fitness activity products and medical grade ECG for clinical applications. The necklace shape device measures the heart electrical activity from three electrode placed at the backside of the neck and acquire by a single chip single-lead analog-front-end ECG and a 200 samples/sec ADC on an ARM-Cortex M4 microcontroller. It uses a 4 GB memory card, rechargeable battery, and a Bluetooth Low Energy 4.0 to communicate with an Android 4.3 smartphone. By measuring the ECG signal from the backside of the neck, it is possible to move around the cardiac vector of Einthoven Triangle with an even distance and still have the ECG waveform. Therefore, a lanyard/necklace form wearable device with a cube shape ECG device is feasible to monitor the heart rate in a steady relaxed sitting position without head movements. The R-wave of every heartbeat can be seen even though the amplitude value is reduced to 0.15 mV. With this signal results, we can calculate the heart rate continuously and accurately in a way that fits in the lifestyle consumer device without the looks of a medical device.

Due to the motion artifacts, this device is suggested to be used for elderly people in a home healthcare system with gentle movements for continuous heart monitoring. They can wear it normally and do their normal activity at home without the impression becoming a patient with heart disease that needs to be monitored in a dedicated clinic. In addition, it can be combined with a fall detection integrated in the device for emergency purpose.
A capacitive sensor or a flexible material that can be integrated with the lanyard may replace the dry electrodes that can irritate the skin and for long-term usage. The signal quality at steady position is reliable but when there is movement, many artifacts interfere the ECG signal. A real-time signalprocessing algorithm that can compensate the artifacts is needed so the daily records can be readable.
ACKNOWLEDGMENT
The author would like to thank DAAD-IGSP (Indonesian Government Scholarship Program) and Swiss German University, Indonesia for the support in this research.
REFERENCES
[1] "World Health Organization. (2015). Online Q&A: What can I do to avoid a heart attack or a stroke? [Online]. Available: http://www.who.int/features/qa/27/en/"
[2] Tarakji, Khaldoun G. et al., "Using a novel wireless system for monitoring patients after the atrial fibrillation ablation procedure: The iTransmit study," in Heart Rhythm, Volume 12, Issue 3, 554 – 559, 2016
[3] H. Khamis; R. Weiss; Y. Xie; C. W. Chen; N. Lovell; S. Redmond, "QRS Detection Algorithm for Telehealth Electrocardiogram Recordings," in IEEE Transactions on Biomedical Engineering , vol.PP, no.99, pp.1-1, 2016
[4] D. B. Saadi et al., "Automatic Real-Time Embedded QRS Complex Detection for a Novel Patch-Type Electrocardiogram Recorder," in IEEE Journal of Translational Engineering in Health and Medicine, vol. 3, no. , pp. 1-12, 2015.
[5] Y. M. Chi, T. P. Jung and G. Cauwenberghs, "Dry-Contact and Noncontact Biopotential Electrodes: Methodological Review," in IEEE Reviews in Biomedical Engineering, vol. 3, no. , pp. 106-119, 2010.
[6] S. Gradl, P. Kugler, C. Lohmüller and B. Eskofier, "Real-time ECG monitoring and arrhythmia detection using Android-based mobile devices," 2012 Annual International Conference of the IEEE Engineering in Medicine and Biology Society, San Diego, CA, 2012, pp. 2452-2455.
[7] H. Leutheuser et al., "Arrhythmia classification using RR intervals: Improvement with sinusoidal regression feature," 2015 IEEE 12th International Conference on Wearable and Implantable Body Sensor Networks (BSN), Cambridge, MA, 2015, pp. 1-5.
[8] V. P. Rachim; W. Y. Chung, "Wearable Noncontact Armband for Mobile ECG Monitoring System," in IEEE Transactions on Biomedical Circuits and Systems , vol.PP, no.99, 2015, pp.1-7
[9] T. W. Shen, Tim Hsiao, Yu-Tsung Liu and Tsung-Ying He, "An earlead ECG based smart sensor system with voice biofeedback for daily activity monitoring," TENCON 2008 - 2008 IEEE Region 10 Conference, Hyderabad, 2008, pp. 1-6.
[10] Y. L. Zheng et al., "Unobtrusive Sensing and Wearable Devices for Health Informatics," in IEEE Transactions on Biomedical Engineering, vol. 61, no. 5, pp. 1538-1554, May 2014.
[11] M. Etemadi et al., "A Wearable Patch to Enable Long-Term Monitoring of Environmental, Activity and Hemodynamics Variables," in IEEE Transactions on Biomedical Circuits and Systems, vol. 10, no. 2, pp. 280-288, April 2016.

