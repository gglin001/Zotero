第 ３３卷　第 ３Ａ期 ２０１７年 ３月

信号处理 ＪＯＵＲＮＡＬＯＦＳＩＧＮＡＬＰＲＯＣＥＳＳＩＮＧ

文章编号：１００３－０５３０（２０１７）３Ａ－００７３－０６

Ｖｏｌ．３３　Ｎｏ．３Ａ Ｍａｒ．２０１７

自然光条件下使用普通摄像头实现心率测量

马　良　刘　琚
（山东大学信息科学与工程学院，山东济南 ２５０１００）

摘　要：心率作为与心血管疾病密切相关的生理指标，在临床诊断以及日常监测中起着重要作用。本文利用成像 式光电容积描记技术的原理，设计了一款心率监测系统，实现了在自然光条件下使用普通摄像头采集面部视频 信号，并通过处理分析得到被测者心率的功能。首先使用摄像头采集被测者的面部视频信号，截取额头部位作 为感兴趣区域，然后使用欧拉放大方法处理图像，求得图像灰度均值，得到血液容积脉搏波波形，最后转化至 频域求得心率。本系统使用器材简单，操作简便，可以快速准确地测得被测者的心率。 关键词：心率；成像式光电容积描记技术；普通摄像头；自然光 中图分类号：ＴＰ３９１　　　文献标识码：Ａ　　　ＤＯＩ：１０．１６７９８／ｊ．ｉｓｓｎ．１００３０５３０．２０１７．３Ａ．０１２

ＡＨｅａｒｔＲａｔｅＤｅｔｅｃｔｉｏｎＳｙｓｔｅｍ ｂｙＵｓｉｎｇＯｒｄｉｎａｒｙＣａｍｅｒａ ｕｎｄｅｒＮａｔｕｒａｌＬｉｇｈｔＣｏｎｄｉｔｉｏｎｓ

ＭＡＬｉａｎｇ　ＬＩＵＪｕ
（ＳｃｈｏｏｌｏｆＩｎｆｏｒｍａｔｉｏｎＳｃｉｅｎｃｅａｎｄＥｎｇｉｎｅｅｒｉｎｇ，ＳｈａｎｄｏｎｇＵｎｉｖｅｒｓｉｔｙ，Ｊｉｎａｎ，Ｓｈａｎｄｏｎｇ２５０１００，Ｃｈｉｎａ）

Ａｂｓｔｒａｃｔ：Ｈｅａｒｔｒａｔｅｉｓｃｌｏｓｅｌｙｒｅｌａｔｅｄｔｏｃａｒｄｉｏｖａｓｃｕｌａｒｄｉｓｅａｓｅ，ａｎｄｉｔｐｌａｙｓａｎｉｍｐｏｒｔａｎｔｒｏｌｅｉｎｃｌｉｎｉｃａｌｄｉａｇｎｏｓｉｓａｎｄｒｏｕ ｔｉｎｅｄｅｔｅｃｔｉｏｎ．Ｉｎｔｈｉｓｐａｐｅｒ，ｗｅｄｅｓｉｇｎａｈｅａｒｔｒａｔｅｄｅｔｅｃｔｉｏｎｓｙｓｔｅｍｂｙｕｓｉｎｇｔｈｅｉｍａｇｉｎｇｐｈｏｔｏｐｌｅｔｈｙｓｍｏｇｒａｐｈｙ．Ｉｔｕｓｅｓｏｒ ｄｉｎａｒｙｃａｍｅｒａｔｏｃｏｌｌｅｃｔｆａｃｅ’ｓｓｉｇｎａｌｔｏａｎａｌｙｚｅｐｅｒｓｏｎ’ｓｈｅａｒｔｒａｔｅｕｎｄｅｒｎａｔｕｒａｌｌｉｇｈｔｃｏｎｄｉｔｉｏｎｓ．Ｉｔｕｓｅｓｏｒｄｉｎａｒｙｃａｍｅｒａｔｏ ｃｏｌｌｅｃｔｆａｃｅ’ｓｓｉｇｎａｌｆｉｒｓｔｌｙ，ｔａｋｅｓｔｈｅｆｏｒｅｈｅａｄａｓｒｅｇｉｏｎｏｆｉｎｔｅｒｅｓｔ，ｔｈｅｎｐｒｏｃｅｓｓｉｍａｇｅｓｂｙＥｕｌｅｒｉａｎＶｉｄｅｏＭａｇｎｉｆｉｃａｔｉｏｎ， ｇｅｔｓｍｅａｎｖａｌｕｅｏｆｇｒａｙｉｍａｇｅｓ，ｇｅｔｓｔｈｅｂｌｏｏｄｖｏｌｕｍｅｐｕｌｓｅ，ａｎｄｇｅｔｓｔｈｅｈｅａｒｔｒａｔｅｂｙｃｈａｎｇｉｎｇｓｉｇｎａｌｉｎｔｏｆｒｅｑｕｅｎｃｙｆｉｎａｌｌｙ． Ｔｈｅｓｙｓｔｅｍｉｓｅａｓｙｔｏｏｐｅｒａｔｅｂｙｕｓｉｎｇｓｉｍｐｌｅｔｏｏｌｓ，ａｎｄｉｔｃａｎｇｅｔｐｅｒｓｏｎ’ｓｈｅａｒｔｒａｔｅｑｕｉｃｋｌｙａｎｄａｃｃｕｒａｔｅｌｙ． Ｋｅｙｗｏｒｄｓ：ｈｅａｒｔｒａｔｅ；ｉｍａｇｉｎｇｐｈｏｔｏｐｌｅｔｈｙｓｍｏｇｒａｐｈｙ；ｏｒｄｉｎａｒｙｃａｍｅｒａ；ｎａｔｕｒａｌｌｉｇｈｔ

１　引言
现代社会，随 着 生 活 水 平 的 不 断 提 高，生 活 工 作状态的改 变，以 及 人 口 年 龄 结 构 的 改 变，心 血 管 疾病的发病率明显升高。国家心血管病中心发布 的《中国心血管病报告 ２０１５》披露，２０１４年我国心 血管病死亡率位居各病种首位，因心血管病造成的 死亡人数超过 ３７０万［１］。心血管病的早期预防、日 常监测、诊断治疗等任务异常艰巨。
心率作为与心血管疾病密切相关的生理指标， 在临床诊断以及日常检测中起着重要作用。目前 医学上检测心率主要使用心电监护仪，市场上常见

的心率监测简易设备还有指夹式脉搏监测仪。然 而这两种检 测 手 段，设 备 较 为 复 杂，需 要 接 触 被 测 者体表进行测量，不适用于新生儿或者烧伤烫伤病 人；而且有 些 还 需 要 专 业 医 护 人 员 操 作，并 不 适 用 于日常检测。随着人们对于自身健康状况的关注 程度不断加 深，人 们 对 于 能 够 随 时 随 地、快 速 简 便 地检测出心率等生理指标的方案存在较大需求。
因此，非接触式生理信号检测设备研究逐渐受 到关注。非接触式生理信号检测设备通过光学、声 波、磁场等 手 段，在 不 接 触 人 体 的 情 况 下 实 现 对 某 些生理指标的测量。如何利用低成本的简单设备， 进行简易的 操 作，得 到 比 较 准 确 的 生 理 参 数，是 现

收稿日期：２０１６－１０－２９；修回日期：２０１７－０２－２２ 基金项目：山东省自主创新级成果转化专项计划（２０１５ＺＤＸＸ０８０１Ａ０１）

７４

信号处理

第 ３３卷

阶段研究的重点。 ２０００年，ＡＴＷｕ等人在传统的需要接触测量的
光电容积描记技术（ＰＰＧ）的基础上，提出了非接触 式的成 像 式 光 电 容 积 描 记 技 术 （ＩＰＰＧ）［２］。 他 们 使 用 ８７０ｎｍ波长的红外光作为光源照射皮肤表面，通 过加有滤光片的黑白相机接收反射光，在获得的每 一帧图像上选取相同位置作为感兴趣区域，计算出 感兴趣区域的灰度均值随时间变化的波形，就得到 了反应测量皮肤区域血流变化的 ＰＰＧ信号。
２０１３年，新加坡国立大学的 ＹｕＳｕｎ等人利用 ＩＰＰＧ技术对脉搏变异信号进行了非接触式测量［３］。 他们使用 ８８０ｎｍ波长的红外光源，使用高速 ＣＭＯＳ 相机采集视频信号，将测得的结果与传统的接触式 测量方法得到的结果进行对比后发现两种方法测 得的结果一致。
２０１０年开始，美国麻省理工学院的 ＭｉｎｇＺｈｅｒ Ｐｏｈ等人发表 了 一 系 列 文 章，提 出 了 一 种 基 于 网 络 摄像头的非接触式生理测量方案［４６］。他们利用成 像式光电容积描记技术（ＩＰＰＧ），使用普通的网络摄 像头，在自 然 光 条 件 下 采 集 视 频 信 号，进 行 处 理 分 析后得到 血 液 容 积 脉 搏 波，进 一 步 处 理 得 到 心 率， 成本低廉而且准确率较高。
ＡＴＷｕ、ＹｕＳｕｎ和 ＭｉｎｇＺｈｅｒＰｏｈ等人的研究， 为使用简易器材在非接触条件下实现某些生理参 数的检测提供了支持。
２　利用 ＩＰＰＧ技术测量心率的原理
心率指心脏每分钟跳动的次数，以第一心音为 准［７］。医学上 最 为 准 确 的 测 量 心 率 的 方 法 是 通 过 心电图计算直接得到。在实际应用中测量心率更 常用间接方 法，主 要 包 括 光 电 法 （主 要 应 用 于 各 种 光电设备）和 压 力 震 荡 法 （主 要 应 用 于 电 子 血 压 计 上）。准确 的 说 以 上 两 种 间 接 方 法 测 得 的 是 脉 率， 即每分钟心脏有效搏动产生脉搏的次数。正常情 况下人的脉率与心率相等，但在某些特殊情况下也 会出现脉率和心率不一致的情况，如房颤病人会出 现脉搏短绌症状，导致脉率比心率少。考虑到心电 图测量设备 复 杂、手 续 繁 琐、需 要 专 业 医 护 人 员 操 作、容易受 到 电 磁 干 扰 等 缺 点，而 且 实 际 应 用 中 通 常也使用由电子血压计、血氧仪等测得的脉率替代 心率，房颤 病 人 等 一 般 都 有 特 殊 监 护，因 此 在 普 通 检测时，通 常 使 用 间 接 方 法 快 捷 简 便 地 监 测 脉 率，

并以此替代心率。本文也以脉率来代替心率。 随着心 脏 跳 动，血 管 中 的 血 液 量 是 不 断 变 化
的。当心脏 向 外 泵 血 时，血 管 中 血 液 量 增 加，皮 肤 表面血管对光线的吸收也随之增加，而其他组织对 于光线的 吸 收 基 本 不 变，皮 肤 反 射 的 光 线 相 应 减 少；当血液回流心脏时，血管中的血液量减少，皮肤 表面血管对光线的吸收也随之减少，而其他组织对 于光线的 吸 收 基 本 不 变，皮 肤 反 射 的 光 线 相 应 增 加。即皮肤的反射光线变化可以反映心血管活动 状况，通过对一段时间内皮肤反射光线的变化波形 进行相应处理，可以得到心率等生理信号。这就是 ＩＰＰＧ技术的基本原理。
市面上现有的指夹式脉搏血氧仪，需要在紧密 接触皮肤的条件下，采用特定光源发射一定波长的 光线（一般为 ８８０ｎｍ波长的红外光，血液对此波长 光线吸收最 明 显 ），经 过 手 指 部 位 的 皮 肤 等 组 织 被 传感探头采集，从而得到穿过手指部位的光线变化 曲线，从中 提 取 心 率、血 氧 等 生 理 信 号。 但 随 着 信 号处理技术的发展，可以采集皮肤表面对普通自然 光的反射 光 线，通 过 信 号 的 分 离、放 大、滤 波 等 处 理，得到反 射 光 线 的 变 化 曲 线，从 中 提 取 出 心 率 等 生理信号。
ＭｉｎｇＺｈｅｒＰｏｈ等人利用 ＩＰＰＧ技术实现心率测 量的基本方法如下：
（１）使用 一 台 带 有 内 置 摄 像 头 的 笔 记 本 电 脑， 被测者坐于 电 脑 前，面 对 摄 像 头 保 持 静 止，与 摄 像 头距离 ０．５米左右，录制一段 １分钟的彩色视频（２４ 位 ＲＧＢ颜色通道×８位 ／通道）。视频帧率为 １５帧 ／ 秒，６４０×４８０像素，ＡＶＩ格式；
（２）在视频中选取面部 区 域 作 为 信 号 提 取 区 域，将面部区域信号分解为红、绿、蓝三个颜色通道 信号；
（３）将每个颜色通道信号进行平滑处理和归一 化处理，分 解 成 三 个 独 立 的 源 信 号，使 用 独 立 成 分 分析（ＩＣＡ）方法进行运动伪影去除，得到血液容积 脉搏波（ＢＶＰ）；
（４）使用五点滑动平均法滤波器和带通滤波器 （１２８点汉明窗，０．７～４赫兹）对 ＢＶＰ信号进行处 理，检测 ＢＶＰ波形峰值。
（５）分析 ＢＶＰ波形的功率谱密度，功率谱峰值 处对应的频率即为心率的频率。
在 ＭｉｎｇＺｈｅｒＰｏｈ等人的方法中，在信号处理部

第 ３Ａ期

马　良 等：自然光条件下使用普通摄像头实现心率测量

７５

分，他们将视频信号分解为红色、绿色、蓝色三条颜 色通道，然后利 用 独 立 成 分 分 析 （ＩＣＡ）得 到 血 液 容 积脉搏波（ＢＶＰ），其中绿色通道得到的血液容积脉 搏波波形较好。
最简单的信号处理方法是将感兴趣区域转化 为灰度图，求 得 其 灰 度 均 值，将 每 一 帧 视 频 图 像 中 感兴趣区域的灰度均值沿时间轴绘制变化曲线，即 可得到 ＩＰＰＧ曲线，即血液容积脉搏波（ＢＶＰ）。
在徐光等人的方法中，他们对图像进行了降噪 处理，然后使用 ９阶 ＩＩＲ巴特沃斯带通滤波器对得 到的光电容积脉搏波信号进行滤波处理，选用的通 带频率为 ０．５～４Ｈｚ，通过低通滤波部分滤除高频 噪声的干扰，通过高通滤波部分滤除低频噪声的干 扰以及信 号 中 存 在 的 直 流 分 量［８］。 最 终 得 到 血 液 容积脉搏波（ＢＶＰ）。
２０１２年，麻省理工学院的 ＨａｏＹｕＷｕ等人提出 了一种叫做欧拉影像放大技术（ＥｕｌｅｒｉａｎＶｉｄｅｏＭａｇ ｎｉｆｉｃａｔｉｏｎ，ＥＶＭ）的 方 法，在 空 间 和 时 域 内 对 视 频 图 像进行处理，对视频中肉眼不易观察到的细微变化 进行放大［９］。ＮｅａｌＷａｄｈｗａ等人对欧拉放大技术进 行了改进，提 出 了 基 于 相 位 的 视 频 运 动 处 理 方 法， 在放大动作 的 同 时 平 移 噪 声，避 免 了 放 大 噪 声，可 以得到更好的效果［１０］。

为稳定的结果。一般应保证 １０～２０秒的采集时间 以确保结果的准确性。如图 ２所示。
图 １　心率监测系统流程图 Ｆｉｇ．１　Ｆｌｏｗｃｈａｒｔｏｆｈｅａｒｔｒａｔｅｄｅｔｅｃｔｉｏｎｓｙｓｔｅｍ
图 ２　心率监测系统示意图 Ｆｉｇ．２　Ｄｉａｇｒａｍ ｏｆｈｅａｒｔｒａｔｅｄｅｔｅｃｔｉｏｎｓｙｓｔｅｍ

３　基于普通摄像头的心率监测系统的实现
本设计分 为 视 频 采 集 部 分、信 号 处 理 部 分、结 果呈现部分三个模块。
在视频采集部分，使用加有 ２００万像素的 ＣＳ Ｓ２８１２监控变焦镜头的索尼工业 ＣＣＤ低照度彩色摄 像头作为视频采集器材，直接在自然光条件下进行视 频采集，不需要附加光源。在信号处理部分，使用树 莓派 Ｂ型开发板，完成对采集到的视频的实时先处 理，主要步骤有检测追踪人脸、截取额头部位作为感 兴趣区域、使用欧拉放大方法处理图像、求得图像灰 度均值并绘制成随时间的变化曲线即为血液容积脉 搏波、转化为频域信号求得心率。在结果呈现部分使 用显示器显示测得的血液容积脉搏波和其频域波形， 指示心率。其流程图如图 １所示。
在自然光条件下，被测者端坐于摄像头前 ０．５ 米处，面部正对摄像头，尽量保持静止，保证摄像头 能采集到较为清晰的面部区域。经处理后得到的 结果大概 ３秒钟后即可呈现，５秒钟左右可得到较

３．１　硬件系统搭建 利用 ＩＰＰＧ技术进行非接触式心率测量时，信
号采集 设 备 的 成 像 质 量 对 于 后 续 结 果 影 响 较 大。 使用网络 摄 像 头 虽 然 成 本 较 低，但 由 于 其 帧 率 低， 成像质量较差，测得的心率等生理参数准确率相对 偏低，而且不能拓展测量血氧饱和度等对成像质量 要求 较 高 的 生 理 参 数 。 ［１１］ 因 此 我 们 选 用 普 通 的 ＣＣＤ摄 像 头 及 镜 头，一 方 面 价 格 不 是 很 高，另 一 方 面成像质量较高。
摄像头选取索尼工业 ＣＣＤ低照度彩色摄像头， 其主要参数如表 １所示。

表 １　索尼工业 ＣＣＤ彩色摄像头参数 Ｔａｂ．１　ＰａｒａｍｅｔｅｒｏｆＳＯＮＹＣＣＤｃｏｌｏｒｃａｍｅｒａ

图像最大分辨率 每秒帧数 最低照度

９７６×５８２ ５０帧
０．０１Ｌｕｘ

成像设备的镜头选择 ＣＳＳ２８１２监控变焦镜头， 安装于摄像头前，其主要参数如表 ２所示。

７６

信号处理

第 ３３卷

表 ２　ＣＳＳ２８１２镜头参数 Ｔａｂ．２　ＰａｒａｍｅｔｅｒｏｆＣＳＳ２８１２

型号

ＣＳＳ２８１２

焦距

２．８～１２ｍｍ

变焦控制

手动

光圈控制

手动

聚焦控制

手动

像面尺寸 相对孔径
接口

１／２．７ Ｆ１：１．４
ＣＳ

分辨率

２００万像素

开发板选用树莓派 Ｂ型开发板。它是一款功 能齐全的微型电脑主板，支持多种编程语言。其主 要参数如表 ３所示。

表 ３　树莓派 Ｂ型开发板主要参数 Ｔａｂ．３　ＰａｒａｍｅｔｅｒｏｆＲａｓｐｂｅｒｒｙＰｉ

处理器

四核 １．２ＧＨｚ６４位 ＡＲＭ

内存

１ＧＢ

ＵＳＢ２端口

４个

ＨＤＭＩ接口

１个

３．２　人脸检测追踪 摄像头开始采集视频后，需要采用人脸检测算法
来确定人脸的位置，为接下来的处理做准备。本文采 用现在广泛使用的 ＡｄａＢｏｏｓｔ人脸检测算法来实现对 人脸的定位追踪。
利用 ＡｄａＢｏｏｓｔ学习算法实现人脸检测的方法最 早由英国剑桥大学的 ＰａｕｌＶｉｏｌａ和 ＭｉｃｈａｅｌＪｏｎｅｓ提 出［１２］，Ｉｎｔｅｌ公司的 ＲａｉｎｅｒＬｉｅｎｈａｒｔ和 ＪｏｃｈｅｎＭａｙｄｔ对 其做了 改 进［１３］，使 其 具 有 较 快 的 检 测 速 度、较 高 的 鲁棒性，并且能够应用于实时检测。ＡｄａＢｏｏｓｔ人脸 检测算法的主要原理如下：
（１）使用样本的 Ｈａａｒｌｉｋｅ特征表示人脸。 （２）使用 ＡｄａＢｏｏｓｔ算法进行分类器训练。 （３）将训 练 得 到 的 几 个 简 单 分 类 器 级 联，得 到 级联分类器。级联能够提高检测的速度。 （４）被检 测 的 区 域 经 过 级 联 分 类 器，就 相 当 于 该区域依次经过每一级分类器。最终能经过每层 分类器检验的区域就是想要的人脸区域。 摄像头开始采集视频后，ＡｄａＢｏｏｓｔ人脸检测算 法实时检测到的人脸区域如图 ３所示。

图 ３　检测到的人脸区域 Ｆｉｇ．３　Ｄｅｔｅｃｔｉｏｎｏｆｆａｃｅ
３．３　感兴趣区域的选取 在 ＭｉｎｇＺｈｅｒＰｏｈ等人的方法中，他们选取整个人
脸区域作为感兴趣区域，进行信号提取处理。然而眼 睛眨动会对波形产生较大的干扰，而且该干扰的频率 和心率接近，不易在后期处理中滤除，从而对心率检测 结果准确性产生影响；适当减小感兴趣区域的面积虽 然会导致噪声增加，但这些噪声存在于高频区域，对心 率结果影响较小且易于滤除［１４］。因此我们选取额头 区域作为感兴趣区域进行信号提取处理，额头区域较 为平整，且正对摄像头，信号采集的质量比较高。 ３．４　视频信号处理
欧拉放大方法的主要步骤如下： （１）将视频信号的每一帧图像分解为不同的空 间分辨率。 （２）对每个空间分辨率的图像进行时域带通滤 波处理，提取感兴趣的频带。在本文中因为我们想 提取人的心率信号，因此选取包含正常人心跳频率 的 ０．５～４Ｈｚ的通带频率。 （３）对滤波结果进行放大。对每个感兴趣频带 的信号乘以一个放大因数。 （４）将放大后的不同空间分辨率的图像和其相 对应的空间分辨率的原始图像相加，并将各不同空 间分辨率的图像合成得到最终图像。 为了提高信噪比，先将选取出来的感兴趣区域图 像进行低通带通滤波，然后对其进行欧拉放大处理， 提取感兴趣区域内的信号，将每帧图像转化为灰度 图，对各像素点灰度值的时间序列进行带通滤波，求 得每帧图像的灰度均值，绘制成灰度均值随时间变化 的曲线，即为血液容积脉搏波波形，如图 ４所示。
图 ４　血液容积脉搏波波形 Ｆｉｇ．４　Ｔｈｅｂｌｏｏｄｖｏｌｕｍｅｐｕｌｓｅ

第 ３Ａ期

马　良 等：自然光条件下使用普通摄像头实现心率测量

７７

３．５　心率的提取 从得到的血液容积脉搏波波形中提取心率数
值的方法比较简单，可以直接将血液容积脉搏波信 号进行傅里 叶 变 换，转 换 至 频 域 信 号，其 功 率 谱 的 峰值处对应的频率即为心率的频率。
以每分钟周期变化的次数作为横坐标，功率作 为纵坐标，可得到图像如图 ３～５所示。其中功率最 大值处对应的横坐标值即为心率 ７７次 ／分钟。

图 ５　ＢＶＰ波对应的功率谱 Ｆｉｇ．５　Ｔｈｅｐｏｗｅｒｓｐｅｃｔｒｕｍ ｏｆＢＶＰ

３．６　实验结果与分析 招募 １０名志愿者进行实验，分别在室内散射自
然光条件下 （无 外 加 光 源 ）以 及 夜 晚 室 内 普 通 吊 顶 日光灯照明下测量。实验分为 ２次，每次 １０组，每 组 １人，其中第 １～５组是保持平静状态一段时间后 测量的结果，第 ６～１０组是运动 ２分钟后测量的结 果。对比值采用医用电子血压计测量数值，和实验 同时测量。每组实验连续测量 ３次，取 ３次测量的 平均值作为最终记录结果。
第一次实 验，白 天，在 无 外 加 光 源 的 室 内 散 射 自然光条件下测量，实验结果如下：

表 ４　在自然光条件下的实验结果 Ｔａｂ．４　Ｔｈｅｒｅｓｕｌｔｕｎｄｅｒｎａｔｕｒａｌｌｉｇｈｔｃｏｎｄｉｔｉｏｎｓ

组别

对比值

实验值

误差

１

６７

６６．３

１．０４

２

７２

７２．８

１．１１

３

７６

７３．４

３．４２

４

７２

７４．７

３．７５

５

７７

７５．２

２．３４

６

１０８

１１０．０

１．８５

７

９７

１００．４

３．５１

８

１０１

９８．７

２．２８

９

９９

９９．５

０．５１

１０

１１４

１１１．８

１．９３

第二次实 验，夜 晚，在 室 内 普 通 吊 顶 日 光 灯 照 明下测量，实验结果如下：

表 ５　在日光灯照明下的实验结果 Ｔａｂ．５　Ｔｈｅｒｅｓｕｌｔｕｎｄｅｒｆｌｕｏｒｅｓｃｅｎｔｌａｍｐ

组别 １ ２ ３ ４ ５ ６ ７ ８ ９ １０

对比值 ７７ ７７ ６９ ７３ ７２ ９３ １０２ ８９ ９８ ９５

实验值 ８０．０ ７８．４ ６６．８ ７２．１ ７０．３ ９４．６ ９９．８ ８６．７ １００．２ ９２．８

误差 ３．９０ １．８２ ３．１９ １．２３ ２．３６ １．７２ ２．１６ ２．５８ ２．２４ ２．３２

由上述试验结果可知，本基于普通摄像头的心 率监测系统的心率测量结果最大误差不超过±４ ， 平均误差约 ２ ，能够满足日常心率监测的需求。

４　结论

本文设计了一款心率监测系统，实现了在自然光 条件下使用普通摄像头采集面部视频信号处理分析 得到被测者心率的功能。使用加有 ２００万像素的 ＣＳ Ｓ２８１２监控变焦镜头的索尼工业 ＣＣＤ低照度彩色摄 像头作为视频采集器材，使用树莓派 Ｂ型开发板作为 处理器。使用摄像头在自然光条件下采集被测者的 面部视频信号，对视频信号检测追踪到人脸后，截取 额头部位作为感兴趣区域，使用欧拉放大方法处理图 像，然后将每帧图像转化为灰度图，求得图像灰度均 值，绘制成灰度均值随时间的变化曲线，即为血液容 积脉搏波，将血液容积脉搏波转化为频域信号即可求 得心率。本系统使用器材简单，对环境要求低，操作 简便，经实际测试，本系统可以快速准确地测得被测 者的心率，可以应用于非接触测量场景。

参考文献

［１］　隋辉，陈伟伟，王文．《中国心血管病报告 ２０１５》要点 解读［Ｊ］．中国心血管杂志，２０１６，２１（４）：２５９２６１． ＳｕｉＨ，ＣｈｅｎＷ Ｗ，ＷａｎｇＷ．ＩｎｔｅｒｐｒｅｔａｔｉｏｎｏｆＲｅｐｏｒｔｏｎ ＣａｒｄｉｏｖａｓｃｕｌａｒＤｉｓｅａｓｅｓｉｎＣｈｉｎａ（２０１５）［Ｊ］．Ｃｈｉｎｅｓｅ ＪｏｕｒｎａｌｏｆＣａｒｄｉｏｖａｓｃｕｌａｒＭｅｄｉｃｉｎｅ，２０１６，２１（４）：２５９ ２６１．（ｉｎＣｈｉｎｅｓｅ）
［２］　 ＷｕＡ Ｔ，ＢｌａｚｅｋＶ，ＳｃｈｍｉｔｔＨ Ｊ．Ｐｈｏｔｏｐｌｅｔｈｙｓｍｏｇｒａｐｈｙ ｉｍａｇｉｎｇ：ａｎｅｗ ｎｏｎｉｎｖａｓｉｖｅａｎｄｎｏｎｃｏｎｔａｃｔｍｅｔｈｏｄｆｏｒ ｍａｐｐｉｎｇｏｆｔｈｅｄｅｒｍａｌｐｅｒｆｕｓｉｏｎｃｈａｎｇｅｓ［Ｊ］．Ｐｒｏｃｅｅｄ ｉｎｇｓｏｆＳＰＩＥＴｈｅＩｎｔｅｒｎａｔｉｏｎａｌＳｏｃｉｅｔｙｆｏｒＯｐｔｉｃａｌＥｎｇｉ

７８

信号处理

第 ３３卷

ｎｅｅｒｉｎｇ，２０００，４１６３：６２７０． ［３］　ＳｕｎＹ，ＨｕＳ，ＡｚｏｒｉｎｐｅｒｉｓＶ，ｅｔａｌ．Ｎｏｎｃｏｎｔａｃｔｉｍａｇｉｎｇ
ｐｈｏｔｏｐｌｅｔｈｙｓｍｏｇｒａｐｈｙｔｏｅｆｆｅｃｔｉｖｅｌｙａｃｃｅｓｓｐｕｌｓｅｒａｔｅｖａｒｉ ａｂｉｌｉｔｙ［Ｊ］．ＪｏｕｒｎａｌｏｆＢｉｏｍｅｄｉｃａｌＯｐｔｉｃｓ，２０１３，１８（６）： ０６１２０５０６１２０５． ［４］　ＰｏｈＭ Ｚ，ＭｃｄｕｆｆＤＪ，ＰｉｃａｒｄＲＷ．Ｎｏｎｃｏｎｔａｃｔ，ａｕｔｏｍａ ｔｅｄｃａｒｄｉａｃｐｕｌｓｅｍｅａｓｕｒｅｍｅｎｔｓｕｓｉｎｇｖｉｄｅｏｉｍａｇｉｎｇａｎｄ ｂｌｉｎｄｓｏｕｒｃｅｓｅｐａｒａｔｉｏｎ［Ｊ］．ＯｐｔｉｃｓＥｘｐｒｅｓｓ，２０１０，１８ （１０）：１０７６２１０７７４． ［５］　ＰｏｈＭ Ｚ，ＭｃｄｕｆｆＤＪ，ＰｉｃａｒｄＲＷ．Ａｄｖａｎｃｅｍｅｎｔｓｉｎｎｏｎ ｃｏｎｔａｃｔ，ｍｕｌｔｉｐａｒａｍｅｔｅｒｐｈｙｓｉｏｌｏｇｉｃａｌｍｅａｓｕｒｅｍｅｎｔｓｕｓｉｎｇ ａｗｅｂｃａｍ［Ｊ］．ＩＥＥＥＴｒａｎｓａｃｔｉｏｎｓｏｎＢｉｏｍｅｄｉｃａｌＥｎｇｉ ｎｅｅｒｉｎｇ，２０１１，５８（１）：７１１． ［６］　ＰｏｈＭ Ｚ，ＭｃｄｕｆｆＤ，ＰｉｃａｒｄＲ．Ａｍｅｄｉｃａｌｍｉｒｒｏｒｆｏｒｎｏｎ ｃｏｎｔａｃｔｈｅａｌｔｈｍｏｎｉｔｏｒｉｎｇ［Ｃ］∥ ＩｎｔｅｒｎａｔｉｏｎａｌＣｏｎｆｅｒｅｎｃｅ ｏｎＣｏｍｐｕｔｅｒＧｒａｐｈｉｃｓａｎｄＩｎｔｅｒａｃｔｉｖｅＴｅｃｈｎｉｑｕｅｓ．Ｖａｎ ｃｏｕｖｅｒ，ＢＣ，Ｃａｎａｄａ：ＳＩＧＧＲＡＰＨ２０１１，２０１１：１１． ［７］　姚丽峰．基于 ＰＰＧ和彩色视频的非接触式心率测量 ［Ｄ］．天津：天津大学，２０１２． ＹａｏＬＦ．ＮｏｎｃｏｎｔａｃｔｈｅａｒｔｒａｔｅｍｅａｓｕｒｅｍｅｎｔｕｓｉｎｇＰＰＧ ａｎｄｃｏｌｏｒｖｉｄｅｏｓ［Ｄ］．Ｔｉａｎｊｉｎ：ＴｉａｎｊｉｎＵｎｉｖｅｒｓｉｔｙ，２０１２． （ｉｎＣｈｉｎｅｓｅ） ［８］　徐光．基于光电容积脉搏波成像心率检测技术的研究 ［Ｄ］．武汉：武汉理工大学，２０１４． ＸｕＧ． Ｈｅａｒｔｒａｔｅｄｅｔｅｃｔｉｏｎ ｂａｓｅｄ ｏｎ ｐｈｏｔｏｐｌｅｔｈｙｓｍｏ ｇｒａｐｈｉｃｉｍａｇｉｎｇ［Ｄ］．Ｗｕｈａｎ：ＷｕｈａｎＵｎｉｖｅｒｓｉｔｙｏｆＴｅｃｈ ｎｏｌｏｇｙ，２０１４．（ｉｎＣｈｉｎｅｓｅ） ［９］　ＷｕＨＹ，ＲｕｂｉｎｓｔｅｉｎＭ，ＳｈｉｈＥ，ｅｔａｌ．Ｅｕｌｅｒｉａｎｖｉｄｅｏｍａｇ ｎｉｆｉｃａｔｉｏｎｆｏｒｒｅｖｅａｌｉｎｇｓｕｂｔｌｅｃｈａｎｇｅｓｉｎｔｈｅｗｏｒｌｄ［Ｊ］． ＡｃｍＴｒａｎｓａｃｔｉｏｎｓｏｎＧｒａｐｈｉｃｓ，２０１２，３１（４）：１３１５． ［１０］ ＷａｄｈｗａＮ，ＲｕｂｉｎｓｔｅｉｎＭ，ＤｕｒａｎｄＦ，ｅｔａｌ．Ｐｈａｓｅｂａｓｅｄ

ｖｉｄｅｏｍｏｔｉｏｎｐｒｏｃｅｓｓｉｎｇ［Ｊ］．ＡｃｍＴｒａｎｓａｃｔｉｏｎｓｏｎＧｒａｐｈ ｉｃｓ，２０１３，３２（４）：９６９６． ［１１］ 孔令琴．非接触式生理信号检测关键技术研究［Ｄ］． 北京：北京理工大学，２０１４． ＫｏｎｇＬＱ．Ｒｅｓｅａｒｃｈｏｎｋｅｙｔｅｃｈｎｉｑｕｅｓｏｆｔｈｅｎｏｎｃｏｎｔａｃｔ ｄｅｔｅｃｔｉｏｎｏｆｐｈｙｓｉｏｌｏｇｉｃａｌｓｉｇｎａｌｓ［Ｄ］．Ｂｅｉｊｉｎｇ：ＢｅｉｊｉｎｇＩｎ ｓｔｉｔｕｔｅｏｆＴｅｃｈｎｏｌｏｇｙ，２０１４．（ｉｎＣｈｉｎｅｓｅ） ［１２］ ＶｉｏｌａＰ，ＪｏｎｅｓＭ．Ｒａｐｉｄｏｂｊｅｃｔｄｅｔｅｃｔｉｏｎｕｓｉｎｇａｂｏｏｓｔｅｄ ｃａｓｃａｄｅｏｆｓｉｍｐｌｅｆｅａｔｕｒｅｓ［Ｊ］．ＰｒｏｃＣｖｐｒ，２００１，１：５１１． ［１３］ ＬｉｅｎｈａｒｔＲ，ＭａｙｄｔＪ．ＡｎｅｘｔｅｎｄｅｄｓｅｔｏｆＨａａｒｌｉｋｅｆｅａｔｕｒｅｓ ｆｏｒｒａｐｉｄｏｂｊｅｃｔｄｅｔｅｃｔｉｏｎ［Ｃ］∥ＩｎｔｅｒｎａｔｉｏｎａｌＣｏｎｆｅｒｅｎｃｅｏｎ ＩｍａｇｅＰｒｏｃｅｓｓｉｎｇ．ＩＥＥＥ，２００２：Ｉ９００Ｉ９０３ｖｏｌ．１． ［１４］ 刘，欧阳健飞，闫勇刚．基于普通摄像头的心率测量方 法研究［Ｊ］．计算机工程与应用，２０１６，５２（７）：２１０２１４． ＬｉｕＹ，ＯｕｙａｎｇＪＦ，ＹａｎＹＧ．Ｍｅｔｈｏｄｏｆｍｅａｓｕｒｉｎｇｈｅａｒｔ ｒａｔｅｕｓｉｎｇａｗｅｂｃａｍ［Ｊ］．ＣｏｍｐｕｔｅｒＥｎｇｉｎｅｅｒｉｎｇａｎｄＡｐ ｐｌｉｃａｔｉｏｎｓ，２０１６，５２（７）：２１０２１４．（ｉｎＣｈｉｎｅｓｅ）

作者简介

　　 马 　 良 　 男，１９９２年 生，山 东 德 州 人。山东大学信 息 科 学 与 工 程 学 院 硕 士 研究生。研究方向为多媒体通信、多媒体 信号处理。 Ｅｍａｉｌ：ｍａｌｉａｎｇ２０１０ｓｄｕ＠１２６．ｃｏｍ

刘　琚　男，１９６５年生，山东临沂人。山东大学信息科 学与工程学院副院长，教授，博士生导师。主要研究方向包 括无线通信中空时信号处理技术、盲信号处理理论与应用、 多媒体通信与网络传输技术等。 Ｅｍａｉｌ：ｊｕｌｉｕ＠ｓｄｕ．ｅｄｕ．ｃｎ

