10th International Conference and Exposition on Electrical and Power Engineering (EPE2018)
Determination and Comparison of Heart Rate Variability and Pulse Rate Variability

Alexandru Constantin Podaru, Valeriu David, Oana Maria Asiminicesei
Department of Electrical Measurements and Materials Technical University of Iasi Iasi, Romania
podarualex23@gmail.com, valdavid@tuiasi.ro, oneacsu@tuiasi.ro

Abstract—Lately, pulse rate variability (PRV) analysis has

been intensely studied, being used as an alternative to heart rate

variability (HRV) for portable systems available on the market.

Due to the simplicity of the waveform in comparison to that of

the

electrocardiographic

signal

(ECG),

the

photoplethysmographic (PPG) analysis is considered an

interesting method for determining HRV parameters. In this

paper, we have analyzed the HRV and PRV in time domain and

frequency domain. In doing so in this study we have used 17

simultaneous records of both ECG and PPG signals have been

used. We have compared the results and determined where the

biggest differences occurred, some being noticeable in time

domain parameters and others in frequency range parameters as

well. Most correlations between HRV and PRV parameters, both

in time domain and in frequency domain, are over 0.96. This

enable us to establish the fact that there is a link between HRV

and PRV parameters. We have analyzed attentively a particular

case in which we obtained the lowest HRV and PRV correlation

value in the frequency domain. The result was improved after we

used a time series correction. It was therefore concluded that we

can determine the HRV parameters based on the PPG signal in

resting situations.

Keywords—pulse rate variability (PRV); heart rate variability (HRV); photoplethysmography (PPG); electrocardiography (ECG)
I. INTRODUCTION
In present days the technological environment is flooded with wearable devices and gadgets which are used in monitoring biomedical signals and the most popular measured signal is the photoplethysmography signal. It is now easy to monitor the blood flow through veins using a smartphone [1], a smartwatch or bracelets [2] and therefore it is easy to calculate the heart rate.
For a better understanding of how the human heart functions, the detection of the heart rate is insufficient. The heart does not have a fixed interbeat period and the changes that appear during the cardiac cycles on an extended monitoring period of at least 5 minutes is called HRV (heart rate variability) [3-6]. It is known that the analysis of HRV has become an important tool in diagnosing heart conditions [4-6].
Due to the access of the public to technological systems, new methods of determining HRV parameters can be found, and the most convenient one is using the photoplethysmographic signal. New systems are developed

and this means that many wearable devices and gadgets can be used as medical instruments. Software are developed in order to assist the existing technologies in detecting bio-signals modifiers due to external factors [6, 7]. Also, real-time ECG signal processing methods to detect R peak for HRV analysis have been established by [8] allowing HRV parameters monitoring to be performed in various environments [9, 10]. All of these researches have a positive impact on the process of recording and analyzing the information that heart rate and heart pulse offer.
It is well known that the term compatibility between PRV and HRV parameters is a topic of interest for today’s research [11-14]. For example, the results obtained by [13] indicate that there are some small differences between the time-varying spectral indices extracted from HRV and PRV, this suggested that PRV can be used as an alternative measurement to HRV during non-stationary conditions. Similar conclusions were reached by [15], where they compared the results obtained from the healthy subject during normal breathing. They have at the same time highlight the fact that PRV does not reflect HRV for subjects with obstructive sleep apnea (OSA).
Even though researchers [14] mentioned in his study the fact that PRV is not a surrogate for HRV (heart rate variability), others claim that the parameters can be used to determining HRV in some conditions. As mentioned previously in [15], these studies are based on a statistical approach and in this process was used the correlation coefficient to compare the data obtained from the ECG and PPG signals.
Before determining the HRV and PRV parameters, in the previous study [16], we determined that the most of PP intervals detected in resting condition can be used to calculate HRV, considering that an error less than 3%, in the most cases, is practically insignificant. The results used were obtained from a group of 17 subjects, for which we simultaneously acquired the ECG signal and the PPG signal from the left hand index.
II. METHOD AND RESULTS
Having the time series from the previous study, we calculated the HRV parameters in time and frequency domains. For the studies we used MATLAB 2009b software and Kubios HRV Standard version 3.1, this is a freeware heart

978-1-5386-5062-2/18/$31.00 ©2018 European Union

0551

rate variability analysis software for non-commercial research and personal use [17].
The parameters that we used in this study were: mean of RR intervals, mean RR (ms); mean heart rate, mean HR (bpm); minimum heart rate, Min HR (bpm); maximum heart rate, Max HR (bpm); standard deviation of all NN intervals, SDNN (ms); root of the mean square of successive RR interval differences, RMSSD (ms); number of successive RR intervals that differ more than 50 ms, NN50 (beats); percentage of successive RR intervals that differ more than 50 ms, pNN50 (%). In order to calculate the parameters for PRV, we used the same software, but for this study we used the time series obtained from the PPG signal.
For the HRV and PRV calculations, in contrast with other research, we used raw serial data without eliminating ectopic beat time or correction of artifacts available on the Kubios HRV Standard software for to find where we get the greatest differences. From this regard, we have also preserved the original time series and therefore we have a better approach to the compatibility of HRV and PRV. After we have determined the parameters, we calculated the average of these values for the entire group. First we analyzing the time domain parameters. In Table I, we can remark that the HRV and PRV in time domain parameters are almost the same. From these results we can observe that the high differences are obtained in the case of SDNN, RMSSD, NN50 and pNN50 parameters.
The correlation between the mean values, 0.99 shows a near relationship between the HRV and PRV parameters.

TABLE I.

THE HRV AND PRV TIME DOMAIN PARAMETERS

Parameter Mean RR Mean HR Min HR Max HR SDNN RMSSD NN50 pNN50

Unit (ms) (bpm) (bpm) (bpm) (ms) (ms) (beats) (%)

HRV 757.0±74.29 79.94±7.318 70±6.828 93.64±8.674 50.18±17.24 36.38±12.98 51.47±41.98 13.78±12.51

PRV 757.0±74.29 79.94±7.318 69.88±6.836 94±8.972 51.18±17.90 38.05±14.31 60.76±44.70 16.17±13.18

Regarding that in this paper we study the compatibility of HRV and PRV parameters, a simple analysis of the averages obtained for the entire group of subjects is not satisfactory enough to verify this hypothesis. In order to achieve a better understanding of the compatibility between HRV and PRV, we decided to determine for each subject separately the correlation between the HRV parameters and the PRV parameters.
In Table II, we presented two correlations, for the first correlation we used all the determined parameters for HRV and for PRV, mean RR, mean HR, min HR, max HR, SDNN, RMSSD, NN50 and pNN50, and for the second one we used only three parameters, SDNN, RMSSD and pNN50. We did not

use the parameter NN50 because the results from this are reflected by the pNN50 parameter.
The results obtained from the first correlation demonstrate that there is a fairly close connection between HRV parameters and PRV parameters. From the second correlation, we notice that the lowest values were achieved for subject 4 and subject 10. Because our lowest limit is 0.95, the smallest values are very close to this threshold. Based on the values achieved overall we considered that the results obtained for subjects 4 and 10 should also be held as relevant.

TABLE II.

THE RESULTS OBTAINED FROM THE TWO CORRELATIONS

Subject 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17

First correlation 1 0.999888 0.999806 0.999859 0.999571 0.999831 0.99994 0.999973 0.999985 0.999483 0.999843 0.998478 0.999619 0.999985 0.999953 0.999929 0.999984

Second correlation 0.999545 0.999895 0.998897 0.9447 0.993907 0.999834 0.999201 0.998279 0.999748 0.944516 0.996501 0.997578 0.995672 0.99968 0.995833 0.987644 0.999532

Next step in our study was to analyze if are significant differences in frequency domain. For that, also with the help of MATLAB and Kubios HRV Standard software, we determined spectral frequency bands at very low frequencies (VLF), low frequencies (LF) and high frequencies (HF), represented in absolute units (ms2) and normalized units (n.u.), for the case of LF/HF ratio. It is known that the frequency range for VLF is between 0-0.04 Hz, for LF 0.04-0.15 Hz and for HF 0.15-0.4 Hz.
Table III shows the mean values obtained for the HRV and PRV parameters in the frequency domain. By analysis these values, it is easy to see that for the both HRV and PRV, the peak frequencies with the highest power are very close.

TABLE III.
VLF LF

THE HRV AND PRV FREQUENCY DOMAIN PARAMETERS

Power (ms2)

(HRV) Mean ± SD
1252.22±1292.1

(PRV) Mean ± SD
1249.61±1296.56

1669.4±2198 1688.38±2166.98

0552

HF VLF LF HF LF/HF

486.8±427.12

Peak frequency (Hz)

0.014±0.009 0.08±0.019 0.21±0.06

n.u.

3.78±2.52

571.5±466.73 0.014±0.009 0.08±0.022 0.22±0.071 3.13±1.8

A strong correlation, at 0.998, is the mean values of HRV and PRV parameters, which supports the hypothesis that there is strong compatibility between PRV and HRV. As like in the case of time domain study in Table IV we presented the correlations between the HRV and PRV parameters in the frequency domain for each individual subject.
If in Table II we can notice that the lowest results in time domain were at subject 4 and subject 10, in the correlation of the parameters in frequency domain only subject 10 stands out, as can be seen in Table IV. The other results support the hypothesis that the HRV parameters can be determined from the time series obtained from the PPG signal.
Having these results, we have decided to analyze the time series for the subject 10. In the beginning we analyzed the RR and PP time series, where we observe that we have the biggest differences and that the majority of the differences are high than 5% and represent more than 8% from the total of compared intervals.
In this case, we decided to use a strong threshold to correct the artifacts of the time series. In Fig. 1 and Fig. 2 are presented the time series before and after we used the artifacts corrections from the ECG and PPG signals for the subject 10. It can be seen that the artifact correction has modified the time

series obtained from the PPG signal. According to the achieved results only 1.45% of the total detected beats were corrected.

TABLE IV.

CORRELATION OF HRV AND PRV PARAMETERS IN THE FREQUENCY DOMAIN

Subject 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17

Correlation results 0.998886244 0.999907138 0.998869148 0.997464234 0.996130756 0.998934684 0.995965257 0.996462542 0.998429402 0.78687526 0.999852194 0.999848075 0.997994355 0.996438492 0.996153909 0.987223191 0.998429182

Fig. 1. RR time series, before and after the artefact correction. Fig. 2. PP time series, before and after the artefact correction.
0553

The results obtained after we have applied the artifact correction available in Kubios software lead to obtaining a better correlations including for the subject 10. For example, the result of the second correlation for subject 10 was 0.944516 which after the artifact correction became 0.999781. We obtained significant differences between the frequency domain parameters before and after the correction as it can be seen in Fig. 3. Here we can observe that the differences are visible even in the power spectral density (PSD) of HRV and PRV. The most visible difference can be observed between PP spectrum, Fig. 3a, before the time series correction and Fig. 3b, after the correction of the time series, we obtained a modification of the VLF peak power (it was 771 ms2, before the correction and 1047 ms2 after the correction). For the RR spectrum, we did not find significant differences between the initial values and the values obtained in the second situation.
Fig. 3. PDS for: a) RR and PP time series before the artefact corrections; b) RR and PP time series after the artefact corrections.
Also, when we calculated the correlations for the second set of values, obtained after the time series correction, for the subject 10 we got a better result than before, namely 0.952371. After the artifact correction, we obtained correlation values above 0.95 for all subjects, even in frequency domain.
III. CONCLUSIONS We calculated the HRV and PRV parameters in time and frequency domain and compared them for each subject. We have also calculated the correlation between these values obtained in the time and the frequency domain and found similarities between HRV and PRV parameters for each individual subject. We had achieved good results for the parameters, before using a time series artifact correction. The correlation results for the subject 10 were improved after using the artifact correction available in Kubios software. After analyzing the results for the subject 10 we decided to use the time series corrections on future work, knowing that this didn’t affect significantly the HRV or PRV parameters. In conclusion, for calculate HRV and PRV parameters, the time series obtained from both PPG and ECG signals, is not necessarily to be synchronized, but must be obtained from the same time window.

Therefore, we can affirm that in resting condition we can use the PPG signal to determine the HRV parameters.
REFERENCES
[1] D. Lakens, “Using a Smartphone to Measure Heart Rate Changes during Relived Happiness and Anger,” IEEE Transactions on Affective Computing, Vol. 4, April-June 2013.
[2] Z. Zhang, Z. Pi, and B. Liu, “TROIKA: A General Framework for Heart Rate Monitoring Using Wrist-Type Photoplethysmographic Signals During Intensive Physical Exercise,” IEEE Transactions on Biomedical Engineering, Vol. 62, No. 2, Feb. 2015.
[3] P. Mohapatra, P.S. Premkumar, and M. Sivaprakasam, “A Yellow– Orange Wavelength-Based Short-Term Heart Rate Variability Measurement Scheme for Wrist-Based Wearables,” IEEE Transactions on Instrumentation and Measurement, October 2017.
[4] H.V. Huikuri, T. Makikallio, and K.E. Juhani Airaksinen, “Measurement of Heart Rate Variability: A Clinical Tool or a Research Toy?,” Journal of the American College of Cardiology, Vol. 34, No. 7, 1999.
[5] H. Costin, C. Rotariu, and A. Pasarica, “Identification of Psychological stress by analyzing Electrocardiographic signal,” Environmental Engineering and Management Journal, Vol. 12, No. 6, June 2013.
[6] H. Costin, C. Rotariu, and A. Păsărică, “Mental Stress Detection using Heart Rate Variability and Morphologic Variability of ECG Signals”, International Conference and Exposition on Electrical and Power Engineering, Iasi, Oct. 2012.
[7] D. AndriĠoi, V. David, R. Ciorap, “A Portable Device for ECG and Photoplethysmographic Signal Acquisition,” International Conference and Exposition on Electrical and Power Engineering, Iasi, 2014.
[8] M. Branzila and V. David, “Real time electrocardiogram signal processing for R peak detection using wigner and wavelet functions,” Environmental Engineering and Management Journal, Vol. 12, 2013.
[9] I.N. Adochiei, G. Dorffner, and V. David, “Heart Rate Variability Monitoring Due to 50 Hz Electromagnetic Field Exposure and Statistical Processing,” International Conference and Exposition on Electrical and Power Engineering, Iasi, 2012.
[10] D. Andritoi, V. David, R. Ciorap, and M.Branzila, “Recording and processing electrocardiographic signals during magnetotherapy procedures,” Environmental Engineering and Management Journal, Vol. 12, 2013.
[11] E. Gil, M. Orini, R. Bailón, J.M. Vergara, L. Mainardi, and P. Laguna, “Photoplethysmography pulse rate variability as a surrogate measurement of heart rate variability during nonstationary conditions,” Physiol. Meas. 31 (2010), 1271-1290.
[12] M. Bolanos, H. Nazeran, and E. Haltiwanger, “Comparison of heart rate variability signal features derived from electrocardiography and photoplethysmography in healthy individuals,” Conf. Proc. IEEE Eng. Med. Biol. Soc., 2006.
[13] A.H. Khandoker, C.K. Karmakar, and M. Palaniswami, “Comparison of pulse rate variability with heart rate variability during obstructive sleep apnea,” Department of Electrical & Electronic Engineering, The University of Melbourne, 2010.
[14] I. Constant, D. Laude, I. Murat, and J.-L. Elghozi, “Pulse rate variability is not a surrogate for heart rate variability,” Clinical Science, 1999.
[15] R.G.R. Lekkala and S. Kuntamalla, “A novel approach for comparison of heart rate variability derived from synchronously measured electrocardiogram and photoplethysmogram,” 2017 IEEE Healthcare Innovations and Point of Care Technologies (HIPOCT), Bethesda, 2017, pp. 121-124.
[16] A.C. Podaru, V. David, and O. Neacsu, “Comparison between Electrocardiographic and Photoplethysmographic Peaks Intervals,” IMEKO TC4 Conference, Iasi, September 2017.
[17] M.P. Tarvainen, J. Lipponen, J.P. Niskanen, and P.O. Ranta-Aho, “Kubios HRV,” USER’S GUIDE, June 21, 2017.

0554

