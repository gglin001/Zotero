/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2015 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */
/**
 * bluebird build version 3.4.3
 * Features enabled: core, race, call_get, generators, map, nodeify, promisify, props, reduce, settle, some, using, timers, filter, any, each
*/
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Promise=t()}}(function(){var t,e,n;return function r(t,e,n){function i(s,a){if(!e[s]){if(!t[s]){var c="function"==typeof _dereq_&&_dereq_;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=e[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return i(n?n:e)},u,u.exports,r,t,e,n)}return e[s].exports}for(var o="function"==typeof _dereq_&&_dereq_,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,e,n){"use strict";function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new u(16),this._normalQueue=new u(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=l}function i(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function o(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function s(t){this._normalQueue._pushOne(t),this._queueTick()}var a;try{throw new Error}catch(c){a=c}var l=t("./schedule"),u=t("./queue"),p=t("./util");r.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},r.prototype.disableTrampolineIfNecessary=function(){p.hasDevTools&&(this._trampolineEnabled=!1)},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(t,e){e?(process.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},r.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},p.hasDevTools?(r.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?i.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},r.prototype.invoke=function(t,e,n){this._trampolineEnabled?o.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},r.prototype.settlePromises=function(t){this._trampolineEnabled?s.call(this,t):this._schedule(function(){t._settlePromises()})}):(r.prototype.invokeLater=i,r.prototype.invoke=o,r.prototype.settlePromises=s),r.prototype.invokeFirst=function(t,e,n){this._normalQueue.unshift(t,e,n),this._queueTick()},r.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},e.exports=r,e.exports.firstLineError=a},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},s=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},a=function(t,e){0===(50397184&this._bitField)&&this._resolveCallback(e.target)},c=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var l=n(o),u=new t(e);u._propagateFrom(this,1);var p=this._target();if(u._setBoundTo(l),l instanceof t){var h={promiseRejectionQueued:!1,promise:u,target:p,bindingPromise:l};p._then(e,s,void 0,u,h),l._then(a,c,void 0,u,h),u._setOnCancel(l)}else u._resolveCallback(p);return u},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(t){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=t("./promise")();o.noConflict=r,e.exports=o},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){function n(t,n){var r;if(null!=t&&(r=t[n]),"function"!=typeof r){var i="Object "+a.classString(t)+" has no method '"+a.toString(n)+"'";throw new e.TypeError(i)}return r}function r(t){var e=this.pop(),r=n(t,e);return r.apply(t,this)}function i(t){return t[this]}function o(t){var e=+this;return 0>e&&(e=Math.max(0,e+t.length)),t[e]}var s,a=t("./util"),c=a.canEvaluate;a.isIdentifier;e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(r,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=o;else if(c){var r=s(t);e=null!==r?r:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),s=o.tryCatch,a=o.errorObj,c=e._async;e.prototype["break"]=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),c.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=s(t).call(this._boundValue());r===a&&(this._attachExtraTrace(r.e),c.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),c.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){function n(t,n,a){return function(c){var l=a._boundValue();t:for(var u=0;u<t.length;++u){var p=t[u];if(p===Error||null!=p&&p.prototype instanceof Error){if(c instanceof p)return o(n).call(l,c)}else if("function"==typeof p){var h=o(p).call(l,c);if(h===s)return h;if(h)return o(n).call(l,c)}else if(r.isObject(c)){for(var f=i(p),_=0;_<f.length;++_){var d=f[_];if(p[d]!=c[d])continue t}return o(n).call(l,c)}}return e}}var r=t("./util"),i=t("./es5").keys,o=r.tryCatch,s=r.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){function e(){this._trace=new e.CapturedTrace(r())}function n(){return i?new e:void 0}function r(){var t=o.length-1;return t>=0?o[t]:void 0}var i=!1,o=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=o.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=n,e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,s=t._peekContext,a=t.prototype._peekContext,c=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=s,t.prototype._peekContext=a,t.prototype._promiseCreated=c,i=!1},i=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},{}],9:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,e){return{promise:e}}function i(){return!1}function o(t,e,n){var r=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+H.toString(t));r._attachCancellationCallback(t)})}catch(i){return i}}function s(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?H.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function a(){return this._onCancelField}function c(t){this._onCancelField=t}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function u(t,e){if(0!==(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function p(t,e){0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function h(){var t=this._boundTo;return void 0!==t&&t instanceof e?t.isFulfilled()?t.value():void 0:t}function f(){this._trace=new S(this._peekContext())}function _(t,e){if(N(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=j(t);H.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),H.notEnumerableProp(t,"__stackCleaned__",!0)}}}function d(t,e,n,r,i){if(void 0===t&&null!==e&&W){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",s="";if(e._trace){for(var a=e._trace.stack.split("\n"),c=w(a),l=c.length-1;l>=0;--l){var u=c[l];if(!B.test(u)){var p=u.match(M);p&&(o="at "+p[1]+":"+p[2]+":"+p[3]+" ");break}}if(c.length>0)for(var h=c[0],l=0;l<a.length;++l)if(a[l]===h){l>0&&(s="\n"+a[l-1]);break}}var f="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r._warn(f,!0,e)}}function v(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),y(n)}function y(t,n,r){if(ot.warnings){var i,o=new I(t);if(n)r._attachExtraTrace(o);else if(ot.longStackTraces&&(i=e._peekContext()))i.attachExtraTrace(o);else{var s=j(o);o.stack=s.message+"\n"+s.stack.join("\n")}tt("warning",o)||k(o,"",!0)}}function g(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function m(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function b(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],s=-1,a=r.length-1;a>=0;--a)if(r[a]===o){s=a;break}for(var a=s;a>=0;--a){var c=r[a];if(e[i]!==c)break;e.pop(),i--}e=r}}function w(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||q.test(r),o=i&&nt(r);i&&!o&&($&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function C(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||q.test(r))break}return n>0&&(e=e.slice(n)),e}function j(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?C(t):["    (No stack trace)"],{message:n,stack:w(e)}}function k(t,e,n){if("undefined"!=typeof console){var r;if(H.isObject(t)){var i=t.stack;r=e+Q(i,t)}else r=e+String(t);"function"==typeof D?D(r,n):("function"==typeof console.log||"object"==typeof console.log)&&console.log(r)}}function E(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(o){L.throwLater(o)}"unhandledRejection"===t?tt(t,n,r)||i||k(n,"Unhandled rejection "):tt(t,r)}function F(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():H.toString(t);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var r=JSON.stringify(t);e=r}catch(i){}0===e.length&&(e="(empty array)")}return"(<"+x(e)+">, no stack trace)"}function x(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function T(){return"function"==typeof it}function P(t){var e=t.match(rt);return e?{fileName:e[1],line:parseInt(e[2],10)}:void 0}function R(t,e){if(T()){for(var n,r,i=t.stack.split("\n"),o=e.stack.split("\n"),s=-1,a=-1,c=0;c<i.length;++c){var l=P(i[c]);if(l){n=l.fileName,s=l.line;break}}for(var c=0;c<o.length;++c){var l=P(o[c]);if(l){r=l.fileName,a=l.line;break}}0>s||0>a||!n||!r||n!==r||s>=a||(nt=function(t){if(U.test(t))return!0;var e=P(t);return e&&e.fileName===n&&s<=e.line&&e.line<=a?!0:!1})}}function S(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);it(this,S),e>32&&this.uncycle()}var O,A,D,V=e._getDomain,L=e._async,I=t("./errors").Warning,H=t("./util"),N=H.canAttachTrace,U=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,B=/\((?:timers\.js):\d+:\d+\)/,M=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,q=null,Q=null,$=!1,G=!(0==H.env("BLUEBIRD_DEBUG")||!H.env("BLUEBIRD_DEBUG")&&"development"!==H.env("NODE_ENV")),z=!(0==H.env("BLUEBIRD_WARNINGS")||!G&&!H.env("BLUEBIRD_WARNINGS")),X=!(0==H.env("BLUEBIRD_LONG_STACK_TRACES")||!G&&!H.env("BLUEBIRD_LONG_STACK_TRACES")),W=0!=H.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(z||!!H.env("BLUEBIRD_W_FORGOTTEN_RETURN"));e.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},e.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),L.invokeLater(this._notifyUnhandledRejection,this,void 0))},e.prototype._notifyUnhandledRejectionIsHandled=function(){E("rejectionHandled",O,void 0,this)},e.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},e.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),E("unhandledRejection",A,t,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},e.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},e.prototype._warn=function(t,e,n){return y(t,e,n||this)},e.onPossiblyUnhandledRejection=function(t){var e=V();A="function"==typeof t?null===e?t:e.bind(t):void 0},e.onUnhandledRejectionHandled=function(t){var e=V();O="function"==typeof t?null===e?t:e.bind(t):void 0};var K=function(){};e.longStackTraces=function(){if(L.haveItemsQueued()&&!ot.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!ot.longStackTraces&&T()){var t=e.prototype._captureStackTrace,r=e.prototype._attachExtraTrace;ot.longStackTraces=!0,K=function(){if(L.haveItemsQueued()&&!ot.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");e.prototype._captureStackTrace=t,e.prototype._attachExtraTrace=r,n.deactivateLongStackTraces(),L.enableTrampoline(),ot.longStackTraces=!1},e.prototype._captureStackTrace=f,e.prototype._attachExtraTrace=_,n.activateLongStackTraces(),L.disableTrampolineIfNecessary()}},e.hasLongStackTraces=function(){return ot.longStackTraces&&T()};var J=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return H.global.dispatchEvent(t),function(t,e){var n=new CustomEvent(t.toLowerCase(),e);return!H.global.dispatchEvent(n)}}var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),H.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!H.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),Y=function(){return H.isNode?function(){return process.emit.apply(process,arguments)}:H.global?function(t){var e="on"+t.toLowerCase(),n=H.global[e];return n?(n.apply(H.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}(),Z={promiseCreated:r,promiseFulfilled:r,promiseRejected:r,promiseResolved:r,promiseCancelled:r,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:r},tt=function(t){var e=!1;try{e=Y.apply(null,arguments)}catch(n){L.throwLater(n),e=!0}var r=!1;try{r=J(t,Z[t].apply(null,arguments))}catch(n){L.throwLater(n),r=!0}return r||e};e.config=function(t){if(t=Object(t),"longStackTraces"in t&&(t.longStackTraces?e.longStackTraces():!t.longStackTraces&&e.hasLongStackTraces()&&K()),"warnings"in t){var n=t.warnings;ot.warnings=!!n,W=ot.warnings,H.isObject(n)&&"wForgottenReturn"in n&&(W=!!n.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!ot.cancellation){if(L.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");e.prototype._clearCancellationData=l,e.prototype._propagateFrom=u,e.prototype._onCancel=a,e.prototype._setOnCancel=c,e.prototype._attachCancellationCallback=s,e.prototype._execute=o,et=u,ot.cancellation=!0}"monitoring"in t&&(t.monitoring&&!ot.monitoring?(ot.monitoring=!0,e.prototype._fireEvent=tt):!t.monitoring&&ot.monitoring&&(ot.monitoring=!1,e.prototype._fireEvent=i))},e.prototype._fireEvent=i,e.prototype._execute=function(t,e,n){try{t(e,n)}catch(r){return r}},e.prototype._onCancel=function(){},e.prototype._setOnCancel=function(t){},e.prototype._attachCancellationCallback=function(t){},e.prototype._captureStackTrace=function(){},e.prototype._attachExtraTrace=function(){},e.prototype._clearCancellationData=function(){},e.prototype._propagateFrom=function(t,e){};var et=p,nt=function(){return!1},rt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;H.inherits(S,Error),n.CapturedTrace=S,S.prototype.uncycle=function(){var t=this._length;if(!(2>t)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;t>r;++r){var s=e[r].stack,a=n[s];if(void 0!==a&&a!==r){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var c=r>0?e[r-1]:this;t-1>a?(c._parent=e[a+1],c._parent.uncycle(),c._length=c._parent._length+1):(c._parent=void 0,c._length=1);for(var l=c._length+1,u=r-2;u>=0;--u)e[u]._length=l,l++;return}}}},S.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=j(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(w(i.stack.split("\n"))),i=i._parent;b(r),m(r),H.notEnumerableProp(t,"stack",g(n,r)),H.notEnumerableProp(t,"__stackCleaned__",!0)}};var it=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():F(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,q=t,Q=e;var n=Error.captureStackTrace;return nt=function(t){return U.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return q=/@/,Q=e,$=!0,function(t){t.stack=(new Error).stack};var i;try{throw new Error}catch(o){i="stack"in o}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(Q=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?F(e):e.toString()},null):(q=t,Q=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(D=function(t){console.warn(t)},H.isNode&&process.stderr.isTTY?D=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:H.isNode||"string"!=typeof(new Error).stack||(D=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var ot={warnings:z,longStackTraces:!1,cancellation:!1,monitoring:!1};return X&&e.longStackTraces(),{longStackTraces:function(){return ot.longStackTraces},warnings:function(){return ot.warnings},cancellation:function(){return ot.cancellation},monitoring:function(){return ot.monitoring},propagateFromFunction:function(){return et},boundValueFunction:function(){return h},checkForgottenReturns:d,setBounds:R,warn:y,deprecated:v,CapturedTrace:S,fireDomEvent:J,fireGlobalEvent:Y}}},{"./errors":12,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t,e){function n(){return this.value}function r(){throw this.reason}t.prototype["return"]=t.prototype.thenReturn=function(r){return r=e(r),r instanceof t&&r.suppressUnhandledRejections(),this._then(n,void 0,void 0,{value:r},void 0)},t.prototype["throw"]=t.prototype.thenThrow=function(t){return this._then(r,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,r,void 0,{reason:t},void 0);var e=arguments[1],n=function(){throw e};return this.caught(t,n)},t.prototype.catchReturn=function(r){if(arguments.length<=1)return r=e(r),r instanceof t&&r.suppressUnhandledRejections(),this._then(void 0,n,void 0,{value:r},void 0);var i=arguments[1];i=e(i),i instanceof t&&i.suppressUnhandledRejections();var o=function(){return i};return this.caught(r,o)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){function n(){return o(this)}function r(t,n){return i(t,n,e,e)}var i=t.reduce,o=t.all;t.prototype.each=function(t){return this.mapSeries(t)._then(n,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,e,e)},t.each=function(t,e){return r(t,e)._then(n,void 0,void 0,t,void 0)},t.mapSeries=r}},{}],12:[function(t,e,n){"use strict";function r(t,e){function n(r){return this instanceof n?(p(this,"message","string"==typeof r?r:e),p(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return u(n,Error),n}function i(t){return this instanceof i?(p(this,"name","OperationalError"),p(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(p(this,"message",t.message),p(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(t)}var o,s,a=t("./es5"),c=a.freeze,l=t("./util"),u=l.inherits,p=l.notEnumerableProp,h=r("Warning","warning"),f=r("CancellationError","cancellation error"),_=r("TimeoutError","timeout error"),d=r("AggregateError","aggregate error");try{o=TypeError,s=RangeError}catch(v){o=r("TypeError","type error"),s=r("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),g=0;g<y.length;++g)"function"==typeof Array.prototype[y[g]]&&(d.prototype[y[g]]=Array.prototype[y[g]]);a.defineProperty(d.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),d.prototype.isOperational=!0;var m=0;d.prototype.toString=function(){var t=Array(4*m+1).join(" "),e="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return m--,e},u(i,Error);var b=Error.__BluebirdErrorTypes__;b||(b=c({CancellationError:f,TimeoutError:_,OperationalError:i,RejectionError:i,AggregateError:d}),a.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:o,RangeError:s,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:h}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},c=function(t,e){return{value:t[e]}},l=function(t,e,n){return t[e]=n.value,t},u=function(t){return t},p=function(t){try{return Object(t).constructor.prototype}catch(e){return s}},h=function(t){try{return"[object Array]"===o.call(t)}catch(e){return!1}};e.exports={isArray:h,keys:a,names:a,defineProperty:l,getDescriptor:c,freeze:u,getPrototypeOf:p,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function i(t){this.finallyHandler=t}function o(t,e){return null!=t.cancelPromise?(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0):!1}function s(){return c.call(this,this.promise._target()._settledValue())}function a(t){return o(this,t)?void 0:(p.e=t,p)}function c(t){var r=this.promise,c=this.handler;if(!this.called){this.called=!0;var l=this.isFinallyHandler()?c.call(r._boundValue()):c.call(r._boundValue(),t);if(void 0!==l){r._setReturnedNonUndefined();var h=n(l,r);if(h instanceof e){if(null!=this.cancelPromise){if(h._isCancelled()){var f=new u("late cancellation observer");return r._attachExtraTrace(f),p.e=f,p}h.isPending()&&h._attachCancellationCallback(new i(this))}return h._then(s,a,void 0,this,void 0)}}}return r.isRejected()?(o(this),p.e=t,p):(o(this),t)}var l=t("./util"),u=e.CancellationError,p=l.errorObj;return r.prototype.isFinallyHandler=function(){return 0===this.type},i.prototype._resultCancelled=function(){o(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,i){return"function"!=typeof t?this.then():this._then(n,i,void 0,new r(this,e,t),void 0)},e.prototype.lastly=e.prototype["finally"]=function(t){return this._passThrough(t,0,c,c)},e.prototype.tap=function(t){return this._passThrough(t,1,c)},r}},{"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var s=f(n[o])(t);if(r._popContext(),s===h){r._pushContext();var a=e.reject(h.e);return r._popContext(),a}var c=i(s,r);if(c instanceof e)return c}return null}function c(t,n,i,o){if(s.cancellation()){var a=new e(r),c=this._finallyPromise=new e(r);this._promise=a.lastly(function(){return c}),a._captureStackTrace(),a._setOnCancel(this)}else{var l=this._promise=new e(r);l._captureStackTrace()}this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(_):_,this._yieldedPromise=null,this._cancellationPhase=!1}var l=t("./errors"),u=l.TypeError,p=t("./util"),h=p.errorObj,f=p.tryCatch,_=[];p.inherits(c,o),c.prototype._isResolved=function(){return null===this._promise},c.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},c.prototype._promiseCancelled=function(){if(!this._isResolved()){var t,n="undefined"!=typeof this._generator["return"];if(n)this._promise._pushContext(),t=f(this._generator["return"]).call(this._generator,void 0),this._promise._popContext();else{var r=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),t=f(this._generator["throw"]).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},c.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=f(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},c.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=f(this._generator["throw"]).call(this._generator,t);this._promise._popContext(),this._continue(e)},c.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},c.prototype.promise=function(){return this._promise},c.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},c.prototype._continue=function(t){var n=this._promise;if(t===h)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(t.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof e)&&(o=a(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",r)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var s=o._bitField;0===(50397184&s)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&s)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&s)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},e.coroutine=function(t,e){if("function"!=typeof t)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=c,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r(void 0,void 0,n,i),s=o.promise();return o._generator=e,o._promiseFulfilled(void 0),s}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new u("expecting a function but got "+p.classString(t));_.push(t)},e.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),
"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new c(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj;e.join=function(){var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var r}var i=[].slice.call(arguments);t&&i.pop();var r=new n(i).promise();return void 0!==t?r.spread(t):r}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var i=l();this._callback=null===i?e:i.bind(e),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=n>=1?[]:f,this._init$(void 0,-2)}function c(t,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+u.classString(n));var s=0;if(void 0!==i){if("object"!=typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+u.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(i.concurrency)));s=i.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new a(t,n,s,o).promise()}var l=e._getDomain,u=t("./util"),p=u.tryCatch,h=u.errorObj,f=[];u.inherits(a,n),a.prototype._init=function(){},a.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),a=this._preservedValues,c=this._limit;if(0>n){if(n=-1*n-1,r[n]=t,c>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(c>=1&&this._inFlight>=c)return r[n]=t,this._queue.push(n),!1;null!==a&&(a[n]=t);var l=this._promise,u=this._callback,f=l._boundValue();l._pushContext();var _=p(u).call(f,t,n,o),d=l._popContext();if(s.checkForgottenReturns(_,d,null!==a?"Promise.filter":"Promise.map",l),_===h)return this._reject(_.e),!0;var v=i(_,this._promise);if(v instanceof e){v=v._target();var y=v._bitField;if(0===(50397184&y))return c>=1&&this._inFlight++,r[n]=v,v._proxy(this,-1*(n+1)),!1;if(0===(33554432&y))return 0!==(16777216&y)?(this._reject(v._reason()),!0):(this._cancel(),!0);_=v._value()}r[n]=_}var g=++this._totalResolved;return g>=o?(null!==a?this._filter(r,a):this._resolve(r),!0):!1},a.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},a.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;n>o;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},a.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return c(this,t,e,null)},e.map=function(t,e,n,r){return c(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var s=t("./util"),a=s.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+s.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=a(t).apply(this,arguments),s=r._popContext();return o.checkForgottenReturns(i,s,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e["try"]=function(t){if("function"!=typeof t)return i("expecting a function but got "+s.classString(t));var r=new e(n);r._captureStackTrace(),r._pushContext();var c;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var l=arguments[1],u=arguments[2];c=s.isArray(l)?a(t).apply(u,l):a(t).call(u,l)}else c=a(t)();var p=r._popContext();return o.checkForgottenReturns(c,p,"Promise.try",r),r._resolveFromSyncValue(c),r},e.prototype._resolveFromSyncValue=function(t){t===s.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";function r(t){return t instanceof Error&&u.getPrototypeOf(t)===Error.prototype}function i(t){var e;if(r(t)){e=new l(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=u.keys(t),i=0;i<n.length;++i){var o=n[i];p.test(o)||(e[o]=t[o])}return e}return s.markAsOriginatingFromRejection(t),t}function o(t,e){return function(n,r){if(null!==t){if(n){var o=i(a(n));t._attachExtraTrace(o),t._reject(o)}else if(e){var s=[].slice.call(arguments,1);t._fulfill(s)}else t._fulfill(r);t=null}}}var s=t("./util"),a=s.maybeWrapAsError,c=t("./errors"),l=c.OperationalError,u=t("./es5"),p=/^(?:name|message|stack|cause)$/;e.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){function n(t,e){var n=this;if(!o.isArray(t))return r.call(n,t,e);var i=a(e).apply(n._boundValue(),[null].concat(t));i===c&&s.throwLater(i.e)}function r(t,e){var n=this,r=n._boundValue(),i=void 0===t?a(e).call(r,null):a(e).call(r,null,t);i===c&&s.throwLater(i.e)}function i(t,e){var n=this;if(!t){var r=new Error(t+"");r.cause=t,t=r}var i=a(e).call(n._boundValue(),t);i===c&&s.throwLater(i.e)}var o=t("./util"),s=e._async,a=o.tryCatch,c=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=r;void 0!==e&&Object(e).spread&&(o=n),this._then(o,i,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,e,n){"use strict";e.exports=function(){function n(){}function r(t,e){if("function"!=typeof e)throw new g("expecting a function but got "+f.classString(e));if(t.constructor!==i)throw new g("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function i(t){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,t!==b&&(r(this,t),this._resolveFromExecutor(t)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function o(t){this.promise._resolveCallback(t)}function s(t){this.promise._rejectCallback(t,!1)}function a(t){var e=new i(b);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var c,l=function(){return new g("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},u=function(){return new i.PromiseInspection(this._target())},p=function(t){return i.reject(new g(t))},h={},f=t("./util");c=f.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},f.notEnumerableProp(i,"_getDomain",c);var _=t("./es5"),d=t("./async"),v=new d;_.defineProperty(i,"_async",{value:v});var y=t("./errors"),g=i.TypeError=y.TypeError;i.RangeError=y.RangeError;var m=i.CancellationError=y.CancellationError;i.TimeoutError=y.TimeoutError,i.OperationalError=y.OperationalError,i.RejectionError=y.OperationalError,i.AggregateError=y.AggregateError;var b=function(){},w={},C={},j=t("./thenables")(i,b),k=t("./promise_array")(i,b,j,p,n),E=t("./context")(i),F=E.create,x=t("./debuggability")(i,E),T=(x.CapturedTrace,t("./finally")(i,j)),P=t("./catch_filter")(C),R=t("./nodeback"),S=f.errorObj,O=f.tryCatch;return i.prototype.toString=function(){return"[object Promise]"},i.prototype.caught=i.prototype["catch"]=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;e-1>n;++n){var o=arguments[n];if(!f.isObject(o))return p("expecting an object but got A catch statement predicate "+f.classString(o));r[i++]=o}return r.length=i,t=arguments[n],this.then(void 0,P(r,t,this))}return this.then(void 0,t)},i.prototype.reflect=function(){return this._then(u,u,void 0,this,void 0)},i.prototype.then=function(t,e){if(x.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+f.classString(t);arguments.length>1&&(n+=", "+f.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},i.prototype.done=function(t,e){var n=this._then(t,e,void 0,void 0,void 0);n._setIsFinal()},i.prototype.spread=function(t){return"function"!=typeof t?p("expecting a function but got "+f.classString(t)):this.all()._then(t,void 0,void 0,w,void 0)},i.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},i.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new k(this).promise()},i.prototype.error=function(t){return this.caught(f.originatesFromRejection,t)},i.getNewLibraryCopy=e.exports,i.is=function(t){return t instanceof i},i.fromNode=i.fromCallback=function(t){var e=new i(b);e._captureStackTrace();var n=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,r=O(t)(R(e,n));return r===S&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},i.all=function(t){return new k(t).promise()},i.cast=function(t){var e=j(t);return e instanceof i||(e=new i(b),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},i.resolve=i.fulfilled=i.cast,i.reject=i.rejected=function(t){var e=new i(b);return e._captureStackTrace(),e._rejectCallback(t,!0),e},i.setScheduler=function(t){if("function"!=typeof t)throw new g("expecting a function but got "+f.classString(t));return v.setScheduler(t)},i.prototype._then=function(t,e,n,r,o){var s=void 0!==o,a=s?o:new i(b),l=this._target(),u=l._bitField;s||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&u)?this._boundValue():l===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var p=c();if(0!==(50397184&u)){var h,f,_=l._settlePromiseCtx;0!==(33554432&u)?(f=l._rejectionHandler0,h=t):0!==(16777216&u)?(f=l._fulfillmentHandler0,h=e,l._unsetRejectionIsUnhandled()):(_=l._settlePromiseLateCancellationObserver,f=new m("late cancellation observer"),l._attachExtraTrace(f),h=e),v.invoke(_,l,{handler:null===p?h:"function"==typeof h&&p.bind(h),promise:a,receiver:r,value:f})}else l._addCallbacks(t,e,a,r,p);return a},i.prototype._length=function(){return 65535&this._bitField},i.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},i.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},i.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},i.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},i.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},i.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},i.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},i.prototype._isFinal=function(){return(4194304&this._bitField)>0},i.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},i.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},i.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},i.prototype._setAsyncGuaranteed=function(){v.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},i.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];return e===h?void 0:void 0===e&&this._isBound()?this._boundValue():e},i.prototype._promiseAt=function(t){return this[4*t-4+2]},i.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},i.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},i.prototype._boundValue=function(){},i.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=h),this._addCallbacks(e,n,r,i,null)},i.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=h),this._addCallbacks(n,r,i,o,null)},i.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:i.bind(t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:i.bind(e));else{var s=4*o-4;this[s+2]=n,this[s+3]=r,"function"==typeof t&&(this[s+0]=null===i?t:i.bind(t)),"function"==typeof e&&(this[s+1]=null===i?e:i.bind(e))}return this._setLength(o+1),o},i.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},i.prototype._resolveCallback=function(t,e){if(0===(117506048&this._bitField)){if(t===this)return this._rejectCallback(l(),!1);var n=j(t,this);if(!(n instanceof i))return this._fulfill(t);e&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(l());var o=r._bitField;if(0===(50397184&o)){var s=this._length();s>0&&r._migrateCallback0(this);for(var a=1;s>a;++a)r._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!==(33554432&o))this._fulfill(r._value());else if(0!==(16777216&o))this._reject(r._reason());else{var c=new m("late cancellation observer");r._attachExtraTrace(c),this._reject(c)}}},i.prototype._rejectCallback=function(t,e,n){var r=f.ensureErrorObject(t),i=r===t;if(!i&&!n&&x.warnings()){var o="a promise was rejected with a non-error: "+f.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,e?i:!1),this._reject(t)},i.prototype._resolveFromExecutor=function(t){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)},i.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;e===w?n&&"number"==typeof n.length?o=O(t).apply(this._boundValue(),n):(o=S,o.e=new g("cannot .spread() a non-array: "+f.classString(n))):o=O(t).call(e,n);var s=r._popContext();i=r._bitField,0===(65536&i)&&(o===C?r._reject(n):o===S?r._rejectCallback(o.e,!1):(x.checkForgottenReturns(o,s,"",r,this),r._resolveCallback(o)))}},i.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},i.prototype._followee=function(){return this._rejectionHandler0},i.prototype._setFollowee=function(t){this._rejectionHandler0=t},i.prototype._settlePromise=function(t,e,r,o){var s=t instanceof i,a=this._bitField,c=0!==(134217728&a);0!==(65536&a)?(s&&t._invokeInternalOnCancel(),r instanceof T&&r.isFinallyHandler()?(r.cancelPromise=t,O(e).call(r,o)===S&&t._reject(S.e)):e===u?t._fulfill(u.call(r)):r instanceof n?r._promiseCancelled(t):s||t instanceof k?t._cancel():r.cancel()):"function"==typeof e?s?(c&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,r,o,t)):e.call(r,o,t):r instanceof n?r._isResolved()||(0!==(33554432&a)?r._promiseFulfilled(o,t):r._promiseRejected(o,t)):s&&(c&&t._setAsyncGuaranteed(),0!==(33554432&a)?t._fulfill(o):t._reject(o))},i.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,o=t.value;"function"==typeof e?n instanceof i?this._settlePromiseFromHandler(e,r,o,n):e.call(r,o,n):n instanceof i&&n._reject(o)},i.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},i.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},i.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},i.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!==(134217728&e)?this._settlePromises():v.settlePromises(this))}},i.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16))return this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?v.fatalError(t,f.isNode):void((65535&e)>0?v.settlePromises(this):this._ensurePossibleRejectionHandled())},i.prototype._fulfillPromises=function(t,e){for(var n=1;t>n;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},i.prototype._rejectPromises=function(t,e){for(var n=1;t>n;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},i.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!==(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},i.prototype._settledValue=function(){var t=this._bitField;return 0!==(33554432&t)?this._rejectionHandler0:0!==(16777216&t)?this._fulfillmentHandler0:void 0},i.defer=i.pending=function(){x.deprecated("Promise.defer","new Promise");var t=new i(b);return{promise:t,resolve:o,reject:s}},f.notEnumerableProp(i,"_makeSelfResolutionError",l),t("./method")(i,b,j,p,x),t("./bind")(i,b,j,x),t("./cancel")(i,k,p,x),t("./direct_resolve")(i,j),t("./synchronous_inspection")(i),t("./join")(i,k,j,b,x),i.Promise=i,i.version="3.4.3",t("./map.js")(i,k,p,j,b,x),t("./call_get.js")(i),t("./using.js")(i,p,j,F,b,x),t("./timers.js")(i,b,x),t("./generators.js")(i,p,b,j,n,x),t("./nodeify.js")(i),t("./promisify.js")(i,b),t("./props.js")(i,k,j,p),t("./race.js")(i,b,j,p),t("./reduce.js")(i,k,p,j,b,x),t("./settle.js")(i,k,x),t("./some.js")(i,k,p),t("./filter.js")(i,b),t("./each.js")(i,b),t("./any.js")(i),f.toFastProperties(i),f.toFastProperties(i.prototype),a({a:1}),a({b:2}),a({c:3}),a(1),a(function(){}),a(void 0),a(!1),a(new i(b)),x.setBounds(d.firstLineError,f.lastLineError),i}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){function s(t){switch(t){case-2:return[];case-3:return{}}}function a(t){var r=this._promise=new e(n);t instanceof e&&r._propagateFrom(t,3),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var c=t("./util");c.isArray;return c.inherits(a,o),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function l(t,n){var o=r(this._values,this._promise);if(o instanceof e){o=o._target();var a=o._bitField;if(this._values=o,0===(50397184&a))return this._promise._setAsyncGuaranteed(),o._then(l,this._reject,void 0,this,n);if(0===(33554432&a))return 0!==(16777216&a)?this._reject(o._reason()):this._cancel();o=o._value()}if(o=c.asArray(o),null===o){var u=i("expecting an array or an iterable object but got "+c.classString(o)).reason();return void this._promise._rejectCallback(u,!1)}return 0===o.length?void(-5===n?this._resolveEmptyArray():this._resolve(s(n))):void this._iterate(o)},a.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,s=null,a=0;n>a;++a){var c=r(t[a],i);c instanceof e?(c=c._target(),s=c._bitField):s=null,o?null!==s&&c.suppressUnhandledRejections():null!==s?0===(50397184&s)?(c._proxy(this,a),this._values[a]=c):o=0!==(33554432&s)?this._promiseFulfilled(c._value(),a):0!==(16777216&s)?this._promiseRejected(c._reason(),a):this._promiseCancelled(a):o=this._promiseFulfilled(c,a)}o||i._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},a.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;return n>=this._length?(this._resolve(this._values),!0):!1},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(t){return t},a}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t){return!C.test(t)}function i(t){try{return t.__isPromisified__===!0}catch(e){return!1}}function o(t,e,n){var r=f.getDataPropertyOrDefault(t,e+n,b);return r?i(r):!1}function s(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new g("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}function a(t,e,n,r){for(var a=f.inheritedDataKeys(t),c=[],l=0;l<a.length;++l){var u=a[l],p=t[u],h=r===j?!0:j(u,p,t);"function"!=typeof p||i(p)||o(t,u,e)||!r(u,p,t,h)||c.push(u,p)}return s(c,e,n),c}function c(t,r,i,o,s,a){function c(){var i=r;r===h&&(i=this);var o=new e(n);o._captureStackTrace();var s="string"==typeof u&&this!==l?this[u]:t,c=_(o,a);try{s.apply(i,d(arguments,c))}catch(p){o._rejectCallback(v(p),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var l=function(){return this}(),u=t;return"string"==typeof u&&(t=o),f.notEnumerableProp(c,"__isPromisified__",!0),c}function l(t,e,n,r,i){for(var o=new RegExp(k(e)+"$"),s=a(t,e,o,n),c=0,l=s.length;l>c;c+=2){var u=s[c],p=s[c+1],_=u+e;if(r===E)t[_]=E(u,h,u,p,e,i);else{var d=r(p,function(){return E(u,h,u,p,e,i)});f.notEnumerableProp(d,"__isPromisified__",!0),t[_]=d}}return f.toFastProperties(t),t}function u(t,e,n){return E(t,e,void 0,t,null,n)}var p,h={},f=t("./util"),_=t("./nodeback"),d=f.withAppended,v=f.maybeWrapAsError,y=f.canEvaluate,g=t("./errors").TypeError,m="Async",b={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],C=new RegExp("^(?:"+w.join("|")+")$"),j=function(t){return f.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},k=function(t){return t.replace(/([$])/,"\\$")},E=y?p:c;e.promisify=function(t,e){if("function"!=typeof t)throw new g("expecting a function but got "+f.classString(t));if(i(t))return t;e=Object(e);var n=void 0===e.context?h:e.context,o=!!e.multiArgs,s=u(t,n,o);return f.copyDescriptors(t,s,r),s},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new g("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");e=Object(e);var n=!!e.multiArgs,r=e.suffix;"string"!=typeof r&&(r=m);var i=e.filter;"function"!=typeof i&&(i=j);var o=e.promisifier;if("function"!=typeof o&&(o=E),!f.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=f.inheritedDataKeys(t),a=0;a<s.length;++a){var c=t[s[a]];"constructor"!==s[a]&&f.isClass(c)&&(l(c.prototype,r,i,o,n),l(c,r,i,o,n))}return l(t,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t){var e,n=!1;if(void 0!==a&&t instanceof a)e=p(t),n=!0;else{var r=u.keys(t),i=r.length;e=new Array(2*i);for(var o=0;i>o;++o){var s=r[o];e[o]=t[s],e[o+i]=s}}this.constructor$(e),this._isMap=n,this._init$(void 0,-3)}function s(t){var n,s=r(t);return l(s)?(n=s instanceof e?s._then(e.props,void 0,void 0,void 0,void 0):new o(s).promise(),s instanceof e&&n._propagateFrom(s,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var a,c=t("./util"),l=c.isObject,u=t("./es5");"function"==typeof Map&&(a=Map);var p=function(){function t(t,r){this[e]=t,this[e+n]=r,e++}var e=0,n=0;return function(r){n=r.size,e=0;var i=new Array(2*r.size);return r.forEach(t,i),i}}(),h=function(t){for(var e=new a,n=t.length/2|0,r=0;n>r;++r){var i=t[n+r],o=t[r];e.set(i,o)}return e};c.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=h(this._values);else{r={};for(var i=this.length(),o=0,s=this.length();s>o;++o)r[this._values[o+i]]=this._values[o]}return this._resolve(r),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return s(this)},e.props=function(t){return s(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=0;i>o;++o)n[o+r]=t[o+e],t[o+e]=void 0}function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},i.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,r=(n-1&e-1^e)-e;this[r]=t,this._front=r,this._length=this.length()+1},i.prototype.unshift=function(t,e,n){this._unshiftOne(n),this._unshiftOne(e),this._unshiftOne(t)},i.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,i=this._length,o=n+i&e-1;r(this,0,this,e,o)},e.exports=i},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t,o){var c=r(t);if(c instanceof e)return a(c);if(t=s.asArray(t),null===t)return i("expecting an array or an iterable object but got "+s.classString(t));var l=new e(n);void 0!==o&&l._propagateFrom(o,3);for(var u=l._fulfill,p=l._reject,h=0,f=t.length;f>h;++h){var _=t[h];(void 0!==_||h in t)&&e.cast(_)._then(u,p,void 0,l,null)}return l}var s=t("./util"),a=function(t){return t.then(function(e){return o(e,t)})};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t,n,r,i){this.constructor$(t);var s=h();this._fn=null===s?n:s.bind(n),void 0!==r&&(r=e.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?[]:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function c(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function l(t,e,n,i){if("function"!=typeof e)return r("expecting a function but got "+f.classString(e));var o=new a(t,e,n,i);return o.promise()}function u(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(p,void 0,void 0,this,void 0)):p.call(this,n)}function p(t){var n=this.array,r=n._promise,i=_(n._fn);r._pushContext();var o;o=void 0!==n._eachValues?i.call(r._boundValue(),t,this.index,this.length):i.call(r._boundValue(),this.accum,t,this.index,this.length),o instanceof e&&(n._currentCancellable=o);var a=r._popContext();return s.checkForgottenReturns(o,a,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var h=e._getDomain,f=t("./util"),_=f.tryCatch;f.inherits(a,n),a.prototype._gotAccum=function(t){void 0!==this._eachValues&&t!==o&&this._eachValues.push(t)},a.prototype._eachComplete=function(t){return this._eachValues.push(t),this._eachValues},a.prototype._init=function(){},a.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},a.prototype.shouldCopyValues=function(){return!1},a.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},a.prototype._resultCancelled=function(t){return t===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel()))},a.prototype._iterate=function(t){this._values=t;var n,r,i=t.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;i>r;++r){var o={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(u,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(c,c,void 0,n,this)},e.prototype.reduce=function(t,e){return l(this,t,e,null)},e.reduce=function(t,e,n,r){return l(t,e,n,r)}}},{"./util":36}],29:[function(t,e,n){"use strict";var r,i=t("./util"),o=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},s=i.getNativePromise();if(i.isNode&&"undefined"==typeof MutationObserver){var a=global.setImmediate,c=process.nextTick;r=i.isRecentNode?function(t){a.call(global,t)}:function(t){c.call(process,t)}}else if("function"==typeof s&&"function"==typeof s.resolve){var l=s.resolve();r=function(t){l.then(t)}}else r="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:o:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){t.classList.toggle("foo"),n=!1});i.observe(r,e);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(t,e),o()}}();e.exports=r},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t)}var o=e.PromiseInspection,s=t("./util");s.inherits(i,n),i.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;return n>=this._length?(this._resolve(this._values),!0):!1},i.prototype._promiseFulfilled=function(t,e){var n=new o;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},i.prototype._promiseRejected=function(t,e){var n=new o;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new i(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||0>e)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(t),o=n.promise();return n.setHowMany(e),n.init(),o}var s=t("./util"),a=t("./errors").RangeError,c=t("./errors").AggregateError,l=s.isArray,u={};s.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=l(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()));
}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},i.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(u),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new c,e=this.length();e<this._values.length;++e)this._values[e]!==u&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new a(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},s=e.prototype.isPending=function(){return 0===(50397184&this._bitField)},a=e.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},t.prototype.isPending=function(){return s.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return a.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,r){if(u(t)){if(t instanceof e)return t;var i=o(t);if(i===l){r&&r._pushContext();var c=e.reject(i.e);return r&&r._popContext(),c}if("function"==typeof i){if(s(t)){var c=new e(n);return t._then(c._fulfill,c._reject,void 0,c,null),c}return a(t,i,r)}}return t}function i(t){return t.then}function o(t){try{return i(t)}catch(e){return l.e=e,l}}function s(t){try{return p.call(t,"_promise0")}catch(e){return!1}}function a(t,r,i){function o(t){a&&(a._resolveCallback(t),a=null)}function s(t){a&&(a._rejectCallback(t,p,!0),a=null)}var a=new e(n),u=a;i&&i._pushContext(),a._captureStackTrace(),i&&i._popContext();var p=!0,h=c.tryCatch(r).call(t,o,s);return p=!1,a&&h===l&&(a._rejectCallback(h.e,!0,!0),a=null),u}var c=t("./util"),l=c.errorObj,u=c.isObject,p={}.hasOwnProperty;return r}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.handle=t}function o(t){return clearTimeout(this.handle),t}function s(t){throw clearTimeout(this.handle),t}var a=t("./util"),c=e.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var l=function(t){return u(+this).thenReturn(t)},u=e.delay=function(t,o){var s,a;return void 0!==o?(s=e.resolve(o)._then(l,null,null,t,void 0),r.cancellation()&&o instanceof e&&s._setOnCancel(o)):(s=new e(n),a=setTimeout(function(){s._fulfill()},+t),r.cancellation()&&s._setOnCancel(new i(a)),s._captureStackTrace()),s._setAsyncGuaranteed(),s};e.prototype.delay=function(t){return u(t,this)};var p=function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new c("operation timed out"):new c(e),a.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()};e.prototype.timeout=function(t,e){t=+t;var n,a,c=new i(setTimeout(function(){n.isPending()&&p(n,e,a)},t));return r.cancellation()?(a=this.then(),n=a._then(o,s,void 0,c,void 0),n._setOnCancel(c)):n=this._then(o,s,void 0,c,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,s){function a(t){setTimeout(function(){throw t},0)}function c(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function l(t,n){function i(){if(s>=l)return u._fulfill();var o=c(t[s++]);if(o instanceof e&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),t.promise)}catch(p){return a(p)}if(o instanceof e)return o._then(i,a,null,null,null)}i()}var s=0,l=t.length,u=new e(o);return i(),u}function u(t,e,n){this._data=t,this._promise=e,this._context=n}function p(t,e,n){this.constructor$(t,e,n)}function h(t){return u.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function f(t){this.length=t,this.promise=null,this[t-1]=null}var _=t("./util"),d=t("./errors").TypeError,v=t("./util").inherits,y=_.errorObj,g=_.tryCatch,m={};u.prototype.data=function(){return this._data},u.prototype.promise=function(){return this._promise},u.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():m},u.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==m?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},u.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},v(p,u),p.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},f.prototype._resultCancelled=function(){for(var t=this.length,n=0;t>n;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(2>t)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return n("expecting a function but got "+_.classString(i));var o,a=!0;2===t&&Array.isArray(arguments[0])?(o=arguments[0],t=o.length,a=!1):(o=arguments,t--);for(var c=new f(t),p=0;t>p;++p){var d=o[p];if(u.isDisposer(d)){var v=d;d=d.promise(),d._setDisposable(v)}else{var m=r(d);m instanceof e&&(d=m._then(h,null,null,{resources:c,index:p},void 0))}c[p]=d}for(var b=new Array(c.length),p=0;p<b.length;++p)b[p]=e.resolve(c[p]).reflect();var w=e.all(b).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return y.e=n.error(),y;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}C._pushContext(),i=g(i);var r=a?i.apply(void 0,t):i(t),o=C._popContext();return s.checkForgottenReturns(r,o,"Promise.using",C),r}),C=w.lastly(function(){var t=new e.PromiseInspection(w);return l(c,t)});return c.promise=C,C._setOnCancel(c),C},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new p(t,this,i());throw new d}}},{"./errors":12,"./util":36}],36:[function(t,e,n){"use strict";function r(){try{var t=T;return T=null,t.apply(this,arguments)}catch(e){return x.e=e,x}}function i(t){return T=t,r}function o(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function s(t){return"function"==typeof t||"object"==typeof t&&null!==t}function a(t){return o(t)?new Error(v(t)):t}function c(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;r>n;++n)i[n]=t[n];return i[n]=e,i}function l(t,e,n){if(!E.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function u(t,e,n){if(o(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return E.defineProperty(t,e,r),t}function p(t){throw t}function h(t){try{if("function"==typeof t){var e=E.names(t.prototype),n=E.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=O.test(t+"")&&E.names(t).length>0;if(n||r||i)return!0}return!1}catch(o){return!1}}function f(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t}function _(t){return A.test(t)}function d(t,e,n){for(var r=new Array(t),i=0;t>i;++i)r[i]=e+i+n;return r}function v(t){try{return t+""}catch(e){return"[no string representation]"}}function y(t){return null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function g(t){try{u(t,"isOperational",!0)}catch(e){}}function m(t){return null==t?!1:t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0}function b(t){return y(t)&&E.propertyIsWritable(t,"stack")}function w(t){return{}.toString.call(t)}function C(t,e,n){for(var r=E.names(t),i=0;i<r.length;++i){var o=r[i];if(n(o))try{E.defineProperty(e,o,E.getDescriptor(t,o))}catch(s){}}}function j(t,e){return I?process.env[t]:e}function k(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(e){}}var E=t("./es5"),F="undefined"==typeof navigator,x={e:{}},T,P="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null,R=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},S=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(E.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(s){return r}for(var a=0;a<o.length;++a){var c=o[a];if(!i[c]){i[c]=!0;var l=Object.getOwnPropertyDescriptor(t,c);null!=l&&null==l.get&&null==l.set&&r.push(c)}}t=E.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var s=0;s<t.length;++s)if(r.call(t[s],o))continue t;i.push(o)}return i}}(),O=/this\s*\.\s*\S+\s*=/,A=/^[a-z$_][a-z$_0-9]*$/i,D=function(){return"stack"in new Error?function(t){return b(t)?t:new Error(v(t))}:function(t){if(b(t))return t;try{throw new Error(v(t))}catch(e){return e}}}(),V=function(t){return E.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var L="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};V=function(t){return E.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?L(t):null}}var I="undefined"!=typeof process&&"[object process]"===w(process).toLowerCase(),H={isClass:h,isIdentifier:_,inheritedDataKeys:S,getDataPropertyOrDefault:l,thrower:p,isArray:E.isArray,asArray:V,notEnumerableProp:u,isPrimitive:o,isObject:s,isError:y,canEvaluate:F,errorObj:x,tryCatch:i,inherits:R,withAppended:c,maybeWrapAsError:a,toFastProperties:f,filledRange:d,toString:v,canAttachTrace:b,ensureErrorObject:D,originatesFromRejection:m,markAsOriginatingFromRejection:g,classString:w,copyDescriptors:C,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:I,env:j,global:P,getNativePromise:k};H.isRecentNode=H.isNode&&function(){var t=process.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),H.isNode&&H.toFastProperties(process);try{throw new Error}catch(N){H.lastLineError=N}e.exports=H},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise);/**
 * React v15.6.1
 *
 * Copyright 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.React=t()}}(function(){return function t(e,n,r){function o(a,u){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return o(n||t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){"use strict";function r(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}function o(t){var e=/(=0|=2)/g,n={"=0":"=","=2":":"};return(""+("."===t[0]&&"$"===t[1]?t.substring(2):t.substring(1))).replace(e,function(t){return n[t]})}var i={escape:r,unescape:o};e.exports=i},{}],2:[function(t,e,n){"use strict";var r=t(19),o=(t(24),function(t){var e=this;if(e.instancePool.length){var n=e.instancePool.pop();return e.call(n,t),n}return new e(t)}),i=function(t,e){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,t,e),r}return new n(t,e)},a=function(t,e,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,t,e,n),o}return new r(t,e,n)},u=function(t,e,n,r){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();return o.call(i,t,e,n,r),i}return new o(t,e,n,r)},s=function(t){var e=this;t instanceof e||r("25"),t.destructor(),e.instancePool.length<e.poolSize&&e.instancePool.push(t)},c=o,l=function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||c,n.poolSize||(n.poolSize=10),n.release=s,n},f={addPoolingTo:l,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:a,fourArgumentPooler:u};e.exports=f},{19:19,24:24}],3:[function(t,e,n){"use strict";var r=t(26),o=t(4),i=t(5),a=t(7),u=t(8),s=t(11),c=t(13),l=t(15),f=t(18),p=u.createElement,d=u.createFactory,y=u.cloneElement,h=r,m=function(t){return t},v={Children:{map:i.map,forEach:i.forEach,count:i.count,toArray:i.toArray,only:f},Component:o.Component,PureComponent:o.PureComponent,createElement:p,cloneElement:y,isValidElement:u.isValidElement,PropTypes:s,createClass:l,createFactory:d,createMixin:m,DOM:a,version:c,__spread:h};e.exports=v},{11:11,13:13,15:15,18:18,26:26,4:4,5:5,7:7,8:8}],4:[function(t,e,n){"use strict";function r(t,e,n){this.props=t,this.context=e,this.refs=c,this.updater=n||s}function o(t,e,n){this.props=t,this.context=e,this.refs=c,this.updater=n||s}function i(){}var a=t(19),u=t(26),s=t(10),c=(t(14),t(23));t(24),t(17);r.prototype.isReactComponent={},r.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t&&a("85"),this.updater.enqueueSetState(this,t),e&&this.updater.enqueueCallback(this,e,"setState")},r.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this),t&&this.updater.enqueueCallback(this,t,"forceUpdate")};i.prototype=r.prototype,o.prototype=new i,o.prototype.constructor=o,u(o.prototype,r.prototype),o.prototype.isPureReactComponent=!0,e.exports={Component:r,PureComponent:o}},{10:10,14:14,17:17,19:19,23:23,24:24,26:26}],5:[function(t,e,n){"use strict";function r(t){return(""+t).replace(E,"$&/")}function o(t,e){this.func=t,this.context=e,this.count=0}function i(t,e,n){var r=t.func,o=t.context;r.call(o,e,t.count++)}function a(t,e,n){if(null==t)return t;var r=o.getPooled(e,n);v(t,i,r),o.release(r)}function u(t,e,n,r){this.result=t,this.keyPrefix=e,this.func=n,this.context=r,this.count=0}function s(t,e,n){var o=t.result,i=t.keyPrefix,a=t.func,u=t.context,s=a.call(u,e,t.count++);Array.isArray(s)?c(s,o,n,m.thatReturnsArgument):null!=s&&(h.isValidElement(s)&&(s=h.cloneAndReplaceKey(s,i+(!s.key||e&&e.key===s.key?"":r(s.key)+"/")+n)),o.push(s))}function c(t,e,n,o,i){var a="";null!=n&&(a=r(n)+"/");var c=u.getPooled(e,a,o,i);v(t,s,c),u.release(c)}function l(t,e,n){if(null==t)return t;var r=[];return c(t,r,null,e,n),r}function f(t,e,n){return null}function p(t,e){return v(t,f,null)}function d(t){var e=[];return c(t,e,null,m.thatReturnsArgument),e}var y=t(2),h=t(8),m=t(22),v=t(20),b=y.twoArgumentPooler,g=y.fourArgumentPooler,E=/\/+/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},y.addPoolingTo(o,b),u.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},y.addPoolingTo(u,g);var x={forEach:a,map:l,mapIntoWithKeyPrefixInternal:c,count:p,toArray:d};e.exports=x},{2:2,20:20,22:22,8:8}],6:[function(t,e,n){"use strict";var r={current:null};e.exports=r},{}],7:[function(t,e,n){"use strict";var r=t(8),o=r.createFactory,i={a:o("a"),abbr:o("abbr"),address:o("address"),area:o("area"),article:o("article"),aside:o("aside"),audio:o("audio"),b:o("b"),base:o("base"),bdi:o("bdi"),bdo:o("bdo"),big:o("big"),blockquote:o("blockquote"),body:o("body"),br:o("br"),button:o("button"),canvas:o("canvas"),caption:o("caption"),cite:o("cite"),code:o("code"),col:o("col"),colgroup:o("colgroup"),data:o("data"),datalist:o("datalist"),dd:o("dd"),del:o("del"),details:o("details"),dfn:o("dfn"),dialog:o("dialog"),div:o("div"),dl:o("dl"),dt:o("dt"),em:o("em"),embed:o("embed"),fieldset:o("fieldset"),figcaption:o("figcaption"),figure:o("figure"),footer:o("footer"),form:o("form"),h1:o("h1"),h2:o("h2"),h3:o("h3"),h4:o("h4"),h5:o("h5"),h6:o("h6"),head:o("head"),header:o("header"),hgroup:o("hgroup"),hr:o("hr"),html:o("html"),i:o("i"),iframe:o("iframe"),img:o("img"),input:o("input"),ins:o("ins"),kbd:o("kbd"),keygen:o("keygen"),label:o("label"),legend:o("legend"),li:o("li"),link:o("link"),main:o("main"),map:o("map"),mark:o("mark"),menu:o("menu"),menuitem:o("menuitem"),meta:o("meta"),meter:o("meter"),nav:o("nav"),noscript:o("noscript"),object:o("object"),ol:o("ol"),optgroup:o("optgroup"),option:o("option"),output:o("output"),p:o("p"),param:o("param"),picture:o("picture"),pre:o("pre"),progress:o("progress"),q:o("q"),rp:o("rp"),rt:o("rt"),ruby:o("ruby"),s:o("s"),samp:o("samp"),script:o("script"),section:o("section"),select:o("select"),small:o("small"),source:o("source"),span:o("span"),strong:o("strong"),style:o("style"),sub:o("sub"),summary:o("summary"),sup:o("sup"),table:o("table"),tbody:o("tbody"),td:o("td"),textarea:o("textarea"),tfoot:o("tfoot"),th:o("th"),thead:o("thead"),time:o("time"),title:o("title"),tr:o("tr"),track:o("track"),u:o("u"),ul:o("ul"),var:o("var"),video:o("video"),wbr:o("wbr"),circle:o("circle"),clipPath:o("clipPath"),defs:o("defs"),ellipse:o("ellipse"),g:o("g"),image:o("image"),line:o("line"),linearGradient:o("linearGradient"),mask:o("mask"),path:o("path"),pattern:o("pattern"),polygon:o("polygon"),polyline:o("polyline"),radialGradient:o("radialGradient"),rect:o("rect"),stop:o("stop"),svg:o("svg"),text:o("text"),tspan:o("tspan")};e.exports=i},{8:8}],8:[function(t,e,n){"use strict";function r(t){return void 0!==t.ref}function o(t){return void 0!==t.key}var i=t(26),a=t(6),u=(t(25),t(14),Object.prototype.hasOwnProperty),s=t(9),c={key:!0,ref:!0,__self:!0,__source:!0},l=function(t,e,n,r,o,i,a){return{$$typeof:s,type:t,key:e,ref:n,props:a,_owner:i}};l.createElement=function(t,e,n){var i,s={},f=null,p=null;if(null!=e){r(e)&&(p=e.ref),o(e)&&(f=""+e.key),void 0===e.__self?null:e.__self,void 0===e.__source?null:e.__source;for(i in e)u.call(e,i)&&!c.hasOwnProperty(i)&&(s[i]=e[i])}var d=arguments.length-2;if(1===d)s.children=n;else if(d>1){for(var y=Array(d),h=0;h<d;h++)y[h]=arguments[h+2];s.children=y}if(t&&t.defaultProps){var m=t.defaultProps;for(i in m)void 0===s[i]&&(s[i]=m[i])}return l(t,f,p,0,0,a.current,s)},l.createFactory=function(t){var e=l.createElement.bind(null,t);return e.type=t,e},l.cloneAndReplaceKey=function(t,e){return l(t.type,e,t.ref,t._self,t._source,t._owner,t.props)},l.cloneElement=function(t,e,n){var s,f=i({},t.props),p=t.key,d=t.ref,y=(t._self,t._source,t._owner);if(null!=e){r(e)&&(d=e.ref,y=a.current),o(e)&&(p=""+e.key);var h;t.type&&t.type.defaultProps&&(h=t.type.defaultProps);for(s in e)u.call(e,s)&&!c.hasOwnProperty(s)&&(void 0===e[s]&&void 0!==h?f[s]=h[s]:f[s]=e[s])}var m=arguments.length-2;if(1===m)f.children=n;else if(m>1){for(var v=Array(m),b=0;b<m;b++)v[b]=arguments[b+2];f.children=v}return l(t.type,p,d,0,0,y,f)},l.isValidElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===s},e.exports=l},{14:14,25:25,26:26,6:6,9:9}],9:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r},{}],10:[function(t,e,n){"use strict";var r=(t(25),{isMounted:function(t){return!1},enqueueCallback:function(t,e){},enqueueForceUpdate:function(t){},enqueueReplaceState:function(t,e){},enqueueSetState:function(t,e){}});e.exports=r},{25:25}],11:[function(t,e,n){"use strict";var r=t(8),o=r.isValidElement,i=t(28);e.exports=i(o)},{28:28,8:8}],12:[function(t,e,n){"use strict";var r=t(26),o=t(3),i=r(o,{__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:t(6)}});e.exports=i},{26:26,3:3,6:6}],13:[function(t,e,n){"use strict";e.exports="15.6.1"},{}],14:[function(t,e,n){"use strict";e.exports=!1},{}],15:[function(t,e,n){"use strict";var r=t(4),o=r.Component,i=t(8),a=i.isValidElement,u=t(10),s=t(21);e.exports=s(o,a,u)},{10:10,21:21,4:4,8:8}],16:[function(t,e,n){"use strict";function r(t){var e=t&&(o&&t[o]||t[i]);if("function"==typeof e)return e}var o="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";e.exports=r},{}],17:[function(t,e,n){"use strict";var r=function(){};e.exports=r},{}],18:[function(t,e,n){"use strict";function r(t){return i.isValidElement(t)||o("143"),t}var o=t(19),i=t(8);t(24);e.exports=r},{19:19,24:24,8:8}],19:[function(t,e,n){"use strict";function r(t){for(var e=arguments.length-1,n="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(n);throw o.name="Invariant Violation",o.framesToPop=1,o}e.exports=r},{}],20:[function(t,e,n){"use strict";function r(t,e){return t&&"object"==typeof t&&null!=t.key?c.escape(t.key):e.toString(36)}function o(t,e,n,i){var p=typeof t;if("undefined"!==p&&"boolean"!==p||(t=null),null===t||"string"===p||"number"===p||"object"===p&&t.$$typeof===u)return n(i,t,""===e?l+r(t,0):e),1;var d,y,h=0,m=""===e?l:e+f;if(Array.isArray(t))for(var v=0;v<t.length;v++)d=t[v],y=m+r(d,v),h+=o(d,y,n,i);else{var b=s(t);if(b){var g,E=b.call(t);if(b!==t.entries)for(var x=0;!(g=E.next()).done;)d=g.value,y=m+r(d,x++),h+=o(d,y,n,i);else for(;!(g=E.next()).done;){var _=g.value;_&&(d=_[1],y=m+c.escape(_[0])+f+r(d,0),h+=o(d,y,n,i))}}else if("object"===p){var P=String(t);a("31","[object Object]"===P?"object with keys {"+Object.keys(t).join(", ")+"}":P,"")}}return h}function i(t,e,n){return null==t?0:o(t,"",e,n)}var a=t(19),u=(t(6),t(9)),s=t(16),c=(t(24),t(1)),l=(t(25),"."),f=":";e.exports=i},{1:1,16:16,19:19,24:24,25:25,6:6,9:9}],21:[function(t,e,n){"use strict";function r(t){return t}function o(t,e,n){function o(t,e){var n=b.hasOwnProperty(e)?b[e]:null;_.hasOwnProperty(e)&&u("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",e),t&&u("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",e)}function c(t,n){if(n){u("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),u(!e(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=t.prototype,i=r.__reactAutoBindPairs;n.hasOwnProperty(s)&&g.mixins(t,n.mixins);for(var a in n)if(n.hasOwnProperty(a)&&a!==s){var c=n[a],l=r.hasOwnProperty(a);if(o(l,a),g.hasOwnProperty(a))g[a](t,c);else{var f=b.hasOwnProperty(a),y="function"==typeof c,h=y&&!f&&!l&&!1!==n.autobind;if(h)i.push(a,c),r[a]=c;else if(l){var m=b[a];u(f&&("DEFINE_MANY_MERGED"===m||"DEFINE_MANY"===m),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,a),"DEFINE_MANY_MERGED"===m?r[a]=p(r[a],c):"DEFINE_MANY"===m&&(r[a]=d(r[a],c))}else r[a]=c}}}else;}function l(t,e){if(e)for(var n in e){var r=e[n];if(e.hasOwnProperty(n)){var o=n in g;u(!o,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var i=n in t;u(!i,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),t[n]=r}}}function f(t,e){u(t&&e&&"object"==typeof t&&"object"==typeof e,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in e)e.hasOwnProperty(n)&&(u(void 0===t[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),t[n]=e[n]);return t}function p(t,e){return function(){var n=t.apply(this,arguments),r=e.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return f(o,n),f(o,r),o}}function d(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function y(t,e){var n=e.bind(t);return n}function h(t){for(var e=t.__reactAutoBindPairs,n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];t[r]=y(t,o)}}function m(t){var e=r(function(t,r,o){this.__reactAutoBindPairs.length&&h(this),this.props=t,this.context=r,this.refs=a,this.updater=o||n,this.state=null;var i=this.getInitialState?this.getInitialState():null;u("object"==typeof i&&!Array.isArray(i),"%s.getInitialState(): must return an object or null",e.displayName||"ReactCompositeComponent"),this.state=i});e.prototype=new P,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],v.forEach(c.bind(null,e)),c(e,E),c(e,t),c(e,x),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),u(e.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var o in b)e.prototype[o]||(e.prototype[o]=null);return e}var v=[],b={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},g={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)c(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=i({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=i({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=p(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=i({},t.propTypes,e)},statics:function(t,e){l(t,e)},autobind:function(){}},E={componentDidMount:function(){this.__isMounted=!0}},x={componentWillUnmount:function(){this.__isMounted=!1}},_={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t,e)},isMounted:function(){return!!this.__isMounted}},P=function(){};return i(P.prototype,t.prototype,_),m}var i=t(26),a=t(23),u=t(24),s="mixins";e.exports=o},{23:23,24:24,25:25,26:26}],22:[function(t,e,n){"use strict";function r(t){return function(){return t}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(t){return t},e.exports=o},{}],23:[function(t,e,n){"use strict";var r={};e.exports=r},{}],24:[function(t,e,n){"use strict";function r(t,e,n,r,i,a,u,s){if(o(e),!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,u,s],f=0;c=new Error(e.replace(/%s/g,function(){return l[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var o=function(t){};e.exports=r},{}],25:[function(t,e,n){"use strict";var r=t(22),o=r;e.exports=o},{22:22}],26:[function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,u,s=r(t),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)i.call(n,l)&&(s[l]=n[l]);if(o){u=o(n);for(var f=0;f<u.length;f++)a.call(n,u[f])&&(s[u[f]]=n[u[f]])}}return s}},{}],27:[function(t,e,n){"use strict";function r(t,e,n,r,o){}e.exports=r},{24:24,25:25,30:30}],28:[function(t,e,n){"use strict";var r=t(29);e.exports=function(t){return r(t,!1)}},{29:29}],29:[function(t,e,n){"use strict";var r=t(22),o=t(24),i=t(25),a=t(30),u=t(27);e.exports=function(t,e){function n(t){var e=t&&(w&&t[w]||t[N]);if("function"==typeof e)return e}function s(t,e){return t===e?0!==t||1/t==1/e:t!==t&&e!==e}function c(t){this.message=t,this.stack=""}function l(t){function n(n,r,i,u,s,l,f){if(u=u||A,l=l||i,f!==a)if(e)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else;return null==r[i]?n?new c(null===r[i]?"The "+s+" `"+l+"` is marked as required in `"+u+"`, but its value is `null`.":"The "+s+" `"+l+"` is marked as required in `"+u+"`, but its value is `undefined`."):null:t(r,i,u,s,l)}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),r}function f(t){function e(e,n,r,o,i,a){var u=e[n];if(E(u)!==t)return new c("Invalid "+o+" `"+i+"` of type `"+x(u)+"` supplied to `"+r+"`, expected `"+t+"`.");return null}return l(e)}function p(t){function e(e,n,r,o,i){if("function"!=typeof t)return new c("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var u=e[n];if(!Array.isArray(u)){return new c("Invalid "+o+" `"+i+"` of type `"+E(u)+"` supplied to `"+r+"`, expected an array.")}for(var s=0;s<u.length;s++){var l=t(u,s,r,o,i+"["+s+"]",a);if(l instanceof Error)return l}return null}return l(e)}function d(t){function e(e,n,r,o,i){if(!(e[n]instanceof t)){var a=t.name||A;return new c("Invalid "+o+" `"+i+"` of type `"+P(e[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return l(e)}function y(t){function e(e,n,r,o,i){for(var a=e[n],u=0;u<t.length;u++)if(s(a,t[u]))return null;return new c("Invalid "+o+" `"+i+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(t)+".")}return Array.isArray(t)?l(e):r.thatReturnsNull}function h(t){function e(e,n,r,o,i){if("function"!=typeof t)return new c("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var u=e[n],s=E(u);if("object"!==s)return new c("Invalid "+o+" `"+i+"` of type `"+s+"` supplied to `"+r+"`, expected an object.");for(var l in u)if(u.hasOwnProperty(l)){var f=t(u,l,r,o,i+"."+l,a);if(f instanceof Error)return f}return null}return l(e)}function m(t){function e(e,n,r,o,i){for(var u=0;u<t.length;u++){if(null==(0,t[u])(e,n,r,o,i,a))return null}return new c("Invalid "+o+" `"+i+"` supplied to `"+r+"`.")}if(!Array.isArray(t))return r.thatReturnsNull;for(var n=0;n<t.length;n++){var o=t[n];if("function"!=typeof o)return i(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",_(o),n),r.thatReturnsNull}return l(e)}function v(t){function e(e,n,r,o,i){var u=e[n],s=E(u);if("object"!==s)return new c("Invalid "+o+" `"+i+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");for(var l in t){var f=t[l];if(f){var p=f(u,l,r,o,i+"."+l,a);if(p)return p}}return null}return l(e)}function b(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(b);if(null===e||t(e))return!0;var r=n(e);if(!r)return!1;var o,i=r.call(e);if(r!==e.entries){for(;!(o=i.next()).done;)if(!b(o.value))return!1}else for(;!(o=i.next()).done;){var a=o.value;if(a&&!b(a[1]))return!1}return!0;default:return!1}}function g(t,e){return"symbol"===t||("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)}function E(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":g(e,t)?"symbol":e}function x(t){if(void 0===t||null===t)return""+t;var e=E(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function _(t){var e=x(t);switch(e){case"array":case"object":return"an "+e;case"boolean":case"date":case"regexp":return"a "+e;default:return e}}function P(t){return t.constructor&&t.constructor.name?t.constructor.name:A}var w="function"==typeof Symbol&&Symbol.iterator,N="@@iterator",A="<<anonymous>>",O={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:function(){return l(r.thatReturnsNull)}(),arrayOf:p,element:function(){function e(e,n,r,o,i){var a=e[n];if(!t(a)){return new c("Invalid "+o+" `"+i+"` of type `"+E(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return null}return l(e)}(),instanceOf:d,node:function(){function t(t,e,n,r,o){return b(t[e])?null:new c("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")}return l(t)}(),objectOf:h,oneOf:y,oneOfType:m,shape:v};return c.prototype=Error.prototype,O.checkPropTypes=u,O.PropTypes=O,O}},{22:22,24:24,25:25,27:27,30:30}],30:[function(t,e,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},{}]},{},[12])(12)});/**
 * ReactDOM v15.6.1
 *
 * Copyright 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define(["react"],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ReactDOM=e(t.React)}}(function(e){return function(t){return function(){return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";var r={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}};t.exports=r},{}],2:[function(e,t,n){"use strict";var r=e(33),o=e(132),i={focusDOMComponent:function(){o(r.getNodeFromInstance(this))}};t.exports=i},{132:132,33:33}],3:[function(e,t,n){"use strict";function r(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function o(e){switch(e){case"topCompositionStart":return T.compositionStart;case"topCompositionEnd":return T.compositionEnd;case"topCompositionUpdate":return T.compositionUpdate}}function i(e,t){return"topKeyDown"===e&&t.keyCode===y}function a(e,t){switch(e){case"topKeyUp":return-1!==g.indexOf(t.keyCode);case"topKeyDown":return t.keyCode!==y;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function s(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function u(e,t,n,r){var u,l;if(_?u=o(e):P?a(e,n)&&(u=T.compositionEnd):i(e,n)&&(u=T.compositionStart),!u)return null;E&&(P||u!==T.compositionStart?u===T.compositionEnd&&P&&(l=P.getData()):P=h.getPooled(r));var c=m.getPooled(u,t,n,r);if(l)c.data=l;else{var p=s(n);null!==p&&(c.data=p)}return d.accumulateTwoPhaseDispatches(c),c}function l(e,t){switch(e){case"topCompositionEnd":return s(t);case"topKeyPress":return t.which!==x?null:(k=!0,w);case"topTextInput":var n=t.data;return n===w&&k?null:n;default:return null}}function c(e,t){if(P){if("topCompositionEnd"===e||!_&&a(e,t)){var n=P.getData();return h.release(P),P=null,n}return null}switch(e){case"topPaste":return null;case"topKeyPress":return t.which&&!r(t)?String.fromCharCode(t.which):null;case"topCompositionEnd":return E?null:t.data;default:return null}}function p(e,t,n,r){var o;if(!(o=b?l(e,n):c(e,n)))return null;var i=v.getPooled(T.beforeInput,t,n,r);return i.data=o,d.accumulateTwoPhaseDispatches(i),i}var d=e(19),f=e(124),h=e(20),m=e(78),v=e(82),g=[9,13,27,32],y=229,_=f.canUseDOM&&"CompositionEvent"in window,C=null;f.canUseDOM&&"documentMode"in document&&(C=document.documentMode);var b=f.canUseDOM&&"TextEvent"in window&&!C&&!function(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}(),E=f.canUseDOM&&(!_||C&&C>8&&C<=11),x=32,w=String.fromCharCode(x),T={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},k=!1,P=null,S={eventTypes:T,extractEvents:function(e,t,n,r){return[u(e,t,n,r),p(e,t,n,r)]}};t.exports=S},{124:124,19:19,20:20,78:78,82:82}],4:[function(e,t,n){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var o={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(o).forEach(function(e){i.forEach(function(t){o[r(t,e)]=o[e]})});var a={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:o,shorthandPropertyExpansions:a};t.exports=s},{}],5:[function(e,t,n){"use strict";var r=e(4),o=e(124),i=(e(58),e(126),e(94)),a=e(137),s=e(141),u=(e(143),s(function(e){return a(e)})),l=!1,c="cssFloat";if(o.canUseDOM){var p=document.createElement("div").style;try{p.font=""}catch(e){l=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var d={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var o=0===r.indexOf("--"),a=e[r];null!=a&&(n+=u(r)+":",n+=i(r,a,t,o)+";")}return n||null},setValueForStyles:function(e,t,n){var o=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=0===a.indexOf("--"),u=i(a,t[a],n,s);if("float"!==a&&"cssFloat"!==a||(a=c),s)o.setProperty(a,u);else if(u)o[a]=u;else{var p=l&&r.shorthandPropertyExpansions[a];if(p)for(var d in p)o[d]="";else o[a]=""}}}};t.exports=d},{124:124,126:126,137:137,141:141,143:143,4:4,58:58,94:94}],6:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=e(113),i=e(24),a=(e(138),function(){function e(t){r(this,e),this._callbacks=null,this._contexts=null,this._arg=t}return e.prototype.enqueue=function(e,t){this._callbacks=this._callbacks||[],this._callbacks.push(e),this._contexts=this._contexts||[],this._contexts.push(t)},e.prototype.notifyAll=function(){var e=this._callbacks,t=this._contexts,n=this._arg;if(e&&t){e.length!==t.length&&o("24"),this._callbacks=null,this._contexts=null;for(var r=0;r<e.length;r++)e[r].call(t[r],n);e.length=0,t.length=0}},e.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},e.prototype.rollback=function(e){this._callbacks&&this._contexts&&(this._callbacks.length=e,this._contexts.length=e)},e.prototype.reset=function(){this._callbacks=null,this._contexts=null},e.prototype.destructor=function(){this.reset()},e}());t.exports=i.addPoolingTo(a)},{113:113,138:138,24:24}],7:[function(e,t,n){"use strict";function r(e,t,n){var r=k.getPooled(I.change,e,t,n);return r.type="change",E.accumulateTwoPhaseDispatches(r),r}function o(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function i(e){var t=r(R,e,S(e));T.batchedUpdates(a,t)}function a(e){b.enqueueEvents(e),b.processEventQueue(!1)}function s(e,t){O=e,R=t,O.attachEvent("onchange",i)}function u(){O&&(O.detachEvent("onchange",i),O=null,R=null)}function l(e,t){var n=P.updateValueIfChanged(e),r=!0===t.simulated&&L._allowSimulatedPassThrough;if(n||r)return e}function c(e,t){if("topChange"===e)return t}function p(e,t,n){"topFocus"===e?(u(),s(t,n)):"topBlur"===e&&u()}function d(e,t){O=e,R=t,O.attachEvent("onpropertychange",h)}function f(){O&&(O.detachEvent("onpropertychange",h),O=null,R=null)}function h(e){"value"===e.propertyName&&l(R,e)&&i(e)}function m(e,t,n){"topFocus"===e?(f(),d(t,n)):"topBlur"===e&&f()}function v(e,t,n){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return l(R,n)}function g(e){var t=e.nodeName;return t&&"input"===t.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function y(e,t,n){if("topClick"===e)return l(t,n)}function _(e,t,n){if("topInput"===e||"topChange"===e)return l(t,n)}function C(e,t){if(null!=e){var n=e._wrapperState||t._wrapperState;if(n&&n.controlled&&"number"===t.type){var r=""+t.value;t.getAttribute("value")!==r&&t.setAttribute("value",r)}}}var b=e(16),E=e(19),x=e(124),w=e(33),T=e(71),k=e(80),P=e(108),S=e(102),N=e(110),M=e(111),I={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}},O=null,R=null,A=!1;x.canUseDOM&&(A=N("change")&&(!document.documentMode||document.documentMode>8));var D=!1;x.canUseDOM&&(D=N("input")&&(!("documentMode"in document)||document.documentMode>9));var L={eventTypes:I,_allowSimulatedPassThrough:!0,_isInputEventSupported:D,extractEvents:function(e,t,n,i){var a,s,u=t?w.getNodeFromInstance(t):window;if(o(u)?A?a=c:s=p:M(u)?D?a=_:(a=v,s=m):g(u)&&(a=y),a){var l=a(e,t,n);if(l)return r(l,n,i)}s&&s(e,u,t),"topBlur"===e&&C(t,u)}};t.exports=L},{102:102,108:108,110:110,111:111,124:124,16:16,19:19,33:33,71:71,80:80}],8:[function(e,t,n){"use strict";function r(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function o(e,t,n){c.insertTreeBefore(e,t,n)}function i(e,t,n){Array.isArray(t)?s(e,t[0],t[1],n):m(e,t,n)}function a(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],u(e,t,n),e.removeChild(n)}e.removeChild(t)}function s(e,t,n,r){for(var o=t;;){var i=o.nextSibling;if(m(e,o,r),o===n)break;o=i}}function u(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}function l(e,t,n){var r=e.parentNode,o=e.nextSibling;o===t?n&&m(r,document.createTextNode(n),o):n?(h(o,n),u(r,o,t)):u(r,e,t)}var c=e(9),p=e(13),d=(e(33),e(58),e(93)),f=e(115),h=e(116),m=d(function(e,t,n){e.insertBefore(t,n)}),v=p.dangerouslyReplaceNodeWithMarkup,g={dangerouslyReplaceNodeWithMarkup:v,replaceDelimitedText:l,processUpdates:function(e,t){for(var n=0;n<t.length;n++){var s=t[n];switch(s.type){case"INSERT_MARKUP":o(e,s.content,r(e,s.afterNode));break;case"MOVE_EXISTING":i(e,s.fromNode,r(e,s.afterNode));break;case"SET_MARKUP":f(e,s.content);break;case"TEXT_CONTENT":h(e,s.content);break;case"REMOVE_NODE":a(e,s.fromNode)}}}};t.exports=g},{115:115,116:116,13:13,33:33,58:58,9:9,93:93}],9:[function(e,t,n){"use strict";function r(e){if(h){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)m(t,n[r],null);else null!=e.html?p(t,e.html):null!=e.text&&f(t,e.text)}}function o(e,t){e.parentNode.replaceChild(t.node,e),r(t)}function i(e,t){h?e.children.push(t):e.node.appendChild(t.node)}function a(e,t){h?e.html=t:p(e.node,t)}function s(e,t){h?e.text=t:f(e.node,t)}function u(){return this.node.nodeName}function l(e){return{node:e,children:[],html:null,text:null,toString:u}}var c=e(10),p=e(115),d=e(93),f=e(116),h="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),m=d(function(e,t,n){11===t.node.nodeType||1===t.node.nodeType&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===c.html)?(r(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),r(t))});l.insertTreeBefore=m,l.replaceChildWithTree=o,l.queueChild=i,l.queueHTML=a,l.queueText=s,t.exports=l},{10:10,115:115,116:116,93:93}],10:[function(e,t,n){"use strict";var r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};t.exports=r},{}],11:[function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var o=e(113),i=(e(138),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=i,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},u=e.DOMAttributeNames||{},l=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var p in n){s.properties.hasOwnProperty(p)&&o("48",p);var d=p.toLowerCase(),f=n[p],h={attributeName:d,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseProperty:r(f,t.MUST_USE_PROPERTY),hasBooleanValue:r(f,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(f,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(f,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(f,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1||o("50",p),u.hasOwnProperty(p)){var m=u[p];h.attributeName=m}a.hasOwnProperty(p)&&(h.attributeNamespace=a[p]),l.hasOwnProperty(p)&&(h.propertyName=l[p]),c.hasOwnProperty(p)&&(h.mutationMethod=c[p]),s.properties[p]=h}}}),a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++)if((0,s._isCustomAttributeFunctions[t])(e))return!0;return!1},injection:i};t.exports=s},{113:113,138:138}],12:[function(e,t,n){"use strict";function r(e){return!!l.hasOwnProperty(e)||!u.hasOwnProperty(e)&&(s.test(e)?(l[e]=!0,!0):(u[e]=!0,!1))}function o(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&!1===t}var i=e(11),a=(e(33),e(58),e(112)),s=(e(143),new RegExp("^["+i.ATTRIBUTE_NAME_START_CHAR+"]["+i.ATTRIBUTE_NAME_CHAR+"]*$")),u={},l={},c={createMarkupForID:function(e){return i.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(i.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return i.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(i.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=i.properties.hasOwnProperty(e)?i.properties[e]:null;if(n){if(o(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&!0===t?r+'=""':r+"="+a(t)}return i.isCustomAttribute(e)?null==t?"":e+"="+a(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+a(t):""},setValueForProperty:function(e,t,n){var r=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(r){var a=r.mutationMethod;if(a)a(e,n);else{if(o(r,n))return void this.deleteValueForProperty(e,t);if(r.mustUseProperty)e[r.propertyName]=n;else{var s=r.attributeName,u=r.attributeNamespace;u?e.setAttributeNS(u,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===n?e.setAttribute(s,""):e.setAttribute(s,""+n)}}}else if(i.isCustomAttribute(t))return void c.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){r(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var o=n.propertyName;n.hasBooleanValue?e[o]=!1:e[o]=""}else e.removeAttribute(n.attributeName)}else i.isCustomAttribute(t)&&e.removeAttribute(t)}};t.exports=c},{11:11,112:112,143:143,33:33,58:58}],13:[function(e,t,n){"use strict";var r=e(113),o=e(9),i=e(124),a=e(129),s=e(130),u=(e(138),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(i.canUseDOM||r("56"),t||r("57"),"HTML"===e.nodeName&&r("58"),"string"==typeof t){var n=a(t,s)[0];e.parentNode.replaceChild(n,e)}else o.replaceChildWithTree(e,t)}});t.exports=u},{113:113,124:124,129:129,130:130,138:138,9:9}],14:[function(e,t,n){"use strict";var r=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"];t.exports=r},{}],15:[function(e,t,n){"use strict";var r=e(19),o=e(33),i=e(84),a={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},s={eventTypes:a,extractEvents:function(e,t,n,s){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var u;if(s.window===s)u=s;else{var l=s.ownerDocument;u=l?l.defaultView||l.parentWindow:window}var c,p;if("topMouseOut"===e){c=t;var d=n.relatedTarget||n.toElement;p=d?o.getClosestInstanceFromNode(d):null}else c=null,p=t;if(c===p)return null;var f=null==c?u:o.getNodeFromInstance(c),h=null==p?u:o.getNodeFromInstance(p),m=i.getPooled(a.mouseLeave,c,n,s);m.type="mouseleave",m.target=f,m.relatedTarget=h;var v=i.getPooled(a.mouseEnter,p,n,s);return v.type="mouseenter",v.target=h,v.relatedTarget=f,r.accumulateEnterLeaveDispatches(m,v,c,p),[m,v]}};t.exports=s},{19:19,33:33,84:84}],16:[function(e,t,n){"use strict";function r(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}function o(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||!r(t));default:return!1}}var i=e(113),a=e(17),s=e(18),u=e(50),l=e(91),c=e(98),p=(e(138),{}),d=null,f=function(e,t){e&&(s.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},h=function(e){return f(e,!0)},m=function(e){return f(e,!1)},v=function(e){return"."+e._rootNodeID},g={injection:{injectEventPluginOrder:a.injectEventPluginOrder,injectEventPluginsByName:a.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n&&i("94",t,typeof n);var r=v(e);(p[t]||(p[t]={}))[r]=n;var o=a.registrationNameModules[t];o&&o.didPutListener&&o.didPutListener(e,t,n)},getListener:function(e,t){var n=p[t];if(o(t,e._currentElement.type,e._currentElement.props))return null;var r=v(e);return n&&n[r]},deleteListener:function(e,t){var n=a.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=p[t];r&&delete r[v(e)]},deleteAllListeners:function(e){var t=v(e);for(var n in p)if(p.hasOwnProperty(n)&&p[n][t]){var r=a.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(e,n),delete p[n][t]}},extractEvents:function(e,t,n,r){for(var o,i=a.plugins,s=0;s<i.length;s++){var u=i[s];if(u){var c=u.extractEvents(e,t,n,r);c&&(o=l(o,c))}}return o},enqueueEvents:function(e){e&&(d=l(d,e))},processEventQueue:function(e){var t=d;d=null,e?c(t,h):c(t,m),d&&i("95"),u.rethrowCaughtError()},__purge:function(){p={}},__getListenerBank:function(){return p}};t.exports=g},{113:113,138:138,17:17,18:18,50:50,91:91,98:98}],17:[function(e,t,n){"use strict";function r(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);if(n>-1||a("96",e),!l.plugins[n]){t.extractEvents||a("97",e),l.plugins[n]=t;var r=t.eventTypes;for(var i in r)o(r[i],t,i)||a("98",i,e)}}}function o(e,t,n){l.eventNameDispatchConfigs.hasOwnProperty(n)&&a("99",n),l.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];i(s,t,n)}return!0}return!!e.registrationName&&(i(e.registrationName,t,n),!0)}function i(e,t,n){l.registrationNameModules[e]&&a("100",e),l.registrationNameModules[e]=t,l.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=e(113),s=(e(138),null),u={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){s&&a("101"),s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];u.hasOwnProperty(n)&&u[n]===o||(u[n]&&a("102",n),u[n]=o,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return l.registrationNameModules[t.registrationName]||null;if(void 0!==t.phasedRegistrationNames){var n=t.phasedRegistrationNames;for(var r in n)if(n.hasOwnProperty(r)){var o=l.registrationNameModules[n[r]];if(o)return o}}return null},_resetEventPlugins:function(){s=null;for(var e in u)u.hasOwnProperty(e)&&delete u[e];l.plugins.length=0;var t=l.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=l.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};t.exports=l},{113:113,138:138}],18:[function(e,t,n){"use strict";function r(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e}function o(e){return"topMouseMove"===e||"topTouchMove"===e}function i(e){return"topMouseDown"===e||"topTouchStart"===e}function a(e,t,n,r){var o=e.type||"unknown-event";e.currentTarget=g.getNodeFromInstance(r),t?m.invokeGuardedCallbackWithCatch(o,n,e):m.invokeGuardedCallback(o,n,e),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)a(e,t,n[o],r[o]);else n&&a(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function u(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function l(e){var t=u(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)&&h("103"),e.currentTarget=t?g.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function p(e){return!!e._dispatchListeners}var d,f,h=e(113),m=e(50),v=(e(138),e(143),{injectComponentTree:function(e){d=e},injectTreeTraversal:function(e){f=e}}),g={isEndish:r,isMoveish:o,isStartish:i,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:l,hasDispatches:p,getInstanceFromNode:function(e){return d.getInstanceFromNode(e)},getNodeFromInstance:function(e){return d.getNodeFromInstance(e)},isAncestor:function(e,t){return f.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return f.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return f.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return f.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,o){return f.traverseEnterLeave(e,t,n,r,o)},injection:v};t.exports=g},{113:113,138:138,143:143,50:50}],19:[function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return g(e,r)}function o(e,t,n){var o=r(e,n,t);o&&(n._dispatchListeners=m(n._dispatchListeners,o),n._dispatchInstances=m(n._dispatchInstances,e))}function i(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.traverseTwoPhase(e._targetInst,o,e)}function a(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?h.getParentInstance(t):null;h.traverseTwoPhase(n,o,e)}}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=g(e,r);o&&(n._dispatchListeners=m(n._dispatchListeners,o),n._dispatchInstances=m(n._dispatchInstances,e))}}function u(e){e&&e.dispatchConfig.registrationName&&s(e._targetInst,null,e)}function l(e){v(e,i)}function c(e){v(e,a)}function p(e,t,n,r){h.traverseEnterLeave(n,r,s,e,t)}function d(e){v(e,u)}var f=e(16),h=e(18),m=e(91),v=e(98),g=(e(143),f.getListener),y={accumulateTwoPhaseDispatches:l,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:d,accumulateEnterLeaveDispatches:p};t.exports=y},{143:143,16:16,18:18,91:91,98:98}],20:[function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var o=e(144),i=e(24),a=e(106);o(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,o=this.getText(),i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=o.slice(e,s),this._fallbackText}}),i.addPoolingTo(r),t.exports=r},{106:106,144:144,24:24}],21:[function(e,t,n){"use strict";var r=e(11),o=r.injection.MUST_USE_PROPERTY,i=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,u=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,l={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:i,allowTransparency:0,alt:0,as:0,async:i,autoComplete:0,autoPlay:i,capture:i,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:o|i,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:i,coords:0,crossOrigin:0,data:0,dateTime:0,default:i,defer:i,dir:0,disabled:i,download:u,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:i,formTarget:0,frameBorder:0,headers:0,height:0,hidden:i,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:i,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:o|i,muted:o|i,name:0,nonce:0,noValidate:i,open:i,optimum:0,pattern:0,placeholder:0,playsInline:i,poster:0,preload:0,profile:0,radioGroup:0,readOnly:i,referrerPolicy:0,rel:0,required:i,reversed:i,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:i,scrolling:0,seamless:i,selected:o|i,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:i,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}};t.exports=l},{11:11}],22:[function(e,t,n){"use strict";function r(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function o(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(t,function(e){return n[e]})}var i={escape:r,unescape:o};t.exports=i},{}],23:[function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink&&s("87")}function o(e){r(e),(null!=e.value||null!=e.onChange)&&s("88")}function i(e){r(e),(null!=e.checked||null!=e.onChange)&&s("89")}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=e(113),u=e(64),l=e(146),c=e(121),p=l(c.isValidElement),d=(e(138),e(143),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),f={value:function(e,t,n){return!e[t]||d[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:p.func},h={},m={checkPropTypes:function(e,t,n){for(var r in f){if(f.hasOwnProperty(r))var o=f[r](t,r,e,"prop",null,u);o instanceof Error&&!(o.message in h)&&(h[o.message]=!0,a(n))}},getValue:function(e){return e.valueLink?(o(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(i(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(o(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(i(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};t.exports=m},{113:113,121:121,138:138,143:143,146:146,64:64}],24:[function(e,t,n){"use strict";var r=e(113),o=(e(138),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},s=function(e,t,n,r){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();return o.call(i,e,t,n,r),i}return new o(e,t,n,r)},u=function(e){var t=this;e instanceof t||r("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},l=o,c=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||l,n.poolSize||(n.poolSize=10),n.release=u,n},p={addPoolingTo:c,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:a,fourArgumentPooler:s};t.exports=p},{113:113,138:138}],25:[function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=f++,p[e[m]]={}),p[e[m]]}var o,i=e(144),a=e(17),s=e(51),u=e(90),l=e(107),c=e(110),p={},d=!1,f=0,h={topAbort:"abort",topAnimationEnd:l("animationend")||"animationend",topAnimationIteration:l("animationiteration")||"animationiteration",topAnimationStart:l("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",
topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:l("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),v=i({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(v.handleTopLevel),v.ReactEventListener=e}},setEnabled:function(e){v.ReactEventListener&&v.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!v.ReactEventListener||!v.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,o=r(n),i=a.registrationNameDependencies[e],s=0;s<i.length;s++){var u=i[s];o.hasOwnProperty(u)&&o[u]||("topWheel"===u?c("wheel")?v.ReactEventListener.trapBubbledEvent("topWheel","wheel",n):c("mousewheel")?v.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",n):v.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",n):"topScroll"===u?c("scroll",!0)?v.ReactEventListener.trapCapturedEvent("topScroll","scroll",n):v.ReactEventListener.trapBubbledEvent("topScroll","scroll",v.ReactEventListener.WINDOW_HANDLE):"topFocus"===u||"topBlur"===u?(c("focus",!0)?(v.ReactEventListener.trapCapturedEvent("topFocus","focus",n),v.ReactEventListener.trapCapturedEvent("topBlur","blur",n)):c("focusin")&&(v.ReactEventListener.trapBubbledEvent("topFocus","focusin",n),v.ReactEventListener.trapBubbledEvent("topBlur","focusout",n)),o.topBlur=!0,o.topFocus=!0):h.hasOwnProperty(u)&&v.ReactEventListener.trapBubbledEvent(u,h[u],n),o[u]=!0)}},trapBubbledEvent:function(e,t,n){return v.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return v.ReactEventListener.trapCapturedEvent(e,t,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0===o&&(o=v.supportsEventPageXY()),!o&&!d){var e=u.refreshScrollValues;v.ReactEventListener.monitorScrollValue(e),d=!0}}});t.exports=v},{107:107,110:110,144:144,17:17,51:51,90:90}],26:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r){var o=void 0===e[n];null!=t&&o&&(e[n]=i(t,!0))}var o=e(66),i=e(109),a=(e(22),e(117)),s=e(118);e(143);void 0!==n&&n.env;var u={instantiateChildren:function(e,t,n,o){if(null==e)return null;var i={};return s(e,r,i),i},updateChildren:function(e,t,n,r,s,u,l,c,p){if(t||e){var d,f;for(d in t)if(t.hasOwnProperty(d)){f=e&&e[d];var h=f&&f._currentElement,m=t[d];if(null!=f&&a(h,m))o.receiveComponent(f,m,s,c),t[d]=f;else{f&&(r[d]=o.getHostNode(f),o.unmountComponent(f,!1));var v=i(m,!0);t[d]=v;var g=o.mountComponent(v,s,u,l,c,p);n.push(g)}}for(d in e)!e.hasOwnProperty(d)||t&&t.hasOwnProperty(d)||(f=e[d],r[d]=o.getHostNode(f),o.unmountComponent(f,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];o.unmountComponent(r,t)}}};t.exports=u}).call(this,void 0)},{109:109,117:117,118:118,143:143,22:22,66:66}],27:[function(e,t,n){"use strict";var r=e(8),o=e(37),i={processChildrenUpdates:o.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};t.exports=i},{37:37,8:8}],28:[function(e,t,n){"use strict";var r=e(113),o=(e(138),!1),i={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){o&&r("104"),i.replaceNodeWithMarkup=e.replaceNodeWithMarkup,i.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};t.exports=i},{113:113,138:138}],29:[function(e,t,n){"use strict";function r(e){}function o(e){return!(!e.prototype||!e.prototype.isReactComponent)}function i(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}var a=e(113),s=e(144),u=e(121),l=e(28),c=e(120),p=e(50),d=e(57),f=(e(58),e(62)),h=e(66),m=e(131),v=(e(138),e(142)),g=e(117),y=(e(143),{ImpureClass:0,PureClass:1,StatelessFunctional:2});r.prototype.render=function(){var e=d.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return t};var _=1,C={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,s){this._context=s,this._mountOrder=_++,this._hostParent=t,this._hostContainerInfo=n;var l,c=this._currentElement.props,p=this._processContext(s),f=this._currentElement.type,h=e.getUpdateQueue(),v=o(f),g=this._constructComponent(v,c,p,h);v||null!=g&&null!=g.render?i(f)?this._compositeType=y.PureClass:this._compositeType=y.ImpureClass:(l=g,null===g||!1===g||u.isValidElement(g)||a("105",f.displayName||f.name||"Component"),g=new r(f),this._compositeType=y.StatelessFunctional),g.props=c,g.context=p,g.refs=m,g.updater=h,this._instance=g,d.set(g,this);var C=g.state;void 0===C&&(g.state=C=null),("object"!=typeof C||Array.isArray(C))&&a("106",this.getName()||"ReactCompositeComponent"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var b;return b=g.unstable_handleError?this.performInitialMountWithErrorHandling(l,t,n,e,s):this.performInitialMount(l,t,n,e,s),g.componentDidMount&&e.getReactMountReady().enqueue(g.componentDidMount,g),b},_constructComponent:function(e,t,n,r){return this._constructComponentWithoutOwner(e,t,n,r)},_constructComponentWithoutOwner:function(e,t,n,r){var o=this._currentElement.type;return e?new o(t,n,r):o(t,n,r)},performInitialMountWithErrorHandling:function(e,t,n,r,o){var i,a=r.checkpoint();try{i=this.performInitialMount(e,t,n,r,o)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),i=this.performInitialMount(e,t,n,r,o)}return i},performInitialMount:function(e,t,n,r,o){var i=this._instance;i.componentWillMount&&(i.componentWillMount(),this._pendingStateQueue&&(i.state=this._processPendingState(i.props,i.context))),void 0===e&&(e=this._renderValidatedComponent());var a=f.getType(e);this._renderedNodeType=a;var s=this._instantiateReactComponent(e,a!==f.EMPTY);return this._renderedComponent=s,h.mountComponent(s,r,t,n,this._processChildContext(o),0)},getHostNode:function(){return h.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";p.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(h.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,d.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return m;var r={};for(var o in n)r[o]=e[o];return r},_processContext:function(e){return this._maskContext(e)},_processChildContext:function(e){var t,n=this._currentElement.type,r=this._instance;if(r.getChildContext&&(t=r.getChildContext()),t){"object"!=typeof n.childContextTypes&&a("107",this.getName()||"ReactCompositeComponent");for(var o in t)o in n.childContextTypes||a("108",this.getName()||"ReactCompositeComponent",o);return s({},e,t)}return e},_checkContextTypes:function(e,t,n){},receiveComponent:function(e,t,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,r,e,o,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?h.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,r,o){var i=this._instance;null==i&&a("136",this.getName()||"ReactCompositeComponent");var s,u=!1;this._context===o?s=i.context:(s=this._processContext(o),u=!0);var l=t.props,c=n.props;t!==n&&(u=!0),u&&i.componentWillReceiveProps&&i.componentWillReceiveProps(c,s);var p=this._processPendingState(c,s),d=!0;this._pendingForceUpdate||(i.shouldComponentUpdate?d=i.shouldComponentUpdate(c,p,s):this._compositeType===y.PureClass&&(d=!v(l,c)||!v(i.state,p))),this._updateBatchNumber=null,d?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,c,p,s,e,o)):(this._currentElement=n,this._context=o,i.props=c,i.state=p,i.context=s)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var i=s({},o?r[0]:n.state),a=o?1:0;a<r.length;a++){var u=r[a];s(i,"function"==typeof u?u.call(n,i,e,t):u)}return i},_performComponentUpdate:function(e,t,n,r,o,i){var a,s,u,l=this._instance,c=Boolean(l.componentDidUpdate);c&&(a=l.props,s=l.state,u=l.context),l.componentWillUpdate&&l.componentWillUpdate(t,n,r),this._currentElement=e,this._context=i,l.props=t,l.state=n,l.context=r,this._updateRenderedComponent(o,i),c&&o.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,a,s,u),l)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,o=this._renderValidatedComponent();if(g(r,o))h.receiveComponent(n,o,e,this._processChildContext(t));else{var i=h.getHostNode(n);h.unmountComponent(n,!1);var a=f.getType(o);this._renderedNodeType=a;var s=this._instantiateReactComponent(o,a!==f.EMPTY);this._renderedComponent=s;var u=h.mountComponent(s,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),0);this._replaceNodeWithMarkup(i,u,n)}},_replaceNodeWithMarkup:function(e,t,n){l.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){return this._instance.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==y.StatelessFunctional){c.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{c.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||!1===e||u.isValidElement(e)||a("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n&&a("110");var r=t.getPublicInstance();(n.refs===m?n.refs={}:n.refs)[e]=r},detachRef:function(e){delete this.getPublicInstance().refs[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===y.StatelessFunctional?null:e},_instantiateReactComponent:null};t.exports=C},{113:113,117:117,120:120,121:121,131:131,138:138,142:142,143:143,144:144,28:28,50:50,57:57,58:58,62:62,66:66}],30:[function(e,t,n){"use strict";var r=e(33),o=e(47),i=e(60),a=e(66),s=e(71),u=e(72),l=e(96),c=e(103),p=e(114);e(143);o.inject();var d={findDOMNode:l,render:i.render,unmountComponentAtNode:i.unmountComponentAtNode,version:u,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:p};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=c(e)),e?r.getNodeFromInstance(e):null}},Mount:i,Reconciler:a});t.exports=d},{103:103,114:114,143:143,33:33,47:47,60:60,66:66,71:71,72:72,96:96}],31:[function(e,t,n){"use strict";function r(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function o(e,t){t&&(Q[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&v("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&v("60"),"object"==typeof t.dangerouslySetInnerHTML&&H in t.dangerouslySetInnerHTML||v("61")),null!=t.style&&"object"!=typeof t.style&&v("62",r(e)))}function i(e,t,n,r){if(!(r instanceof A)){var o=e._hostContainerInfo,i=o._node&&o._node.nodeType===K,s=i?o._node:o._ownerDocument;j(t,s),r.getReactMountReady().enqueue(a,{inst:e,registrationName:t,listener:n})}}function a(){var e=this;w.putListener(e.inst,e.registrationName,e.listener)}function s(){var e=this;N.postMountWrapper(e)}function u(){var e=this;O.postMountWrapper(e)}function l(){var e=this;M.postMountWrapper(e)}function c(){L.track(this)}function p(){var e=this;e._rootNodeID||v("63");var t=V(e);switch(t||v("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[k.trapBubbledEvent("topLoad","load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in z)z.hasOwnProperty(n)&&e._wrapperState.listeners.push(k.trapBubbledEvent(n,z[n],t));break;case"source":e._wrapperState.listeners=[k.trapBubbledEvent("topError","error",t)];break;case"img":e._wrapperState.listeners=[k.trapBubbledEvent("topError","error",t),k.trapBubbledEvent("topLoad","load",t)];break;case"form":e._wrapperState.listeners=[k.trapBubbledEvent("topReset","reset",t),k.trapBubbledEvent("topSubmit","submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[k.trapBubbledEvent("topInvalid","invalid",t)]}}function d(){I.postUpdateWrapper(this)}function f(e){Z.call($,e)||(G.test(e)||v("65",e),$[e]=!0)}function h(e,t){return e.indexOf("-")>=0||null!=t.is}function m(e){var t=e.type;f(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var v=e(113),g=e(144),y=e(2),_=e(5),C=e(9),b=e(10),E=e(11),x=e(12),w=e(16),T=e(17),k=e(25),P=e(32),S=e(33),N=e(38),M=e(39),I=e(40),O=e(43),R=(e(58),e(61)),A=e(68),D=(e(130),e(95)),L=(e(138),e(110),e(142),e(108)),U=(e(119),e(143),P),F=w.deleteListener,V=S.getNodeFromInstance,j=k.listenTo,B=T.registrationNameModules,W={string:!0,number:!0},H="__html",q={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},K=11,z={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Y={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},X={listing:!0,pre:!0,textarea:!0},Q=g({menuitem:!0},Y),G=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,$={},Z={}.hasOwnProperty,J=1;m.displayName="ReactDOMComponent",m.Mixin={mountComponent:function(e,t,n,r){this._rootNodeID=J++,this._domID=n._idCounter++,this._hostParent=t,this._hostContainerInfo=n;var i=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(p,this);break;case"input":N.mountWrapper(this,i,t),i=N.getHostProps(this,i),e.getReactMountReady().enqueue(c,this),e.getReactMountReady().enqueue(p,this);break;case"option":M.mountWrapper(this,i,t),i=M.getHostProps(this,i);break;case"select":I.mountWrapper(this,i,t),i=I.getHostProps(this,i),e.getReactMountReady().enqueue(p,this);break;case"textarea":O.mountWrapper(this,i,t),i=O.getHostProps(this,i),e.getReactMountReady().enqueue(c,this),e.getReactMountReady().enqueue(p,this)}o(this,i);var a,d;null!=t?(a=t._namespaceURI,d=t._tag):n._tag&&(a=n._namespaceURI,d=n._tag),(null==a||a===b.svg&&"foreignobject"===d)&&(a=b.html),a===b.html&&("svg"===this._tag?a=b.svg:"math"===this._tag&&(a=b.mathml)),this._namespaceURI=a;var f;if(e.useCreateElement){var h,m=n._ownerDocument;if(a===b.html)if("script"===this._tag){var v=m.createElement("div"),g=this._currentElement.type;v.innerHTML="<"+g+"></"+g+">",h=v.removeChild(v.firstChild)}else h=i.is?m.createElement(this._currentElement.type,i.is):m.createElement(this._currentElement.type);else h=m.createElementNS(a,this._currentElement.type);S.precacheNode(this,h),this._flags|=U.hasCachedChildNodes,this._hostParent||x.setAttributeForRoot(h),this._updateDOMProperties(null,i,e);var _=C(h);this._createInitialChildren(e,i,r,_),f=_}else{var E=this._createOpenTagMarkupAndPutListeners(e,i),w=this._createContentMarkup(e,i,r);f=!w&&Y[this._tag]?E+"/>":E+">"+w+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(s,this),i.autoFocus&&e.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(u,this),i.autoFocus&&e.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"select":case"button":i.autoFocus&&e.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(l,this)}return f},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)if(B.hasOwnProperty(r))o&&i(this,r,o,e);else{"style"===r&&(o&&(o=this._previousStyleCopy=g({},t.style)),o=_.createMarkupForStyles(o,this));var a=null;null!=this._tag&&h(this._tag,t)?q.hasOwnProperty(r)||(a=x.createMarkupForCustomAttribute(r,o)):a=x.createMarkupForProperty(r,o),a&&(n+=" "+a)}}return e.renderToStaticMarkup?n:(this._hostParent||(n+=" "+x.createMarkupForRoot()),n+=" "+x.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(r=o.__html);else{var i=W[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)r=D(i);else if(null!=a){var s=this.mountChildren(a,e,n);r=s.join("")}}return X[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&C.queueHTML(r,o.__html);else{var i=W[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)""!==i&&C.queueText(r,i);else if(null!=a)for(var s=this.mountChildren(a,e,n),u=0;u<s.length;u++)C.queueChild(r,s[u])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var i=t.props,a=this._currentElement.props;switch(this._tag){case"input":i=N.getHostProps(this,i),a=N.getHostProps(this,a);break;case"option":i=M.getHostProps(this,i),a=M.getHostProps(this,a);break;case"select":i=I.getHostProps(this,i),a=I.getHostProps(this,a);break;case"textarea":i=O.getHostProps(this,i),a=O.getHostProps(this,a)}switch(o(this,a),this._updateDOMProperties(i,a,e),this._updateDOMChildren(i,a,e,r),this._tag){case"input":N.updateWrapper(this);break;case"textarea":O.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(d,this)}},_updateDOMProperties:function(e,t,n){var r,o,a;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if("style"===r){var s=this._previousStyleCopy;for(o in s)s.hasOwnProperty(o)&&(a=a||{},a[o]="");this._previousStyleCopy=null}else B.hasOwnProperty(r)?e[r]&&F(this,r):h(this._tag,e)?q.hasOwnProperty(r)||x.deleteValueForAttribute(V(this),r):(E.properties[r]||E.isCustomAttribute(r))&&x.deleteValueForProperty(V(this),r);for(r in t){var u=t[r],l="style"===r?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&u!==l&&(null!=u||null!=l))if("style"===r)if(u?u=this._previousStyleCopy=g({},u):this._previousStyleCopy=null,l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(a=a||{},a[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(a=a||{},a[o]=u[o])}else a=u;else if(B.hasOwnProperty(r))u?i(this,r,u,n):l&&F(this,r);else if(h(this._tag,t))q.hasOwnProperty(r)||x.setValueForAttribute(V(this),r,u);else if(E.properties[r]||E.isCustomAttribute(r)){var c=V(this);null!=u?x.setValueForProperty(c,r,u):x.deleteValueForProperty(c,r)}}a&&_.setValueForStyles(V(this),a,this)},_updateDOMChildren:function(e,t,n,r){var o=W[typeof e.children]?e.children:null,i=W[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,u=null!=o?null:e.children,l=null!=i?null:t.children,c=null!=o||null!=a,p=null!=i||null!=s;null!=u&&null==l?this.updateChildren(null,n,r):c&&!p&&this.updateTextContent(""),null!=i?o!==i&&this.updateTextContent(""+i):null!=s?a!==s&&this.updateMarkup(""+s):null!=l&&this.updateChildren(l,n,r)},getHostNode:function(){return V(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"input":case"textarea":L.stopTracking(this);break;case"html":case"head":case"body":v("66",this._tag)}this.unmountChildren(e),S.uncacheNode(this),w.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return V(this)}},g(m.prototype,m.Mixin,R.Mixin),t.exports=m},{10:10,108:108,11:11,110:110,113:113,119:119,12:12,130:130,138:138,142:142,143:143,144:144,16:16,17:17,2:2,25:25,32:32,33:33,38:38,39:39,40:40,43:43,5:5,58:58,61:61,68:68,9:9,95:95}],32:[function(e,t,n){"use strict";var r={hasCachedChildNodes:1};t.exports=r},{}],33:[function(e,t,n){"use strict";function r(e,t){return 1===e.nodeType&&e.getAttribute(h)===String(t)||8===e.nodeType&&e.nodeValue===" react-text: "+t+" "||8===e.nodeType&&e.nodeValue===" react-empty: "+t+" "}function o(e){for(var t;t=e._renderedComponent;)e=t;return e}function i(e,t){var n=o(e);n._hostNode=t,t[v]=n}function a(e){var t=e._hostNode;t&&(delete t[v],e._hostNode=null)}function s(e,t){if(!(e._flags&m.hasCachedChildNodes)){var n=e._renderedChildren,a=t.firstChild;e:for(var s in n)if(n.hasOwnProperty(s)){var u=n[s],l=o(u)._domID;if(0!==l){for(;null!==a;a=a.nextSibling)if(r(a,l)){i(u,a);continue e}p("32",l)}}e._flags|=m.hasCachedChildNodes}}function u(e){if(e[v])return e[v];for(var t=[];!e[v];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,r;e&&(r=e[v]);e=t.pop())n=r,t.length&&s(r,e);return n}function l(e){var t=u(e);return null!=t&&t._hostNode===e?t:null}function c(e){if(void 0===e._hostNode&&p("33"),e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent||p("34"),e=e._hostParent;for(;t.length;e=t.pop())s(e,e._hostNode);return e._hostNode}var p=e(113),d=e(11),f=e(32),h=(e(138),d.ID_ATTRIBUTE_NAME),m=f,v="__reactInternalInstance$"+Math.random().toString(36).slice(2),g={getClosestInstanceFromNode:u,getInstanceFromNode:l,getNodeFromInstance:c,precacheChildNodes:s,precacheNode:i,uncacheNode:a};t.exports=g},{11:11,113:113,138:138,32:32}],34:[function(e,t,n){"use strict";function r(e,t){return{_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===o?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null}}var o=(e(119),9);t.exports=r},{119:119}],35:[function(e,t,n){"use strict";var r=e(144),o=e(9),i=e(33),a=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};r(a.prototype,{mountComponent:function(e,t,n,r){var a=n._idCounter++;this._domID=a,this._hostParent=t,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var u=n._ownerDocument,l=u.createComment(s);return i.precacheNode(this,l),o(l)}return e.renderToStaticMarkup?"":"\x3c!--"+s+"--\x3e"},receiveComponent:function(){},getHostNode:function(){return i.getNodeFromInstance(this)},unmountComponent:function(){i.uncacheNode(this)}}),t.exports=a},{144:144,33:33,9:9}],36:[function(e,t,n){"use strict";var r={useCreateElement:!0,useFiber:!1};t.exports=r},{}],37:[function(e,t,n){"use strict";var r=e(8),o=e(33),i={dangerouslyProcessChildrenUpdates:function(e,t){var n=o.getNodeFromInstance(e);r.processUpdates(n,t)}};t.exports=i},{33:33,8:8}],38:[function(e,t,n){"use strict";function r(){this._rootNodeID&&d.updateWrapper(this)}function o(e){return"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}function i(e){var t=this._currentElement.props,n=l.executeOnChange(t,e);p.asap(r,this);var o=t.name;if("radio"===t.type&&null!=o){for(var i=c.getNodeFromInstance(this),s=i;s.parentNode;)s=s.parentNode;for(var u=s.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),d=0;d<u.length;d++){var f=u[d];if(f!==i&&f.form===i.form){var h=c.getInstanceFromNode(f);h||a("90"),p.asap(r,h)}}}return n}var a=e(113),s=e(144),u=e(12),l=e(23),c=e(33),p=e(71),d=(e(138),e(143),{getHostProps:function(e,t){var n=l.getValue(t),r=l.getChecked(t);return s({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,listeners:null,onChange:i.bind(e),controlled:o(t)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&u.setValueForProperty(c.getNodeFromInstance(e),"checked",n||!1);var r=c.getNodeFromInstance(e),o=l.getValue(t);if(null!=o)if(0===o&&""===r.value)r.value="0";else if("number"===t.type){var i=parseFloat(r.value,10)||0;(o!=i||o==i&&r.value!=o)&&(r.value=""+o)}else r.value!==""+o&&(r.value=""+o);else null==t.value&&null!=t.defaultValue&&r.defaultValue!==""+t.defaultValue&&(r.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(r.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,n=c.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}});t.exports=d},{113:113,12:12,138:138,143:143,144:144,23:23,33:33,71:71}],39:[function(e,t,n){"use strict";function r(e){var t="";return i.Children.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:u||(u=!0))}),t}var o=e(144),i=e(121),a=e(33),s=e(40),u=(e(143),!1),l={mountWrapper:function(e,t,n){var o=null;if(null!=n){var i=n;"optgroup"===i._tag&&(i=i._hostParent),null!=i&&"select"===i._tag&&(o=s.getSelectValueContext(i))}var a=null;if(null!=o){var u;if(u=null!=t.value?t.value+"":r(t.children),a=!1,Array.isArray(o)){for(var l=0;l<o.length;l++)if(""+o[l]===u){a=!0;break}}else a=""+o===u}e._wrapperState={selected:a}},postMountWrapper:function(e){var t=e._currentElement.props;null!=t.value&&a.getNodeFromInstance(e).setAttribute("value",t.value)},getHostProps:function(e,t){var n=o({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var i=r(t.children);return i&&(n.children=i),n}};t.exports=l},{121:121,143:143,144:144,33:33,40:40}],40:[function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=s.getValue(e);null!=t&&o(this,Boolean(e.multiple),t)}}function o(e,t,n){var r,o,i=u.getNodeFromInstance(e).options;if(t){for(r={},o=0;o<n.length;o++)r[""+n[o]]=!0;for(o=0;o<i.length;o++){var a=r.hasOwnProperty(i[o].value);i[o].selected!==a&&(i[o].selected=a)}}else{for(r=""+n,o=0;o<i.length;o++)if(i[o].value===r)return void(i[o].selected=!0);i.length&&(i[0].selected=!0)}}function i(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),l.asap(r,this),n}var a=e(144),s=e(23),u=e(33),l=e(71),c=(e(143),!1),p={getHostProps:function(e,t){return a({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=s.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:i.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||c||(c=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=s.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,o(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?o(e,Boolean(t.multiple),t.defaultValue):o(e,Boolean(t.multiple),t.multiple?[]:""))}};t.exports=p},{143:143,144:144,23:23,33:33,71:71}],41:[function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function o(e){var t=document.selection,n=t.createRange(),r=n.text.length,o=n.duplicate();o.moveToElementText(e),o.setEndPoint("EndToStart",n);var i=o.text.length;return{start:i,end:i+r}}function i(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,o=t.anchorOffset,i=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(e){return null}var u=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),l=u?0:s.toString().length,c=s.cloneRange();c.selectNodeContents(e),c.setEnd(s.startContainer,s.startOffset);var p=r(c.startContainer,c.startOffset,c.endContainer,c.endOffset),d=p?0:c.toString().length,f=d+l,h=document.createRange();h.setStart(n,o),h.setEnd(i,a);var m=h.collapsed;return{start:m?f:d,end:m?d:f}}function a(e,t){var n,r,o=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,o=Math.min(t.start,r),i=void 0===t.end?o:Math.min(t.end,r);if(!n.extend&&o>i){var a=i;i=o,o=a}var s=l(e,o),u=l(e,i);if(s&&u){var p=document.createRange();p.setStart(s.node,s.offset),n.removeAllRanges(),o>i?(n.addRange(p),n.extend(u.node,u.offset)):(p.setEnd(u.node,u.offset),n.addRange(p))}}}var u=e(124),l=e(105),c=e(106),p=u.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:p?o:i,setOffsets:p?a:s};t.exports=d},{105:105,106:106,124:124}],
42:[function(e,t,n){"use strict";var r=e(113),o=e(144),i=e(8),a=e(9),s=e(33),u=e(95),l=(e(138),e(119),function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});o(l.prototype,{mountComponent:function(e,t,n,r){var o=n._idCounter++,i=" react-text: "+o+" ";if(this._domID=o,this._hostParent=t,e.useCreateElement){var l=n._ownerDocument,c=l.createComment(i),p=l.createComment(" /react-text "),d=a(l.createDocumentFragment());return a.queueChild(d,a(c)),this._stringText&&a.queueChild(d,a(l.createTextNode(this._stringText))),a.queueChild(d,a(p)),s.precacheNode(this,c),this._closingComment=p,d}var f=u(this._stringText);return e.renderToStaticMarkup?f:"\x3c!--"+i+"--\x3e"+f+"\x3c!-- /react-text --\x3e"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();i.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=s.getNodeFromInstance(this),n=t.nextSibling;;){if(null==n&&r("67",this._domID),8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),t.exports=l},{113:113,119:119,138:138,144:144,33:33,8:8,9:9,95:95}],43:[function(e,t,n){"use strict";function r(){this._rootNodeID&&c.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return l.asap(r,this),n}var i=e(113),a=e(144),s=e(23),u=e(33),l=e(71),c=(e(138),e(143),{getHostProps:function(e,t){return null!=t.dangerouslySetInnerHTML&&i("91"),a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n=s.getValue(t),r=n;if(null==n){var a=t.defaultValue,u=t.children;null!=u&&(null!=a&&i("92"),Array.isArray(u)&&(u.length<=1||i("93"),u=u[0]),a=""+u),null==a&&(a=""),r=a}e._wrapperState={initialValue:""+r,listeners:null,onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=u.getNodeFromInstance(e),r=s.getValue(t);if(null!=r){var o=""+r;o!==n.value&&(n.value=o),null==t.defaultValue&&(n.defaultValue=o)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=u.getNodeFromInstance(e),n=t.textContent;n===e._wrapperState.initialValue&&(t.value=n)}});t.exports=c},{113:113,138:138,143:143,144:144,23:23,33:33,71:71}],44:[function(e,t,n){"use strict";function r(e,t){"_hostNode"in e||u("33"),"_hostNode"in t||u("33");for(var n=0,r=e;r;r=r._hostParent)n++;for(var o=0,i=t;i;i=i._hostParent)o++;for(;n-o>0;)e=e._hostParent,n--;for(;o-n>0;)t=t._hostParent,o--;for(var a=n;a--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}function o(e,t){"_hostNode"in e||u("35"),"_hostNode"in t||u("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1}function i(e){return"_hostNode"in e||u("36"),e._hostParent}function a(e,t,n){for(var r=[];e;)r.push(e),e=e._hostParent;var o;for(o=r.length;o-- >0;)t(r[o],"captured",n);for(o=0;o<r.length;o++)t(r[o],"bubbled",n)}function s(e,t,n,o,i){for(var a=e&&t?r(e,t):null,s=[];e&&e!==a;)s.push(e),e=e._hostParent;for(var u=[];t&&t!==a;)u.push(t),t=t._hostParent;var l;for(l=0;l<s.length;l++)n(s[l],"bubbled",o);for(l=u.length;l-- >0;)n(u[l],"captured",i)}var u=e(113);e(138);t.exports={isAncestor:o,getLowestCommonAncestor:r,getParentInstance:i,traverseTwoPhase:a,traverseEnterLeave:s}},{113:113,138:138}],45:[function(e,t,n){"use strict";var r=e(121),o=e(30),i=o;r.addons&&(r.__SECRET_INJECTED_REACT_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i),t.exports=i},{121:121,30:30}],46:[function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var o=e(144),i=e(71),a=e(89),s=e(130),u={initialize:s,close:function(){d.isBatchingUpdates=!1}},l={initialize:s,close:i.flushBatchedUpdates.bind(i)},c=[l,u];o(r.prototype,a,{getTransactionWrappers:function(){return c}});var p=new r,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o,i){var a=d.isBatchingUpdates;return d.isBatchingUpdates=!0,a?e(t,n,r,o,i):p.perform(e,null,t,n,r,o,i)}};t.exports=d},{130:130,144:144,71:71,89:89}],47:[function(e,t,n){"use strict";function r(){x||(x=!0,y.EventEmitter.injectReactEventListener(g),y.EventPluginHub.injectEventPluginOrder(s),y.EventPluginUtils.injectComponentTree(d),y.EventPluginUtils.injectTreeTraversal(h),y.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:E,EnterLeaveEventPlugin:u,ChangeEventPlugin:a,SelectEventPlugin:b,BeforeInputEventPlugin:i}),y.HostComponent.injectGenericComponentClass(p),y.HostComponent.injectTextComponentClass(m),y.DOMProperty.injectDOMPropertyConfig(o),y.DOMProperty.injectDOMPropertyConfig(l),y.DOMProperty.injectDOMPropertyConfig(C),y.EmptyComponent.injectEmptyComponentFactory(function(e){return new f(e)}),y.Updates.injectReconcileTransaction(_),y.Updates.injectBatchingStrategy(v),y.Component.injectEnvironment(c))}var o=e(1),i=e(3),a=e(7),s=e(14),u=e(15),l=e(21),c=e(27),p=e(31),d=e(33),f=e(35),h=e(44),m=e(42),v=e(46),g=e(52),y=e(55),_=e(65),C=e(73),b=e(74),E=e(75),x=!1;t.exports={inject:r}},{1:1,14:14,15:15,21:21,27:27,3:3,31:31,33:33,35:35,42:42,44:44,46:46,52:52,55:55,65:65,7:7,73:73,74:74,75:75}],48:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;t.exports=r},{}],49:[function(e,t,n){"use strict";var r,o={injectEmptyComponentFactory:function(e){r=e}},i={create:function(e){return r(e)}};i.injection=o,t.exports=i},{}],50:[function(e,t,n){"use strict";function r(e,t,n){try{t(n)}catch(e){null===o&&(o=e)}}var o=null,i={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(o){var e=o;throw o=null,e}}};t.exports=i},{}],51:[function(e,t,n){"use strict";function r(e){o.enqueueEvents(e),o.processEventQueue(!1)}var o=e(16),i={handleTopLevel:function(e,t,n,i){r(o.extractEvents(e,t,n,i))}};t.exports=i},{16:16}],52:[function(e,t,n){"use strict";function r(e){for(;e._hostParent;)e=e._hostParent;var t=p.getNodeFromInstance(e),n=t.parentNode;return p.getClosestInstanceFromNode(n)}function o(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function i(e){var t=f(e.nativeEvent),n=p.getClosestInstanceFromNode(t),o=n;do{e.ancestors.push(o),o=o&&r(o)}while(o);for(var i=0;i<e.ancestors.length;i++)n=e.ancestors[i],m._handleTopLevel(e.topLevelType,n,e.nativeEvent,f(e.nativeEvent))}function a(e){e(h(window))}var s=e(144),u=e(123),l=e(124),c=e(24),p=e(33),d=e(71),f=e(102),h=e(135);s(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(o,c.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){return n?u.listen(n,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){return n?u.capture(n,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);u.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=o.getPooled(e,t);try{d.batchedUpdates(i,n)}finally{o.release(n)}}}};t.exports=m},{102:102,123:123,124:124,135:135,144:144,24:24,33:33,71:71}],53:[function(e,t,n){"use strict";var r={logTopLevelRenders:!1};t.exports=r},{}],54:[function(e,t,n){"use strict";function r(e){return s||a("111",e.type),new s(e)}function o(e){return new u(e)}function i(e){return e instanceof u}var a=e(113),s=(e(138),null),u=null,l={injectGenericComponentClass:function(e){s=e},injectTextComponentClass:function(e){u=e}},c={createInternalComponent:r,createInstanceForText:o,isTextComponent:i,injection:l};t.exports=c},{113:113,138:138}],55:[function(e,t,n){"use strict";var r=e(11),o=e(16),i=e(18),a=e(28),s=e(49),u=e(25),l=e(54),c=e(71),p={Component:a.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:o.injection,EventPluginUtils:i.injection,EventEmitter:u.injection,HostComponent:l.injection,Updates:c.injection};t.exports=p},{11:11,16:16,18:18,25:25,28:28,49:49,54:54,71:71}],56:[function(e,t,n){"use strict";function r(e){return i(document.documentElement,e)}var o=e(41),i=e(127),a=e(132),s=e(133),u={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:u.hasSelectionCapabilities(e)?u.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,o=e.selectionRange;t!==n&&r(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,o),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=o.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(void 0===r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",r-n),i.select()}else o.setOffsets(e,t)}};t.exports=u},{127:127,132:132,133:133,41:41}],57:[function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};t.exports=r},{}],58:[function(e,t,n){"use strict";t.exports={debugTool:null}},{}],59:[function(e,t,n){"use strict";var r=e(92),o=/\/?>/,i=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return i.test(e)?e:e.replace(o," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);return n=n&&parseInt(n,10),r(e)===n}};t.exports=a},{92:92}],60:[function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function o(e){return e?e.nodeType===A?e.documentElement:e.firstChild:null}function i(e){return e.getAttribute&&e.getAttribute(I)||""}function a(e,t,n,r,o){var i;if(b.logTopLevelRenders){var a=e._currentElement.props.child,s=a.type;i="React mount: "+("string"==typeof s?s:s.displayName||s.name),console.time(i)}var u=w.mountComponent(e,n,null,_(e,t),o,0);i&&console.timeEnd(i),e._renderedComponent._topLevelWrapper=e,V._mountImageIntoNode(u,t,e,r,n)}function s(e,t,n,r){var o=k.ReactReconcileTransaction.getPooled(!n&&C.useCreateElement);o.perform(a,null,e,t,o,n,r),k.ReactReconcileTransaction.release(o)}function u(e,t,n){for(w.unmountComponent(e,n),t.nodeType===A&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function l(e){var t=o(e);if(t){var n=y.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function c(e){return!(!e||e.nodeType!==R&&e.nodeType!==A&&e.nodeType!==D)}function p(e){var t=o(e),n=t&&y.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function d(e){var t=p(e);return t?t._hostContainerInfo._topLevelWrapper:null}var f=e(113),h=e(9),m=e(11),v=e(121),g=e(25),y=(e(120),e(33)),_=e(34),C=e(36),b=e(53),E=e(57),x=(e(58),e(59)),w=e(66),T=e(70),k=e(71),P=e(131),S=e(109),N=(e(138),e(115)),M=e(117),I=(e(143),m.ID_ATTRIBUTE_NAME),O=m.ROOT_ATTRIBUTE_NAME,R=1,A=9,D=11,L={},U=1,F=function(){this.rootID=U++};F.prototype.isReactComponent={},F.prototype.render=function(){return this.props.child},F.isReactTopLevelWrapper=!0;var V={TopLevelWrapper:F,_instancesByReactRootID:L,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,o){return V.scrollMonitor(r,function(){T.enqueueElementInternal(e,t,n),o&&T.enqueueCallbackInternal(e,o)}),e},_renderNewRootComponent:function(e,t,n,r){c(t)||f("37"),g.ensureScrollValueMonitoring();var o=S(e,!1);k.batchedUpdates(s,o,t,n,r);var i=o._instance.rootID;return L[i]=o,o},renderSubtreeIntoContainer:function(e,t,n,r){return null!=e&&E.has(e)||f("38"),V._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){T.validateCallback(r,"ReactDOM.render"),v.isValidElement(t)||f("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var a,s=v.createElement(F,{child:t});if(e){var u=E.get(e);a=u._processChildContext(u._context)}else a=P;var c=d(n);if(c){var p=c._currentElement,h=p.props.child;if(M(h,t)){var m=c._renderedComponent.getPublicInstance(),g=r&&function(){r.call(m)};return V._updateRootComponent(c,s,a,n,g),m}V.unmountComponentAtNode(n)}var y=o(n),_=y&&!!i(y),C=l(n),b=_&&!c&&!C,x=V._renderNewRootComponent(s,n,b,a)._renderedComponent.getPublicInstance();return r&&r.call(x),x},render:function(e,t,n){return V._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){c(e)||f("40");var t=d(e);return t?(delete L[t._instance.rootID],k.batchedUpdates(u,t,e,!1),!0):(l(e),1===e.nodeType&&e.hasAttribute(O),!1)},_mountImageIntoNode:function(e,t,n,i,a){if(c(t)||f("41"),i){var s=o(t);if(x.canReuseMarkup(e,s))return void y.precacheNode(n,s);var u=s.getAttribute(x.CHECKSUM_ATTR_NAME);s.removeAttribute(x.CHECKSUM_ATTR_NAME);var l=s.outerHTML;s.setAttribute(x.CHECKSUM_ATTR_NAME,u);var p=e,d=r(p,l),m=" (client) "+p.substring(d-20,d+20)+"\n (server) "+l.substring(d-20,d+20);t.nodeType===A&&f("42",m)}if(t.nodeType===A&&f("43"),a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);h.insertTreeBefore(t,e,null)}else N(t,e),y.precacheNode(n,t.firstChild)}};t.exports=V},{109:109,11:11,113:113,115:115,117:117,120:120,121:121,131:131,138:138,143:143,25:25,33:33,34:34,36:36,53:53,57:57,58:58,59:59,66:66,70:70,71:71,9:9}],61:[function(e,t,n){"use strict";function r(e,t,n){return{type:"INSERT_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function o(e,t,n){return{type:"MOVE_EXISTING",content:null,fromIndex:e._mountIndex,fromNode:d.getHostNode(e),toIndex:n,afterNode:t}}function i(e,t){return{type:"REMOVE_NODE",content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function a(e){return{type:"SET_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e){return{type:"TEXT_CONTENT",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function u(e,t){return t&&(e=e||[],e.push(t)),e}function l(e,t){p.processChildrenUpdates(e,t)}var c=e(113),p=e(28),d=(e(57),e(58),e(120),e(66)),f=e(26),h=(e(130),e(97)),m=(e(138),{Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return f.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,o,i){var a;return a=h(t,0),f.updateChildren(e,a,n,r,o,this,this._hostContainerInfo,i,0),a},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var o=[],i=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],u=d.mountComponent(s,t,this,this._hostContainerInfo,n,0);s._mountIndex=i++,o.push(u)}return o},updateTextContent:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");l(this,[s(e)])},updateMarkup:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");l(this,[a(e)])},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,o={},i=[],a=this._reconcilerUpdateChildren(r,e,i,o,t,n);if(a||r){var s,c=null,p=0,f=0,h=0,m=null;for(s in a)if(a.hasOwnProperty(s)){var v=r&&r[s],g=a[s];v===g?(c=u(c,this.moveChild(v,m,p,f)),f=Math.max(v._mountIndex,f),v._mountIndex=p):(v&&(f=Math.max(v._mountIndex,f)),c=u(c,this._mountChildAtIndex(g,i[h],m,p,t,n)),h++),p++,m=d.getHostNode(g)}for(s in o)o.hasOwnProperty(s)&&(c=u(c,this._unmountChild(r[s],o[s])));c&&l(this,c),this._renderedChildren=a}},unmountChildren:function(e){var t=this._renderedChildren;f.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){if(e._mountIndex<r)return o(e,t,n)},createChild:function(e,t,n){return r(n,t,e._mountIndex)},removeChild:function(e,t){return i(e,t)},_mountChildAtIndex:function(e,t,n,r,o,i){return e._mountIndex=r,this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}});t.exports=m},{113:113,120:120,130:130,138:138,26:26,28:28,57:57,58:58,66:66,97:97}],62:[function(e,t,n){"use strict";var r=e(113),o=e(121),i=(e(138),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||!1===e?i.EMPTY:o.isValidElement(e)?"function"==typeof e.type?i.COMPOSITE:i.HOST:void r("26",e)}});t.exports=i},{113:113,121:121,138:138}],63:[function(e,t,n){"use strict";function r(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)}var o=e(113),i=(e(138),{addComponentAsRefTo:function(e,t,n){r(n)||o("119"),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){r(n)||o("120");var i=n.getPublicInstance();i&&i.refs[t]===e.getPublicInstance()&&n.detachRef(t)}});t.exports=i},{113:113,138:138}],64:[function(e,t,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},{}],65:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=e}var o=e(144),i=e(6),a=e(24),s=e(25),u=e(56),l=(e(58),e(89)),c=e(70),p={initialize:u.getSelectionInformation,close:u.restoreSelection},d={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},f={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h=[p,d,f],m={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};o(r.prototype,l,m),a.addPoolingTo(r),t.exports=r},{144:144,24:24,25:25,56:56,58:58,6:6,70:70,89:89}],66:[function(e,t,n){"use strict";function r(){o.attachRefs(this,this._currentElement)}var o=e(67),i=(e(58),e(143),{mountComponent:function(e,t,n,o,i,a){var s=e.mountComponent(t,n,o,i,a);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),s},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){o.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,i){var a=e._currentElement;if(t!==a||i!==e._context){var s=o.shouldUpdateRefs(a,t);s&&o.detachRefs(e,a),e.receiveComponent(t,n,i),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t,n){e._updateBatchNumber===n&&e.performUpdateIfNecessary(t)}});t.exports=i},{143:143,58:58,67:67}],67:[function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):i.addComponentAsRefTo(t,e,n)}function o(e,t,n){"function"==typeof e?e(null):i.removeComponentAsRefFrom(t,e,n)}var i=e(63),a={};a.attachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null,r=null;null!==e&&"object"==typeof e&&(n=e.ref,r=e._owner);var o=null,i=null;return null!==t&&"object"==typeof t&&(o=t.ref,i=t._owner),n!==o||"string"==typeof o&&i!==r},a.detachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&o(n,e,t._owner)}},t.exports=a},{63:63}],68:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new s(this)}var o=e(144),i=e(24),a=e(89),s=(e(58),e(69)),u=[],l={enqueue:function(){}},c={getTransactionWrappers:function(){return u},getReactMountReady:function(){return l},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};o(r.prototype,a,c),i.addPoolingTo(r),t.exports=r},{144:144,24:24,58:58,69:69,89:89}],69:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=e(70),i=(e(143),function(){function e(t){r(this,e),this.transaction=t}return e.prototype.isMounted=function(e){return!1},e.prototype.enqueueCallback=function(e,t,n){this.transaction.isInTransaction()&&o.enqueueCallback(e,t,n)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()&&o.enqueueForceUpdate(e)},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()&&o.enqueueReplaceState(e,t)},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()&&o.enqueueSetState(e,t)},e}());t.exports=i},{143:143,70:70}],70:[function(e,t,n){"use strict";function r(e){u.enqueueUpdate(e)}function o(e){var t=typeof e;if("object"!==t)return t;var n=e.constructor&&e.constructor.name||t,r=Object.keys(e);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}function i(e,t){var n=s.get(e);return n||null}var a=e(113),s=(e(120),e(57)),u=(e(58),e(71)),l=(e(138),e(143),{isMounted:function(e){var t=s.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,n){l.validateCallback(t,n);var o=i(e);if(!o)return null;o._pendingCallbacks?o._pendingCallbacks.push(t):o._pendingCallbacks=[t],r(o)},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=i(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t,n){var o=i(e,"replaceState");o&&(o._pendingStateQueue=[t],o._pendingReplaceState=!0,void 0!==n&&null!==n&&(l.validateCallback(n,"replaceState"),o._pendingCallbacks?o._pendingCallbacks.push(n):o._pendingCallbacks=[n]),r(o))},enqueueSetState:function(e,t){var n=i(e,"setState");n&&((n._pendingStateQueue||(n._pendingStateQueue=[])).push(t),r(n))},enqueueElementInternal:function(e,t,n){e._pendingElement=t,e._context=n,r(e)},validateCallback:function(e,t){e&&"function"!=typeof e&&a("122",t,o(e))}});t.exports=l},{113:113,120:120,138:138,143:143,57:57,58:58,71:71}],71:[function(e,t,n){"use strict";function r(){P.ReactReconcileTransaction&&b||c("123")}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=d.getPooled(),this.reconcileTransaction=P.ReactReconcileTransaction.getPooled(!0)}function i(e,t,n,o,i,a){return r(),b.batchedUpdates(e,t,n,o,i,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==g.length&&c("124",t,g.length),g.sort(a),y++;for(var n=0;n<t;n++){var r=g[n],o=r._pendingCallbacks;r._pendingCallbacks=null;var i;if(h.logTopLevelRenders){var s=r;r._currentElement.type.isReactTopLevelWrapper&&(s=r._renderedComponent),i="React update: "+s.getName(),console.time(i)}if(m.performUpdateIfNecessary(r,e.reconcileTransaction,y),i&&console.timeEnd(i),o)for(var u=0;u<o.length;u++)e.callbackQueue.enqueue(o[u],r.getPublicInstance())}}function u(e){if(r(),!b.isBatchingUpdates)return void b.batchedUpdates(u,e);g.push(e),null==e._updateBatchNumber&&(e._updateBatchNumber=y+1)}function l(e,t){b.isBatchingUpdates||c("125"),_.enqueue(e,t),C=!0}var c=e(113),p=e(144),d=e(6),f=e(24),h=e(53),m=e(66),v=e(89),g=(e(138),[]),y=0,_=d.getPooled(),C=!1,b=null,E={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),T()):g.length=0}},x={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},w=[E,x];p(o.prototype,v,{getTransactionWrappers:function(){return w},destructor:function(){this.dirtyComponentsLength=null,d.release(this.callbackQueue),this.callbackQueue=null,P.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return v.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),f.addPoolingTo(o);var T=function(){for(;g.length||C;){if(g.length){var e=o.getPooled();e.perform(s,null,e),o.release(e)}if(C){C=!1;var t=_;_=d.getPooled(),t.notifyAll(),d.release(t)}}},k={injectReconcileTransaction:function(e){e||c("126"),P.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e||c("127"),"function"!=typeof e.batchedUpdates&&c("128"),"boolean"!=typeof e.isBatchingUpdates&&c("129"),b=e}},P={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:u,flushBatchedUpdates:T,injection:k,asap:l};t.exports=P},{113:113,138:138,144:144,24:24,53:53,6:6,66:66,89:89}],72:[function(e,t,n){"use strict";t.exports="15.6.1"},{}],73:[function(e,t,n){"use strict";var r={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},o={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},i={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r.xlink,xlinkArcrole:r.xlink,xlinkHref:r.xlink,xlinkRole:r.xlink,xlinkShow:r.xlink,xlinkTitle:r.xlink,xlinkType:r.xlink,xmlBase:r.xml,xmlLang:r.xml,xmlSpace:r.xml},DOMAttributeNames:{}};Object.keys(o).forEach(function(e){i.Properties[e]=0,o[e]&&(i.DOMAttributeNames[e]=o[e])}),t.exports=i},{}],74:[function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&u.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(e,t){if(y||null==m||m!==c())return null;var n=r(m);if(!g||!d(g,n)){g=n;var o=l.getPooled(h.select,v,e,t);return o.type="select",o.target=m,i.accumulateTwoPhaseDispatches(o),o}return null}var i=e(19),a=e(124),s=e(33),u=e(56),l=e(80),c=e(133),p=e(111),d=e(142),f=a.canUseDOM&&"documentMode"in document&&document.documentMode<=11,h={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},m=null,v=null,g=null,y=!1,_=!1,C={eventTypes:h,
extractEvents:function(e,t,n,r){if(!_)return null;var i=t?s.getNodeFromInstance(t):window;switch(e){case"topFocus":(p(i)||"true"===i.contentEditable)&&(m=i,v=t,g=null);break;case"topBlur":m=null,v=null,g=null;break;case"topMouseDown":y=!0;break;case"topContextMenu":case"topMouseUp":return y=!1,o(n,r);case"topSelectionChange":if(f)break;case"topKeyDown":case"topKeyUp":return o(n,r)}return null},didPutListener:function(e,t,n){"onSelect"===t&&(_=!0)}};t.exports=C},{111:111,124:124,133:133,142:142,19:19,33:33,56:56,80:80}],75:[function(e,t,n){"use strict";function r(e){return"."+e._rootNodeID}function o(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}var i=e(113),a=e(123),s=e(19),u=e(33),l=e(76),c=e(77),p=e(80),d=e(81),f=e(83),h=e(84),m=e(79),v=e(85),g=e(86),y=e(87),_=e(88),C=e(130),b=e(99),E=(e(138),{}),x={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t,r="top"+t,o={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r]};E[e]=o,x[r]=o});var w={},T={eventTypes:E,extractEvents:function(e,t,n,r){var o=x[e];if(!o)return null;var a;switch(e){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":a=p;break;case"topKeyPress":if(0===b(n))return null;case"topKeyDown":case"topKeyUp":a=f;break;case"topBlur":case"topFocus":a=d;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":a=h;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":a=m;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":a=v;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":a=l;break;case"topTransitionEnd":a=g;break;case"topScroll":a=y;break;case"topWheel":a=_;break;case"topCopy":case"topCut":case"topPaste":a=c}a||i("86",e);var u=a.getPooled(o,t,n,r);return s.accumulateTwoPhaseDispatches(u),u},didPutListener:function(e,t,n){if("onClick"===t&&!o(e._tag)){var i=r(e),s=u.getNodeFromInstance(e);w[i]||(w[i]=a.listen(s,"click",C))}},willDeleteListener:function(e,t){if("onClick"===t&&!o(e._tag)){var n=r(e);w[n].remove(),delete w[n]}}};t.exports=T},{113:113,123:123,130:130,138:138,19:19,33:33,76:76,77:77,79:79,80:80,81:81,83:83,84:84,85:85,86:86,87:87,88:88,99:99}],76:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i={animationName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(r,i),t.exports=r},{80:80}],77:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};o.augmentClass(r,i),t.exports=r},{80:80}],78:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i={data:null};o.augmentClass(r,i),t.exports=r},{80:80}],79:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(84),i={dataTransfer:null};o.augmentClass(r,i),t.exports=r},{84:84}],80:[function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var o=this.constructor.Interface;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];s?this[i]=s(n):"target"===i?this.target=r:this[i]=n[i]}var u=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;return this.isDefaultPrevented=u?a.thatReturnsTrue:a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var o=e(144),i=e(24),a=e(130),s=(e(143),["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),u={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),r.Interface=u,r.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;o(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=o({},n.Interface,t),e.augmentClass=n.augmentClass,i.addPoolingTo(e,i.fourArgumentPooler)},i.addPoolingTo(r,i.fourArgumentPooler),t.exports=r},{130:130,143:143,144:144,24:24}],81:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(87),i={relatedTarget:null};o.augmentClass(r,i),t.exports=r},{87:87}],82:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i={data:null};o.augmentClass(r,i),t.exports=r},{80:80}],83:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(87),i=e(99),a=e(100),s=e(101),u={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?i(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?i(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};o.augmentClass(r,u),t.exports=r},{100:100,101:101,87:87,99:99}],84:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(87),i=e(90),a=e(101),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+i.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+i.currentScrollTop}};o.augmentClass(r,s),t.exports=r},{101:101,87:87,90:90}],85:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(87),i=e(101),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};o.augmentClass(r,a),t.exports=r},{101:101,87:87}],86:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i={propertyName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(r,i),t.exports=r},{80:80}],87:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i=e(102),a={view:function(e){if(e.view)return e.view;var t=i(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};o.augmentClass(r,a),t.exports=r},{102:102,80:80}],88:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(84),i={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};o.augmentClass(r,i),t.exports=r},{84:84}],89:[function(e,t,n){"use strict";var r=e(113),o=(e(138),{}),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,o,i,a,s,u){this.isInTransaction()&&r("27");var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=e.call(t,n,o,i,a,s,u),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=o,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()||r("28");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i,a=t[n],s=this.wrapperInitData[n];try{i=!0,s!==o&&a.close&&a.close.call(this,s),i=!1}finally{if(i)try{this.closeAll(n+1)}catch(e){}}}this.wrapperInitData.length=0}};t.exports=i},{113:113,138:138}],90:[function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};t.exports=r},{}],91:[function(e,t,n){"use strict";function r(e,t){return null==t&&o("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}var o=e(113);e(138);t.exports=r},{113:113,138:138}],92:[function(e,t,n){"use strict";function r(e){for(var t=1,n=0,r=0,i=e.length,a=-4&i;r<a;){for(var s=Math.min(r+4096,a);r<s;r+=4)n+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=o,n%=o}for(;r<i;r++)n+=t+=e.charCodeAt(r);return t%=o,n%=o,t|n<<16}var o=65521;t.exports=r},{}],93:[function(e,t,n){"use strict";var r=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e};t.exports=r},{}],94:[function(e,t,n){"use strict";function r(e,t,n,r){if(null==t||"boolean"==typeof t||""===t)return"";var o=isNaN(t);return r||o||0===t||i.hasOwnProperty(e)&&i[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var o=e(4),i=(e(143),o.isUnitlessNumber);t.exports=r},{143:143,4:4}],95:[function(e,t,n){"use strict";function r(e){var t=""+e,n=i.exec(t);if(!n)return t;var r,o="",a=0,s=0;for(a=n.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==a&&(o+=t.substring(s,a)),s=a+1,o+=r}return s!==a?o+t.substring(s,a):o}function o(e){return"boolean"==typeof e||"number"==typeof e?""+e:r(e)}var i=/["'&<>]/;t.exports=o},{}],96:[function(e,t,n){"use strict";function r(e){if(null==e)return null;if(1===e.nodeType)return e;var t=a.get(e);if(t)return t=s(t),t?i.getNodeFromInstance(t):null;"function"==typeof e.render?o("44"):o("45",Object.keys(e))}var o=e(113),i=(e(120),e(33)),a=e(57),s=e(103);e(138),e(143);t.exports=r},{103:103,113:113,120:120,138:138,143:143,33:33,57:57}],97:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r){if(e&&"object"==typeof e){var o=e;void 0===o[n]&&null!=t&&(o[n]=t)}}function o(e,t){if(null==e)return e;var n={};return i(e,r,n),n}var i=(e(22),e(118));e(143);void 0!==n&&n.env,t.exports=o}).call(this,void 0)},{118:118,143:143,22:22}],98:[function(e,t,n){"use strict";function r(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}t.exports=r},{}],99:[function(e,t,n){"use strict";function r(e){var t,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,t>=32||13===t?t:0}t.exports=r},{}],100:[function(e,t,n){"use strict";function r(e){if(e.key){var t=i[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=o(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var o=e(99),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=r},{99:99}],101:[function(e,t,n){"use strict";function r(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=i[e];return!!r&&!!n[r]}function o(e){return r}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=o},{}],102:[function(e,t,n){"use strict";function r(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}t.exports=r},{}],103:[function(e,t,n){"use strict";function r(e){for(var t;(t=e._renderedNodeType)===o.COMPOSITE;)e=e._renderedComponent;return t===o.HOST?e._renderedComponent:t===o.EMPTY?null:void 0}var o=e(62);t.exports=r},{62:62}],104:[function(e,t,n){"use strict";function r(e){var t=e&&(o&&e[o]||e[i]);if("function"==typeof t)return t}var o="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";t.exports=r},{}],105:[function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,t){for(var n=r(e),i=0,a=0;n;){if(3===n.nodeType){if(a=i+n.textContent.length,i<=t&&a>=t)return{node:n,offset:t-i};i=a}n=r(o(n))}}t.exports=i},{}],106:[function(e,t,n){"use strict";function r(){return!i&&o.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var o=e(124),i=null;t.exports=r},{124:124}],107:[function(e,t,n){"use strict";function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function o(e){if(s[e])return s[e];if(!a[e])return e;var t=a[e];for(var n in t)if(t.hasOwnProperty(n)&&n in u)return s[e]=t[n];return""}var i=e(124),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},u={};i.canUseDOM&&(u=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),t.exports=o},{124:124}],108:[function(e,t,n){"use strict";function r(e){var t=e.type,n=e.nodeName;return n&&"input"===n.toLowerCase()&&("checkbox"===t||"radio"===t)}function o(e){return e._wrapperState.valueTracker}function i(e,t){e._wrapperState.valueTracker=t}function a(e){delete e._wrapperState.valueTracker}function s(e){var t;return e&&(t=r(e)?""+e.checked:e.value),t}var u=e(33),l={_getTrackerFromNode:function(e){return o(u.getInstanceFromNode(e))},track:function(e){if(!o(e)){var t=u.getNodeFromInstance(e),n=r(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];t.hasOwnProperty(n)||"function"!=typeof s.get||"function"!=typeof s.set||(Object.defineProperty(t,n,{enumerable:s.enumerable,configurable:!0,get:function(){return s.get.call(this)},set:function(e){l=""+e,s.set.call(this,e)}}),i(e,{getValue:function(){return l},setValue:function(e){l=""+e},stopTracking:function(){a(e),delete t[n]}}))}},updateValueIfChanged:function(e){if(!e)return!1;var t=o(e);if(!t)return l.track(e),!0;var n=t.getValue(),r=s(u.getNodeFromInstance(e));return r!==n&&(t.setValue(r),!0)},stopTracking:function(e){var t=o(e);t&&t.stopTracking()}};t.exports=l},{33:33}],109:[function(e,t,n){"use strict";function r(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function o(e){return"function"==typeof e&&void 0!==e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function i(e,t){var n;if(null===e||!1===e)n=l.create(i);else if("object"==typeof e){var s=e,u=s.type;if("function"!=typeof u&&"string"!=typeof u){var d="";d+=r(s._owner),a("130",null==u?u:typeof u,d)}"string"==typeof s.type?n=c.createInternalComponent(s):o(s.type)?(n=new s.type(s),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new p(s)}else"string"==typeof e||"number"==typeof e?n=c.createInstanceForText(e):a("131",typeof e);return n._mountIndex=0,n._mountImage=null,n}var a=e(113),s=e(144),u=e(29),l=e(49),c=e(54),p=(e(122),e(138),e(143),function(e){this.construct(e)});s(p.prototype,u,{_instantiateReactComponent:i}),t.exports=i},{113:113,122:122,138:138,143:143,144:144,29:29,49:49,54:54}],110:[function(e,t,n){"use strict";function r(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&o&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var o,i=e(124);i.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),t.exports=r},{124:124}],111:[function(e,t,n){"use strict";function r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!o[e.type]:"textarea"===t}var o={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=r},{}],112:[function(e,t,n){"use strict";function r(e){return'"'+o(e)+'"'}var o=e(95);t.exports=r},{95:95}],113:[function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(n);throw o.name="Invariant Violation",o.framesToPop=1,o}t.exports=r},{}],114:[function(e,t,n){"use strict";var r=e(60);t.exports=r.renderSubtreeIntoContainer},{60:60}],115:[function(e,t,n){"use strict";var r,o=e(124),i=e(10),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,u=e(93),l=u(function(e,t){if(e.namespaceURI!==i.svg||"innerHTML"in e)e.innerHTML=t;else{r=r||document.createElement("div"),r.innerHTML="<svg>"+t+"</svg>";for(var n=r.firstChild;n.firstChild;)e.appendChild(n.firstChild)}});if(o.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(l=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),a.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),c=null}t.exports=l},{10:10,124:124,93:93}],116:[function(e,t,n){"use strict";var r=e(124),o=e(95),i=e(115),a=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){if(3===e.nodeType)return void(e.nodeValue=t);i(e,o(t))})),t.exports=a},{115:115,124:124,95:95}],117:[function(e,t,n){"use strict";function r(e,t){var n=null===e||!1===e,r=null===t||!1===t;if(n||r)return n===r;var o=typeof e,i=typeof t;return"string"===o||"number"===o?"string"===i||"number"===i:"object"===i&&e.type===t.type&&e.key===t.key}t.exports=r},{}],118:[function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?l.escape(e.key):t.toString(36)}function o(e,t,n,i){var d=typeof e;if("undefined"!==d&&"boolean"!==d||(e=null),null===e||"string"===d||"number"===d||"object"===d&&e.$$typeof===s)return n(i,e,""===t?c+r(e,0):t),1;var f,h,m=0,v=""===t?c:t+p;if(Array.isArray(e))for(var g=0;g<e.length;g++)f=e[g],h=v+r(f,g),m+=o(f,h,n,i);else{var y=u(e);if(y){var _,C=y.call(e);if(y!==e.entries)for(var b=0;!(_=C.next()).done;)f=_.value,h=v+r(f,b++),m+=o(f,h,n,i);else for(;!(_=C.next()).done;){var E=_.value;E&&(f=E[1],h=v+l.escape(E[0])+p+r(f,0),m+=o(f,h,n,i))}}else if("object"===d){var x=String(e);a("31","[object Object]"===x?"object with keys {"+Object.keys(e).join(", ")+"}":x,"")}}return m}function i(e,t,n){return null==e?0:o(e,"",t,n)}var a=e(113),s=(e(120),e(48)),u=e(104),l=(e(138),e(22)),c=(e(143),"."),p=":";t.exports=i},{104:104,113:113,120:120,138:138,143:143,22:22,48:48}],119:[function(e,t,n){"use strict";var r=(e(144),e(130)),o=(e(143),r);t.exports=o},{130:130,143:143,144:144}],120:[function(t,n,r){"use strict";var o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;n.exports=o.ReactCurrentOwner},{}],121:[function(t,n,r){"use strict";n.exports=e},{}],122:[function(t,n,r){"use strict";var o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;n.exports=o.getNextDebugID},{}],123:[function(e,t,n){"use strict";var r=e(130),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=o},{130:130}],124:[function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=o},{}],125:[function(e,t,n){"use strict";function r(e){return e.replace(o,function(e,t){return t.toUpperCase()})}var o=/-(.)/g;t.exports=r},{}],126:[function(e,t,n){"use strict";function r(e){return o(e.replace(i,"ms-"))}var o=e(125),i=/^-ms-/;t.exports=r},{125:125}],127:[function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!o(e)&&(o(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var o=e(140);t.exports=r},{140:140}],128:[function(e,t,n){"use strict";function r(e){var t=e.length;if((Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e)&&a(!1),"number"!=typeof t&&a(!1),0===t||t-1 in e||a(!1),"function"==typeof e.callee&&a(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}function o(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return o(e)?Array.isArray(e)?e.slice():r(e):[e]}var a=e(138);t.exports=i},{138:138}],129:[function(e,t,n){"use strict";function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function o(e,t){var n=l;l||u(!1);var o=r(e),i=o&&s(o);if(i){n.innerHTML=i[1]+e+i[2];for(var c=i[0];c--;)n=n.lastChild}else n.innerHTML=e;var p=n.getElementsByTagName("script");p.length&&(t||u(!1),a(p).forEach(t));for(var d=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}var i=e(124),a=e(128),s=e(134),u=e(138),l=i.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=o},{124:124,128:128,134:134,138:138}],130:[function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},t.exports=o},{}],131:[function(e,t,n){"use strict";var r={};t.exports=r},{}],132:[function(e,t,n){"use strict";function r(e){try{e.focus()}catch(e){}}t.exports=r},{}],133:[function(e,t,n){"use strict";function r(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}t.exports=r},{}],134:[function(e,t,n){"use strict";function r(e){return a||i(!1),d.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||(a.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?d[e]:null}var o=e(124),i=e(138),a=o.canUseDOM?document.createElement("div"):null,s={},u=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"].forEach(function(e){d[e]=p,s[e]=!0}),t.exports=r},{124:124,138:138}],135:[function(e,t,n){"use strict";function r(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=r},{}],136:[function(e,t,n){"use strict";function r(e){return e.replace(o,"-$1").toLowerCase()}var o=/([A-Z])/g;t.exports=r},{}],137:[function(e,t,n){"use strict";function r(e){return o(e).replace(i,"-ms-")}var o=e(136),i=/^ms-/;t.exports=r},{136:136}],138:[function(e,t,n){"use strict";function r(e,t,n,r,i,a,s,u){if(o(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,s,u],p=0;l=new Error(t.replace(/%s/g,function(){return c[p++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var o=function(e){};t.exports=r},{}],139:[function(e,t,n){"use strict";function r(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.exports=r},{}],140:[function(e,t,n){"use strict";function r(e){return o(e)&&3==e.nodeType}var o=e(139);t.exports=r},{139:139}],141:[function(e,t,n){"use strict";function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}t.exports=r},{}],142:[function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function o(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!i.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;t.exports=o},{}],143:[function(e,t,n){"use strict";var r=e(130),o=r;t.exports=o},{130:130}],144:[function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var c in n)i.call(n,c)&&(u[c]=n[c]);if(o){s=o(n);for(var p=0;p<s.length;p++)a.call(n,s[p])&&(u[s[p]]=n[s[p]])}}return u}},{}],145:[function(e,t,n){"use strict";function r(e,t,n,r,o){}t.exports=r},{138:138,143:143,148:148}],146:[function(e,t,n){"use strict";var r=e(147);t.exports=function(e){return r(e,!1)}},{147:147}],147:[function(e,t,n){"use strict";var r=e(130),o=e(138),i=e(143),a=e(148),s=e(145);t.exports=function(e,t){function n(e){var t=e&&(w&&e[w]||e[T]);if("function"==typeof t)return t}function u(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function l(e){this.message=e,this.stack=""}function c(e){function n(n,r,i,s,u,c,p){if(s=s||k,c=c||i,p!==a)if(t)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else;return null==r[i]?n?new l(null===r[i]?"The "+u+" `"+c+"` is marked as required in `"+s+"`, but its value is `null`.":"The "+u+" `"+c+"` is marked as required in `"+s+"`, but its value is `undefined`."):null:e(r,i,s,u,c)}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),r}function p(e){function t(t,n,r,o,i,a){var s=t[n];if(C(s)!==e)return new l("Invalid "+o+" `"+i+"` of type `"+b(s)+"` supplied to `"+r+"`, expected `"+e+"`.");return null}return c(t)}function d(e){function t(t,n,r,o,i){if("function"!=typeof e)return new l("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){return new l("Invalid "+o+" `"+i+"` of type `"+C(s)+"` supplied to `"+r+"`, expected an array.")}for(var u=0;u<s.length;u++){var c=e(s,u,r,o,i+"["+u+"]",a);if(c instanceof Error)return c}return null}return c(t)}function f(e){function t(t,n,r,o,i){if(!(t[n]instanceof e)){var a=e.name||k;return new l("Invalid "+o+" `"+i+"` of type `"+x(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return c(t)}function h(e){function t(t,n,r,o,i){for(var a=t[n],s=0;s<e.length;s++)if(u(a,e[s]))return null;return new l("Invalid "+o+" `"+i+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?c(t):r.thatReturnsNull}function m(e){function t(t,n,r,o,i){if("function"!=typeof e)return new l("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],u=C(s);if("object"!==u)return new l("Invalid "+o+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var c in s)if(s.hasOwnProperty(c)){var p=e(s,c,r,o,i+"."+c,a);if(p instanceof Error)return p}return null}return c(t)}function v(e){function t(t,n,r,o,i){for(var s=0;s<e.length;s++){if(null==(0,e[s])(t,n,r,o,i,a))return null}return new l("Invalid "+o+" `"+i+"` supplied to `"+r+"`.")}if(!Array.isArray(e))return r.thatReturnsNull;for(var n=0;n<e.length;n++){var o=e[n];if("function"!=typeof o)return i(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",E(o),n),r.thatReturnsNull}return c(t)}function g(e){function t(t,n,r,o,i){var s=t[n],u=C(s);if("object"!==u)return new l("Invalid "+o+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var c in e){
var p=e[c];if(p){var d=p(s,c,r,o,i+"."+c,a);if(d)return d}}return null}return c(t)}function y(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(y);if(null===t||e(t))return!0;var r=n(t);if(!r)return!1;var o,i=r.call(t);if(r!==t.entries){for(;!(o=i.next()).done;)if(!y(o.value))return!1}else for(;!(o=i.next()).done;){var a=o.value;if(a&&!y(a[1]))return!1}return!0;default:return!1}}function _(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function C(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":_(t,e)?"symbol":t}function b(e){if(void 0===e||null===e)return""+e;var t=C(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function E(e){var t=b(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function x(e){return e.constructor&&e.constructor.name?e.constructor.name:k}var w="function"==typeof Symbol&&Symbol.iterator,T="@@iterator",k="<<anonymous>>",P={array:p("array"),bool:p("boolean"),func:p("function"),number:p("number"),object:p("object"),string:p("string"),symbol:p("symbol"),any:function(){return c(r.thatReturnsNull)}(),arrayOf:d,element:function(){function t(t,n,r,o,i){var a=t[n];if(!e(a)){return new l("Invalid "+o+" `"+i+"` of type `"+C(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return null}return c(t)}(),instanceOf:f,node:function(){function e(e,t,n,r,o){return y(e[t])?null:new l("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")}return c(e)}(),objectOf:m,oneOf:h,oneOfType:v,shape:g};return l.prototype=Error.prototype,P.checkPropTypes=s,P.PropTypes=P,P}},{130:130,138:138,143:143,145:145,148:148}],148:[function(e,t,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},{}]},{},[45])(45)}()}()});/*
 * SystemJS v0.20.12 Dev
 */
!function(){"use strict";function e(e){return lt?Symbol():"@@"+e}function t(e,t){it||(t=t.replace(st?/file:\/\/\//g:/file:\/\//g,""));var r,n=(e.message||e)+"\n  "+t;r=dt&&e.fileName?new Error(n,e.fileName,e.lineNumber):new Error(n);var o=e.originalErr?e.originalErr.stack:e.stack;return at?r.stack=n+"\n  "+o:r.stack=o,r.originalErr=e.originalErr||e,r}function r(e,t){throw new RangeError('Unable to resolve "'+e+'" to '+t)}function n(e,t){e=e.trim();var n=t&&t.substr(0,t.indexOf(":")+1),o=e[0],i=e[1];if("/"===o&&"/"===i)return n||r(e,t),n+e;if("."===o&&("/"===i||"."===i&&("/"===e[2]||2===e.length)||1===e.length)||"/"===o){var a,s=!n||"/"!==t[n.length];if(s?(void 0===t&&r(e,t),a=t):"/"===t[n.length+1]?"file:"!==n?(a=t.substr(n.length+2),a=a.substr(a.indexOf("/")+1)):a=t.substr(8):a=t.substr(n.length+1),"/"===o){if(!s)return t.substr(0,t.length-a.length-1)+e;r(e,t)}for(var u=a.substr(0,a.lastIndexOf("/")+1)+e,l=[],c=void 0,f=0;f<u.length;f++)if(void 0===c)if("."!==u[f])c=f;else{if("."!==u[f+1]||"/"!==u[f+2]&&f!==u.length-2){if("/"!==u[f+1]&&f!==u.length-1){c=f;continue}f+=1}else l.pop(),f+=2;s&&0===l.length&&r(e,t),f===u.length&&l.push("")}else"/"===u[f]&&(l.push(u.substr(c,f-c+1)),c=void 0);return void 0!==c&&l.push(u.substr(c,u.length-c)),t.substr(0,t.length-a.length)+l.join("")}var d=e.indexOf(":");return-1!==d?at&&":"===e[1]&&"\\"===e[2]&&e[0].match(/[a-z]/i)?"file:///"+e.replace(/\\/g,"/"):e:void 0}function o(e){if(e.values)return e.values();if("undefined"==typeof Symbol||!Symbol.iterator)throw new Error("Symbol.iterator not supported in this browser");var t={};return t[Symbol.iterator]=function(){var t=Object.keys(e),r=0;return{next:function(){return r<t.length?{value:e[t[r++]],done:!1}:{value:void 0,done:!0}}}},t}function i(){this.registry=new u}function a(e){if(!(e instanceof l))throw new TypeError("Module instantiation did not return a valid namespace object.");return e}function s(e){if(void 0===e)throw new RangeError("No resolution found.");return e}function u(){this[vt]={},this._registry=vt}function l(e){Object.defineProperty(this,yt,{value:e}),Object.keys(e).forEach(c,this)}function c(e){Object.defineProperty(this,e,{enumerable:!0,get:function(){return this[yt][e]}})}function f(){i.call(this);var e=this.registry.delete;this.registry.delete=function(r){var n=e.call(this,r);return t.hasOwnProperty(r)&&!t[r].linkRecord&&delete t[r],n};var t={};this[bt]={lastRegister:void 0,records:t},this.trace=!1}function d(e,t,r){return e.records[t]={key:t,registration:r,module:void 0,importerSetters:void 0,linkRecord:{instantiatePromise:void 0,dependencies:void 0,execute:void 0,executingRequire:!1,moduleObj:void 0,setters:void 0,depsInstantiatePromise:void 0,dependencyInstantiations:void 0,linked:!1,error:void 0}}}function p(e,t,r,n,o){var i=n[t];if(i)return Promise.resolve(i);var a=o.records[t];return a&&!a.module?h(e,a,a.linkRecord,n,o):e.resolve(t,r).then(function(t){if(i=n[t])return i;a=o.records[t],(!a||a.module)&&(a=d(o,t,a&&a.registration));var r=a.linkRecord;return r?h(e,a,r,n,o):a})}function g(e,t,r){return function(){var e=r.lastRegister;return e?(r.lastRegister=void 0,t.registration=e,!0):!!t.registration}}function h(e,r,n,o,i){return n.instantiatePromise||(n.instantiatePromise=(r.registration?Promise.resolve():Promise.resolve().then(function(){return i.lastRegister=void 0,e[wt](r.key,e[wt].length>1&&g(e,r,i))})).then(function(t){if(void 0!==t){if(!(t instanceof l))throw new TypeError("Instantiate did not return a valid Module object.");return delete i.records[r.key],e.trace&&v(e,r,n),o[r.key]=t}var a=r.registration;if(r.registration=void 0,!a)throw new TypeError("Module instantiation did not call an anonymous or correctly named System.register.");return n.dependencies=a[0],r.importerSetters=[],n.moduleObj={},a[2]?(n.moduleObj.default={},n.moduleObj.__useDefault=!0,n.executingRequire=a[1],n.execute=a[2]):b(e,r,n,a[1]),n.dependencies.length||(n.linked=!0,e.trace&&v(e,r,n)),r}).catch(function(e){throw n.error=t(e,"Instantiating "+r.key)}))}function m(e,t,r,n,o,i){return e.resolve(t,r).then(function(r){i&&(i[t]=r);var a=o.records[r],s=n[r];if(s&&(!a||a.module&&s!==a.module))return s;(!a||!s&&a.module)&&(a=d(o,r,a&&a.registration));var u=a.linkRecord;return u?h(e,a,u,n,o):a})}function v(e,t,r){e.loads=e.loads||{},e.loads[t.key]={key:t.key,deps:r.dependencies,dynamicDeps:[],depMap:r.depMap||{}}}function y(e,t,r){e.loads[t].dynamicDeps.push(r)}function b(e,t,r,n){var o=r.moduleObj,i=t.importerSetters,a=!1,s=n.call(ut,function(e,t){if("object"==typeof e){var r=!1;for(var n in e)t=e[n],"__useDefault"===n||n in o&&o[n]===t||(r=!0,o[n]=t);if(r===!1)return t}else{if((a||e in o)&&o[e]===t)return t;o[e]=t}for(var s=0;s<i.length;s++)i[s](o);return t},new x(e,t.key));r.setters=s.setters,r.execute=s.execute,s.exports&&(r.moduleObj=o=s.exports,a=!0)}function w(e,r,n,o,i,a){return(n.depsInstantiatePromise||(n.depsInstantiatePromise=Promise.resolve().then(function(){for(var t=Array(n.dependencies.length),a=0;a<n.dependencies.length;a++)t[a]=m(e,n.dependencies[a],r.key,o,i,e.trace&&n.depMap||(n.depMap={}));return Promise.all(t)}).then(function(e){if(n.dependencyInstantiations=e,n.setters)for(var t=0;t<e.length;t++){var r=n.setters[t];if(r){var o=e[t];o instanceof l?r(o):(r(o.module||o.linkRecord.moduleObj),o.importerSetters&&o.importerSetters.push(r))}}}))).then(function(){for(var t=[],r=0;r<n.dependencies.length;r++){var s=n.dependencyInstantiations[r],u=s.linkRecord;u&&!u.linked&&(-1===a.indexOf(s)?(a.push(s),t.push(w(e,s,s.linkRecord,o,i,a))):t.push(u.depsInstantiatePromise))}return Promise.all(t)}).then(function(){return n.linked=!0,e.trace&&v(e,r,n),r}).catch(function(e){throw e=t(e,"Loading "+r.key),n.error=n.error||e,e})}function k(e,t){var r=e[bt];r.records[t.key]===t&&delete r.records[t.key];var n=t.linkRecord;n&&n.dependencyInstantiations&&n.dependencyInstantiations.forEach(function(t,o){if(t&&!(t instanceof l)&&t.linkRecord&&(t.linkRecord.error&&r.records[t.key]===t&&k(e,t),n.setters&&t.importerSetters)){var i=t.importerSetters.indexOf(n.setters[o]);t.importerSetters.splice(i,1)}})}function x(e,t){this.loader=e,this.key=this.id=t}function O(e,t,r,n,o,i){if(t.module)return t.module;if(r.error)throw r.error;if(i&&-1!==i.indexOf(t))return t.linkRecord.moduleObj;var a=E(e,t,r,n,o,r.setters?[]:i||[]);if(a)throw k(e,t),a;return t.module}function S(e,t,r,n,o,i,a){return function(s){for(var u=0;u<r.length;u++)if(r[u]===s){var c,f=n[u];return c=f instanceof l?f:O(e,f,f.linkRecord,o,i,a),c.__useDefault?c.default:c}throw new Error("Module "+s+" not declared as a System.registerDynamic dependency of "+t)}}function E(e,r,n,o,i,a){a.push(r);var s;if(n.setters)for(var u,c,f=0;f<n.dependencies.length;f++)if(u=n.dependencyInstantiations[f],!(u instanceof l)&&(c=u.linkRecord,c&&-1===a.indexOf(u)&&(s=c.error?c.error:E(e,u,c,o,i,c.setters?a:[])),s))return n.error=t(s,"Evaluating "+r.key);if(n.execute)if(n.setters)s=j(n.execute);else{var d={id:r.key},p=n.moduleObj;Object.defineProperty(d,"exports",{configurable:!0,set:function(e){p.default=e},get:function(){return p.default}});var g=S(e,r.key,n.dependencies,n.dependencyInstantiations,o,i,a);if(!n.executingRequire)for(var f=0;f<n.dependencies.length;f++)g(n.dependencies[f]);s=P(n.execute,g,p.default,d),d.exports!==p.default&&(p.default=d.exports);var h=p.default;if(h&&h.__esModule)for(var m in p.default)Object.hasOwnProperty.call(p.default,m)&&"default"!==m&&(p[m]=h[m])}if(s)return n.error=t(s,"Evaluating "+r.key);if(o[r.key]=r.module=new l(n.moduleObj),!n.setters){if(r.importerSetters)for(var f=0;f<r.importerSetters.length;f++)r.importerSetters[f](r.module);r.importerSetters=void 0}r.linkRecord=void 0}function j(e){try{e.call(kt)}catch(e){return e}}function P(e,t,r,n){try{var o=e.call(ut,t,r,n);void 0!==o&&(n.exports=o)}catch(e){return e}}function R(){}function M(e){return e instanceof l?e:new l(e&&e.__esModule?e:{default:e,__useDefault:!0})}function _(e){return void 0===xt&&(xt="undefined"!=typeof Symbol&&!!Symbol.toStringTag),e instanceof l||xt&&"[object Module]"==Object.prototype.toString.call(e)}function C(e,t){(t||this.warnings&&"undefined"!=typeof console&&console.warn)&&console.warn(e)}function L(e,t,r){var n=new Uint8Array(t);return 0===n[0]&&97===n[1]&&115===n[2]?WebAssembly.compile(t).then(function(t){var n=[],o=[],i={};return WebAssembly.Module.imports&&WebAssembly.Module.imports(t).forEach(function(e){var t=e.module;o.push(function(e){i[t]=e}),-1===n.indexOf(t)&&n.push(t)}),e.register(n,function(e){return{setters:o,execute:function(){e(new WebAssembly.Instance(t,i).exports)}}}),r(),!0}):Promise.resolve(!1)}function A(e,t){if("."===e[0])throw new Error("Node module "+e+" can't be loaded as it is not a package require.");if(!Ot){var r=this._nodeRequire("module"),n=t.substr(st?8:7);Ot=new r(n),Ot.paths=r._nodeModulePaths(n)}return Ot.require(e)}function I(e,t){for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function F(e,t){for(var r in t)Object.hasOwnProperty.call(t,r)&&void 0===e[r]&&(e[r]=t[r]);return e}function K(e,t,r){for(var n in t)if(Object.hasOwnProperty.call(t,n)){var o=t[n];void 0===e[n]?e[n]=o:o instanceof Array&&e[n]instanceof Array?e[n]=[].concat(r?o:e[n]).concat(r?e[n]:o):"object"==typeof o&&null!==o&&"object"==typeof e[n]?e[n]=(r?F:I)(I({},e[n]),o):r||(e[n]=o)}}function D(e){if(!Mt&&!_t){var t=new Image;return void(t.src=e)}var r=document.createElement("link");Mt?(r.rel="preload",r.as="script"):r.rel="prefetch",r.href=e,document.head.appendChild(r),document.head.removeChild(r)}function q(e,t,r){try{importScripts(e)}catch(e){r(e)}t()}function T(e,t,r,n,o){function i(){n(),s()}function a(t){s(),o(new Error("Fetching "+e))}function s(){for(var e=0;e<Ct.length;e++)if(Ct[e].err===a){Ct.splice(e,1);break}u.removeEventListener("load",i,!1),u.removeEventListener("error",a,!1),document.head.removeChild(u)}if(e=e.replace(/#/g,"%23"),Rt)return q(e,n,o);var u=document.createElement("script");u.type="text/javascript",u.charset="utf-8",u.async=!0,t&&(u.crossOrigin=t),r&&(u.integrity=r),u.addEventListener("load",i,!1),u.addEventListener("error",a,!1),u.src=e,document.head.appendChild(u)}function U(e,t){for(var r=e.split(".");r.length;)t=t[r.shift()];return t}function z(e,t,r){var o=J(t,r);if(o){var i=t[o]+r.substr(o.length),a=n(i,ot);return void 0!==a?a:e+i}return-1!==r.indexOf(":")?r:e+r}function N(e){var t=this.name;if(t.substr(0,e.length)===e&&(t.length===e.length||"/"===t[e.length]||"/"===e[e.length-1]||":"===e[e.length-1])){var r=e.split("/").length;r>this.len&&(this.match=e,this.len=r)}}function J(e,t){if(Object.hasOwnProperty.call(e,t))return t;var r={name:t,match:void 0,len:0};return Object.keys(e).forEach(N,r),r.match}function $(e,t,r,n){if("file:///"===e.substr(0,8)){if(Kt)return B(e,t,r,n);throw new Error("Unable to fetch file URLs in this environment.")}e=e.replace(/#/g,"%23");var o={headers:{Accept:"application/x-es-module, */*"}};return r&&(o.integrity=r),t&&("string"==typeof t&&(o.headers.Authorization=t),o.credentials="include"),fetch(e,o).then(function(e){if(e.ok)return n?e.arrayBuffer():e.text();throw new Error("Fetch error: "+e.status+" "+e.statusText)})}function B(e,t,r,n){return new Promise(function(r,o){function i(){r(n?s.response:s.responseText)}function a(){o(new Error("XHR error: "+(s.status?" ("+s.status+(s.statusText?" "+s.statusText:"")+")":"")+" loading "+e))}e=e.replace(/#/g,"%23");var s=new XMLHttpRequest;n&&(s.responseType="arraybuffer"),s.onreadystatechange=function(){4===s.readyState&&(0==s.status?s.response?i():(s.addEventListener("error",a),s.addEventListener("load",i)):200===s.status?i():a())},s.open("GET",e,!0),s.setRequestHeader&&(s.setRequestHeader("Accept","application/x-es-module, */*"),t&&("string"==typeof t&&s.setRequestHeader("Authorization",t),s.withCredentials=!0)),s.send(null)})}function W(e,t,r,n){return"file:///"!=e.substr(0,8)?Promise.reject(new Error('Unable to fetch "'+e+'". Only file URLs of the form file:/// supported running in Node.')):(At=At||require("fs"),e=st?e.replace(/\//g,"\\").substr(8):e.substr(7),new Promise(function(t,r){At.readFile(e,function(e,o){if(e)return r(e);if(n)t(o);else{var i=o+"";"\ufeff"===i[0]&&(i=i.substr(1)),t(i)}})}))}function G(){throw new Error("No fetch method is defined for this environment.")}function H(){return{pluginKey:void 0,pluginArgument:void 0,pluginModule:void 0,packageKey:void 0,packageConfig:void 0,load:void 0}}function Z(e,t,r){var n=H();if(r){var o;t.pluginFirst?-1!==(o=r.lastIndexOf("!"))&&(n.pluginArgument=n.pluginKey=r.substr(0,o)):-1!==(o=r.indexOf("!"))&&(n.pluginArgument=n.pluginKey=r.substr(o+1)),n.packageKey=J(t.packages,r),n.packageKey&&(n.packageConfig=t.packages[n.packageKey])}return n}function X(e,t){var r=this[jt],n=H(),o=Z(this,r,t),i=this;return Promise.resolve().then(function(){var r=e.lastIndexOf("#?");if(-1===r)return Promise.resolve(e);var n=me.call(i,e.substr(r+2));return ve.call(i,n,t,!0).then(function(t){return t?e.substr(0,r):"@empty"})}).then(function(e){var a=oe(r.pluginFirst,e);return a?(n.pluginKey=a.plugin,Promise.all([te.call(i,r,a.argument,o&&o.pluginArgument||t,n,o,!0),i.resolve(a.plugin,t)]).then(function(e){if(n.pluginArgument=e[0],n.pluginKey=e[1],n.pluginArgument===n.pluginKey)throw new Error("Plugin "+n.pluginArgument+" cannot load itself, make sure it is excluded from any wildcard meta configuration via a custom loader: false rule.");return ie(r.pluginFirst,e[0],e[1])})):te.call(i,r,e,o&&o.pluginArgument||t,n,o,!1)}).then(function(e){return ye.call(i,e,t,o)}).then(function(e){return ne.call(i,r,e,n),n.pluginKey||!n.load.loader?e:i.resolve(n.load.loader,e).then(function(t){return n.pluginKey=t,n.pluginArgument=e,e})}).then(function(e){return i[Pt][e]=n,e})}function Y(e,t){var r=oe(e.pluginFirst,t);if(r){var n=Y.call(this,e,r.plugin);return ie(e.pluginFirst,V.call(this,e,r.argument,void 0,!1,!1),n)}return V.call(this,e,t,void 0,!1,!1)}function Q(e,t){var r=this[jt],n=H(),o=o||Z(this,r,t),i=oe(r.pluginFirst,e);return i?(n.pluginKey=Q.call(this,i.plugin,t),ie(r.pluginFirst,ee.call(this,r,i.argument,o.pluginArgument||t,n,o,!!n.pluginKey),n.pluginKey)):ee.call(this,r,e,o.pluginArgument||t,n,o,!!n.pluginKey)}function V(e,t,r,o,i){var a=n(t,r||ot);if(a)return z(e.baseURL,e.paths,a);if(o){var s=J(e.map,t);if(s&&(t=e.map[s]+t.substr(s.length),a=n(t,ot)))return z(e.baseURL,e.paths,a)}if(this.registry.has(t))return t;if("@node/"===t.substr(0,6))return t;var u=i&&"/"!==t[t.length-1],l=z(e.baseURL,e.paths,u?t+"/":t);return u?l.substr(0,l.length-1):l}function ee(e,t,r,n,o,i){if(o&&o.packageConfig&&"."!==t[0]){var a=o.packageConfig.map,s=a&&J(a,t);if(s&&"string"==typeof a[s]){var u=le(this,e,o.packageConfig,o.packageKey,s,t,n,i);if(u)return u}}var l=V.call(this,e,t,r,!0,!0),c=pe(e,l);if(n.packageKey=c&&c.packageKey||J(e.packages,l),!n.packageKey)return l;if(-1!==e.packageConfigKeys.indexOf(l))return n.packageKey=void 0,l;n.packageConfig=e.packages[n.packageKey]||(e.packages[n.packageKey]=Se());var f=l.substr(n.packageKey.length+1);return se(this,e,n.packageConfig,n.packageKey,f,n,i)}function te(e,t,r,n,o,i){var a=this;return St.then(function(){if(o&&o.packageConfig&&"./"!==t.substr(0,2)){var r=o.packageConfig.map,s=r&&J(r,t);if(s)return fe(a,e,o.packageConfig,o.packageKey,s,t,n,i)}return St}).then(function(o){if(o)return o;var s=V.call(a,e,t,r,!0,!0),u=pe(e,s);if(n.packageKey=u&&u.packageKey||J(e.packages,s),!n.packageKey)return Promise.resolve(s);if(-1!==e.packageConfigKeys.indexOf(s))return n.packageKey=void 0,n.load=re(),n.load.format="json",n.load.loader="",Promise.resolve(s);n.packageConfig=e.packages[n.packageKey]||(e.packages[n.packageKey]=Se());var l=u&&!n.packageConfig.configured;return(l?ge(a,e,u.configPath,n):St).then(function(){var t=s.substr(n.packageKey.length+1);return ce(a,e,n.packageConfig,n.packageKey,t,n,i)})})}function re(){return{extension:"",deps:void 0,format:void 0,loader:void 0,scriptLoad:void 0,globals:void 0,nonce:void 0,integrity:void 0,sourceMap:void 0,exports:void 0,encapsulateGlobal:!1,crossOrigin:void 0,cjsRequireDetection:!0,cjsDeferDepsExecute:!1,esModule:!1}}function ne(e,t,r){r.load=r.load||re();var n,o=0;for(var i in e.meta)if(n=i.indexOf("*"),-1!==n&&i.substr(0,n)===t.substr(0,n)&&i.substr(n+1)===t.substr(t.length-i.length+n+1)){var a=i.split("/").length;a>o&&(o=a),K(r.load,e.meta[i],o!==a)}if(e.meta[t]&&K(r.load,e.meta[t],!1),r.packageKey){var s=t.substr(r.packageKey.length+1),u={};if(r.packageConfig.meta){var o=0;he(r.packageConfig.meta,s,function(e,t,r){r>o&&(o=r),K(u,t,r&&o>r)}),K(r.load,u,!1)}!r.packageConfig.format||r.pluginKey||r.load.loader||(r.load.format=r.load.format||r.packageConfig.format)}}function oe(e,t){var r,n,o=e?t.indexOf("!"):t.lastIndexOf("!");return-1!==o?(e?(r=t.substr(o+1),n=t.substr(0,o)):(r=t.substr(0,o),n=t.substr(o+1)||r.substr(r.lastIndexOf(".")+1)),{argument:r,plugin:n}):void 0}function ie(e,t,r){return e?r+"!"+t:t+"!"+r}function ae(e,t,r,n,o){if(!n||!t.defaultExtension||"/"===n[n.length-1]||o)return n;var i=!1;if(t.meta&&he(t.meta,n,function(e,t,r){return 0===r||e.lastIndexOf("*")!==e.length-1?i=!0:void 0}),!i&&e.meta&&he(e.meta,r+"/"+n,function(e,t,r){return 0===r||e.lastIndexOf("*")!==e.length-1?i=!0:void 0}),i)return n;var a="."+t.defaultExtension;return n.substr(n.length-a.length)!==a?n+a:n}function se(e,t,r,n,o,i,a){if(!o){if(!r.main)return n;o="./"===r.main.substr(0,2)?r.main.substr(2):r.main}if(r.map){var s="./"+o,u=J(r.map,s);if(u||(s="./"+ae(e,r,n,o,a),s!=="./"+o&&(u=J(r.map,s))),u){var l=le(e,t,r,n,u,s,i,a);if(l)return l}}return n+"/"+ae(e,r,n,o,a)}function ue(e,t,r){return t.substr(0,e.length)===e&&r.length>e.length?!1:!0}function le(e,t,r,n,o,i,a,s){"/"===i[i.length-1]&&(i=i.substr(0,i.length-1));var u=r.map[o];if("object"==typeof u)throw new Error("Synchronous conditional normalization not supported sync normalizing "+o+" in "+n);if(ue(o,u,i)&&"string"==typeof u)return ee.call(this,t,u+i.substr(o.length),n+"/",a,a,s)}function ce(e,t,r,n,o,i,a){if(!o){if(!r.main)return Promise.resolve(n);o="./"===r.main.substr(0,2)?r.main.substr(2):r.main}var s,u;return r.map&&(s="./"+o,u=J(r.map,s),u||(s="./"+ae(e,r,n,o,a),s!=="./"+o&&(u=J(r.map,s)))),(u?fe(e,t,r,n,u,s,i,a):St).then(function(t){return t?Promise.resolve(t):Promise.resolve(n+"/"+ae(e,r,n,o,a))})}function fe(e,t,r,n,o,i,a,s){"/"===i[i.length-1]&&(i=i.substr(0,i.length-1));var u=r.map[o];if("string"==typeof u)return ue(o,u,i)?te.call(e,t,u+i.substr(o.length),n+"/",a,a,s).then(function(t){return ye.call(e,t,n+"/",a)}):St;var l=[],c=[];for(var d in u){var p=me(d);c.push({condition:p,map:u[d]}),l.push(f.prototype.import.call(e,p.module,n))}return Promise.all(l).then(function(e){for(var t=0;t<c.length;t++){var r=c[t].condition,n=U(r.prop,e[t].__useDefault?e[t].default:e[t]);if(!r.negate&&n||r.negate&&!n)return c[t].map}}).then(function(r){return r?ue(o,r,i)?te.call(e,t,r+i.substr(o.length),n+"/",a,a,s).then(function(t){return ye.call(e,t,n+"/",a)}):St:void 0})}function de(e){var t=e.lastIndexOf("*"),r=Math.max(t+1,e.lastIndexOf("/"));return{length:r,regEx:new RegExp("^("+e.substr(0,r).replace(/[.+?^${}()|[\]\\]/g,"\\$&").replace(/\*/g,"[^\\/]+")+")(\\/|$)"),wildcard:-1!==t}}function pe(e,t){for(var r,n,o=!1,i=0;i<e.packageConfigPaths.length;i++){var a=e.packageConfigPaths[i],s=qt[a]||(qt[a]=de(a));if(!(t.length<s.length)){var u=t.match(s.regEx);!u||r&&(o&&s.wildcard||!(r.length<u[1].length))||(r=u[1],o=!s.wildcard,n=r+a.substr(s.length))}}return r?{packageKey:r,configPath:n}:void 0}function ge(e,r,n,o,i){var a=e.pluginLoader||e;return-1===r.packageConfigKeys.indexOf(n)&&r.packageConfigKeys.push(n),a.import(n).then(function(e){Ee(o.packageConfig,e,o.packageKey,!0,r),o.packageConfig.configured=!0}).catch(function(e){throw t(e,"Unable to fetch package configuration file "+n)})}function he(e,t,r){var n;for(var o in e){var i="./"===o.substr(0,2)?"./":"";if(i&&(o=o.substr(2)),n=o.indexOf("*"),-1!==n&&o.substr(0,n)===t.substr(0,n)&&o.substr(n+1)===t.substr(t.length-o.length+n+1)&&r(o,e[i+o],o.split("/").length))return}var a=e[t]&&Object.hasOwnProperty.call(e,t)?e[t]:e["./"+t];a&&r(a,a,0)}function me(e){var t,r,n,n,o=e.lastIndexOf("|");return-1!==o?(t=e.substr(o+1),r=e.substr(0,o),"~"===t[0]&&(n=!0,t=t.substr(1))):(n="~"===e[0],t="default",r=e.substr(n),-1!==Tt.indexOf(r)&&(t=r,r=null)),{module:r||"@system-env",prop:t,negate:n}}function ve(e,t,r){return f.prototype.import.call(this,e.module,t).then(function(t){var n=U(e.prop,t);if(r&&"boolean"!=typeof n)throw new TypeError("Condition did not resolve to a boolean.");return e.negate?!n:n})}function ye(e,t,r){var n=e.match(Ut);if(!n)return Promise.resolve(e);var o=me.call(this,n[0].substr(2,n[0].length-3));return ve.call(this,o,t,!1).then(function(r){if("string"!=typeof r)throw new TypeError("The condition value for "+e+" doesn't resolve to a string.");if(-1!==r.indexOf("/"))throw new TypeError("Unabled to interpolate conditional "+e+(t?" in "+t:"")+"\n	The condition value "+r+' cannot contain a "/" separator.');return e.replace(Ut,r)})}function be(e,t,r){for(var n=0;n<zt.length;n++){var o=zt[n];t[o]&&Sr[o.substr(0,o.length-6)]&&r(t[o])}}function we(e,t){var r={};for(var n in e){var o=e[n];t>1?o instanceof Array?r[n]=[].concat(o):"object"==typeof o?r[n]=we(o,t-1):"packageConfig"!==n&&(r[n]=o):r[n]=o}return r}function ke(e,t){var r=e[t];return r instanceof Array?e[t].concat([]):"object"==typeof r?we(r,3):e[t]}function xe(e){if(e){if(-1!==Er.indexOf(e))return ke(this[jt],e);throw new Error('"'+e+'" is not a valid configuration name. Must be one of '+Er.join(", ")+".")}for(var t={},r=0;r<Er.length;r++){var n=Er[r],o=ke(this[jt],n);void 0!==o&&(t[n]=o)}return t}function Oe(e,t){var r=this,o=this[jt];if("warnings"in e&&(o.warnings=e.warnings),"wasm"in e&&(o.wasm="undefined"!=typeof WebAssembly&&e.wasm),("production"in e||"build"in e)&&rt.call(r,!!e.production,!!(e.build||Sr&&Sr.build)),!t){var i;be(r,e,function(e){i=i||e.baseURL}),i=i||e.baseURL,i&&(o.baseURL=n(i,ot)||n("./"+i,ot),"/"!==o.baseURL[o.baseURL.length-1]&&(o.baseURL+="/")),e.paths&&I(o.paths,e.paths),be(r,e,function(e){e.paths&&I(o.paths,e.paths)});for(var a in o.paths)-1!==o.paths[a].indexOf("*")&&(C.call(o,"Path config "+a+" -> "+o.paths[a]+" is no longer supported as wildcards are deprecated."),delete o.paths[a])}if(e.defaultJSExtensions&&C.call(o,"The defaultJSExtensions configuration option is deprecated.\n  Use packages defaultExtension instead.",!0),"boolean"==typeof e.pluginFirst&&(o.pluginFirst=e.pluginFirst),e.map)for(var a in e.map){var s=e.map[a];if("string"==typeof s){var u=V.call(r,o,s,void 0,!1,!1);"/"===u[u.length-1]&&":"!==a[a.length-1]&&"/"!==a[a.length-1]&&(u=u.substr(0,u.length-1)),o.map[a]=u}else{var l=V.call(r,o,"/"!==a[a.length-1]?a+"/":a,void 0,!0,!0);l=l.substr(0,l.length-1);var c=o.packages[l];c||(c=o.packages[l]=Se(),c.defaultExtension=""),Ee(c,{map:s},l,!1,o)}}if(e.packageConfigPaths){for(var f=[],d=0;d<e.packageConfigPaths.length;d++){var p=e.packageConfigPaths[d],g=Math.max(p.lastIndexOf("*")+1,p.lastIndexOf("/")),h=V.call(r,o,p.substr(0,g),void 0,!1,!1);f[d]=h+p.substr(g)}o.packageConfigPaths=f}if(e.bundles)for(var a in e.bundles){for(var m=[],d=0;d<e.bundles[a].length;d++)m.push(r.normalizeSync(e.bundles[a][d]));o.bundles[a]=m}if(e.packages)for(var a in e.packages){if(a.match(/^([^\/]+:)?\/\/$/))throw new TypeError('"'+a+'" is not a valid package name.');var l=V.call(r,o,"/"!==a[a.length-1]?a+"/":a,void 0,!0,!0);l=l.substr(0,l.length-1),Ee(o.packages[l]=o.packages[l]||Se(),e.packages[a],l,!1,o)}if(e.depCache)for(var a in e.depCache)o.depCache[r.normalizeSync(a)]=[].concat(e.depCache[a]);if(e.meta)for(var a in e.meta)if("*"===a[0])I(o.meta[a]=o.meta[a]||{},e.meta[a]);else{var v=V.call(r,o,a,void 0,!0,!0);I(o.meta[v]=o.meta[v]||{},e.meta[a])}"transpiler"in e&&(o.transpiler=e.transpiler);for(var y in e)-1===Er.indexOf(y)&&-1===zt.indexOf(y)&&(r[y]=e[y]);be(r,e,function(e){r.config(e,!0)})}function Se(){return{defaultExtension:void 0,main:void 0,format:void 0,meta:void 0,map:void 0,packageConfig:void 0,configured:!1}}function Ee(e,t,r,n,o){for(var i in t)"main"===i||"format"===i||"defaultExtension"===i||"configured"===i?n&&void 0!==e[i]||(e[i]=t[i]):"map"===i?(n?F:I)(e.map=e.map||{},t.map):"meta"===i?(n?F:I)(e.meta=e.meta||{},t.meta):Object.hasOwnProperty.call(t,i)&&C.call(o,'"'+i+'" is not a valid package configuration option in package '+r);return void 0===e.defaultExtension&&(e.defaultExtension="js"),void 0===e.main&&e.map&&e.map["."]?(e.main=e.map["."],delete e.map["."]):"object"==typeof e.main&&(e.map=e.map||{},e.map["./@main"]=e.main,e.main.default=e.main.default||"./",e.main="@main"),e}function je(e){return Nt?Gt+new Buffer(e).toString("base64"):"undefined"!=typeof btoa?Gt+btoa(unescape(encodeURIComponent(e))):""}function Pe(e,t,r,n){var o=e.lastIndexOf("\n");if(t){if("object"!=typeof t)throw new TypeError("load.metadata.sourceMap must be set to an object.");t=JSON.stringify(t)}return(n?"(function(System, SystemJS) {":"")+e+(n?"\n})(System, System);":"")+("\n//# sourceURL="!=e.substr(o,15)?"\n//# sourceURL="+r+(t?"!transpiled":""):"")+(t&&je(t)||"")}function Re(e,t,r,n,o){Jt||(Jt=document.head||document.body||document.documentElement);var i=document.createElement("script");i.text=Pe(t,r,n,!1);var a,s=window.onerror;return window.onerror=function(e){a=addToError(e,"Evaluating "+n),s&&s.apply(this,arguments)},Me(e),o&&i.setAttribute("nonce",o),Jt.appendChild(i),Jt.removeChild(i),_e(),window.onerror=s,a?a:void 0}function Me(e){0==Ht++&&(Wt=ut.System),ut.System=ut.SystemJS=e}function _e(){0==--Ht&&(ut.System=ut.SystemJS=Wt)}function Ce(e,t,r,n,o,i,a){if(t){if(i&&Zt)return Re(e,t,r,n,i);try{Me(e),!$t&&e._nodeRequire&&($t=e._nodeRequire("vm"),Bt=$t.runInThisContext("typeof System !== 'undefined' && System")===e),Bt?$t.runInThisContext(Pe(t,r,n,!a),{filename:n+(r?"!transpiled":"")}):(0,eval)(Pe(t,r,n,!a)),_e()}catch(e){return _e(),e}}}function Le(e){return"file:///"===e.substr(0,8)?e.substr(7+!!st):Xt&&e.substr(0,Xt.length)===Xt?e.substr(Xt.length):e}function Ae(e,t){return Le(this.normalizeSync(e,t))}function Ie(e){var t,r=e.lastIndexOf("!");t=-1!==r?e.substr(0,r):e;var n=t.split("/");return n.pop(),n=n.join("/"),{filename:Le(t),dirname:Le(n)}}function Fe(e){function t(e,t){for(var r=0;r<e.length;r++)if(e[r][0]<t.index&&e[r][1]>t.index)return!0;return!1}Ft.lastIndex=rr.lastIndex=nr.lastIndex=0;var r,n=[],o=[],i=[];if(e.length/e.split("\n").length<200){for(;r=nr.exec(e);)o.push([r.index,r.index+r[0].length]);for(;r=rr.exec(e);)t(o,r)||i.push([r.index+r[1].length,r.index+r[0].length-1])}for(;r=Ft.exec(e);)if(!t(o,r)&&!t(i,r)){var a=r[1].substr(1,r[1].length-2);if(a.match(/"|'/))continue;n.push(a)}return n}function Ke(e){if(-1===or.indexOf(e)){try{var t=ut[e]}catch(t){or.push(e)}this(e,t)}}function De(e){if("string"==typeof e)return U(e,ut);if(!(e instanceof Array))throw new Error("Global exports must be a string or array.");for(var t={},r=0;r<e.length;r++)t[e[r].split(".").pop()]=U(e[r],ut);return t}function qe(e,t,r,n){var o=ut.define;ut.define=void 0;var i;if(r){i={};for(var a in r)i[a]=ut[a],ut[a]=r[a]}return t||(Qt={},Object.keys(ut).forEach(Ke,function(e,t){Qt[e]=t})),function(){var e,r=t?De(t):{},a=!!t;if((!t||n)&&Object.keys(ut).forEach(Ke,function(o,i){Qt[o]!==i&&void 0!==i&&(n&&(ut[o]=void 0),t||(r[o]=i,void 0!==e?a||e===i||(a=!0):e=i))}),r=a?r:e,i)for(var s in i)ut[s]=i[s];return ut.define=o,r}}function Te(e,t){e=e.replace(rr,"");var r=e.match(sr),n=(r[1].split(",")[t]||"require").replace(ur,""),o=lr[n]||(lr[n]=new RegExp(ir+n+ar,"g"));o.lastIndex=0;for(var i,a=[];i=o.exec(e);)a.push(i[2]||i[3]);return a}function Ue(e){return function(t,r,n){e(t,r,n),r=n.exports,"object"!=typeof r&&"function"!=typeof r||"__esModule"in r||Object.defineProperty(n.exports,"__esModule",{value:!0})}}function ze(e,t){er=e,fr=t,Vt=void 0,cr=!1}function Ne(e){Vt?e.registerDynamic(er?Vt[0].concat(er):Vt[0],!1,fr?Ue(Vt[1]):Vt[1]):cr&&e.registerDynamic([],!1,R)}function Je(e,t){!e.load.esModule||"object"!=typeof t&&"function"!=typeof t||"__esModule"in t||Object.defineProperty(t,"__esModule",{value:!0})}function $e(e,t){var r=this,n=this[jt];return(We(n,this,e)||St).then(function(){if(!t()){var o=r[Pt][e];if("@node/"===e.substr(0,6)){if(!r._nodeRequire)throw new TypeError("Error loading "+e+". Can only load node core modules in Node.");return r.registerDynamic([],!1,function(){return A.call(r,e.substr(6),r.baseURL)}),void t()}return o.load.scriptLoad?(o.load.pluginKey||!dr)&&(o.load.scriptLoad=!1,C.call(n,'scriptLoad not supported for "'+e+'"')):o.load.scriptLoad!==!1&&!o.load.pluginKey&&dr&&(o.load.deps||o.load.globals||!("system"===o.load.format||"register"===o.load.format||"global"===o.load.format&&o.load.exports)||(o.load.scriptLoad=!0)),o.load.scriptLoad?new Promise(function(n,i){if("amd"===o.load.format&&ut.define!==r.amdDefine)throw new Error("Loading AMD with scriptLoad requires setting the global `"+gr+".define = SystemJS.amdDefine`");T(e,o.load.crossOrigin,o.load.integrity,function(){if(!t()){o.load.format="global";var e=o.load.exports&&De(o.load.exports);r.registerDynamic([],!1,function(){return Je(o,e),e}),t()}n()},i)}):Be(r,e,o).then(function(){return Ge(r,e,o,t,n.wasm)})}}).then(function(t){return delete r[Pt][e],t})}function Be(e,t,r){return r.pluginKey?e.import(r.pluginKey).then(function(e){r.pluginModule=e,r.pluginLoad={name:t,address:r.pluginArgument,source:void 0,metadata:r.load},r.load.deps=r.load.deps||[]}):St}function We(e,t,r){var n=e.depCache[r];if(n)for(var o=0;o<n.length;o++)t.normalize(n[o],r).then(D);else{var i=!1;for(var a in e.bundles){for(var o=0;o<e.bundles[a].length;o++){var s=e.bundles[a][o];if(s===r){i=!0;break}if(-1!==s.indexOf("*")){var u=s.split("*");if(2!==u.length){e.bundles[a].splice(o--,1);continue}if(r.substr(0,u[0].length)===u[0]&&r.substr(r.length-u[1].length,u[1].length)===u[1]){i=!0;break}}}if(i)return t.import(a)}}}function Ge(e,t,r,n,o){return r.load.exports&&!r.load.format&&(r.load.format="global"),St.then(function(){return r.pluginModule&&r.pluginModule.locate?Promise.resolve(r.pluginModule.locate.call(e,r.pluginLoad)).then(function(e){e&&(r.pluginLoad.address=e)}):void 0}).then(function(){return r.pluginModule?(o=!1,r.pluginModule.fetch?r.pluginModule.fetch.call(e,r.pluginLoad,function(e){return Dt(e.address,r.load.authorization,r.load.integrity,!1)}):Dt(r.pluginLoad.address,r.load.authorization,r.load.integrity,!1)):Dt(t,r.load.authorization,r.load.integrity,o)}).then(function(i){return o&&"string"!=typeof i?L(e,i,n).then(function(o){if(!o){var a=it?new TextDecoder("utf-8").decode(new Uint8Array(i)):i.toString();return He(e,t,a,r,n)}}):He(e,t,i,r,n)})}function He(e,t,r,n,o){return Promise.resolve(r).then(function(t){return"detect"===n.load.format&&(n.load.format=void 0),et(t,n),n.pluginModule&&n.pluginModule.translate?(n.pluginLoad.source=t,Promise.resolve(n.pluginModule.translate.call(e,n.pluginLoad,n.traceOpts)).then(function(e){if(n.load.sourceMap){if("object"!=typeof n.load.sourceMap)throw new Error("metadata.load.sourceMap must be set to an object.");Ye(n.pluginLoad.address,n.load.sourceMap)}return"string"==typeof e?e:n.pluginLoad.source})):t}).then(function(r){return n.load.format||'"bundle"'!==r.substring(0,8)?"register"===n.load.format||!n.load.format&&Ze(r)?(n.load.format="register",r):"esm"===n.load.format||!n.load.format&&r.match(hr)?(n.load.format="esm",Qe(e,r,t,n,o)):r:(n.load.format="system",r)}).then(function(t){if("string"!=typeof t||!n.pluginModule||!n.pluginModule.instantiate)return t;var r=!1;return n.pluginLoad.source=t,Promise.resolve(n.pluginModule.instantiate.call(e,n.pluginLoad,function(e){if(t=e.source,n.load=e.metadata,r)throw new Error("Instantiate must only be called once.");r=!0})).then(function(e){return r?t:M(e)})}).then(function(r){if("string"!=typeof r)return r;n.load.format||(n.load.format=Xe(r));var i=!1;switch(n.load.format){case"esm":case"register":case"system":var a=Ce(e,r,n.load.sourceMap,t,n.load.integrity,n.load.nonce,!1);if(a)throw a;if(!o())return Et;return;case"json":return e.newModule({
default:JSON.parse(r),__useDefault:!0});case"amd":var s=ut.define;ut.define=e.amdDefine,ze(n.load.deps,n.load.esModule);var a=Ce(e,r,n.load.sourceMap,t,n.load.integrity,n.load.nonce,!1);if(i=o(),i||(Ne(e),i=o()),ut.define=s,a)throw a;break;case"cjs":var u=n.load.deps,l=(n.load.deps||[]).concat(n.load.cjsRequireDetection?Fe(r):[]);for(var c in n.load.globals)n.load.globals[c]&&l.push(n.load.globals[c]);e.registerDynamic(l,!0,function(o,i,a){if(o.resolve=function(t){return Ae.call(e,t,a.id)},a.paths=[],a.require=o,!n.load.cjsDeferDepsExecute&&u)for(var s=0;s<u.length;s++)o(u[s]);var l=Ie(a.id),c={exports:i,args:[o,i,a,l.filename,l.dirname,ut,ut]},f="(function (require, exports, module, __filename, __dirname, global, GLOBAL";if(n.load.globals)for(var d in n.load.globals)c.args.push(o(n.load.globals[d])),f+=", "+d;var p=ut.define;ut.define=void 0,ut.__cjsWrapper=c,r=f+") {"+r.replace(br,"")+"\n}).apply(__cjsWrapper.exports, __cjsWrapper.args);";var g=Ce(e,r,n.load.sourceMap,t,n.load.integrity,n.load.nonce,!1);if(g)throw g;Je(n,i),ut.__cjsWrapper=void 0,ut.define=p}),i=o();break;case"global":var l=n.load.deps||[];for(var c in n.load.globals){var f=n.load.globals[c];f&&l.push(f)}e.registerDynamic(l,!1,function(o,i,a){var s;if(n.load.globals){s={};for(var u in n.load.globals)n.load.globals[u]&&(s[u]=o(n.load.globals[u]))}var l=n.load.exports;l&&(r+="\n"+gr+'["'+l+'"] = '+l+";");var c=qe(a.id,l,s,n.load.encapsulateGlobal),f=Ce(e,r,n.load.sourceMap,t,n.load.integrity,n.load.nonce,!0);if(f)throw f;var d=c();return Je(n,d),d}),i=o();break;default:throw new TypeError('Unknown module format "'+n.load.format+'" for "'+t+'".'+("es6"===n.load.format?' Use "esm" instead here.':""))}if(!i)throw new Error("Module "+t+" detected as "+n.load.format+" but didn't execute correctly.")})}function Ze(e){var t=e.match(mr);return t&&"System.register"===e.substr(t[0].length,15)}function Xe(e){return e.match(vr)?"amd":(yr.lastIndex=0,Ft.lastIndex=0,Ft.exec(e)||yr.exec(e)?"cjs":"global")}function Ye(e,t){var r=e.split("!")[0];t.file&&t.file!=e||(t.file=r+"!transpiled"),(!t.sources||t.sources.length<=1&&(!t.sources[0]||t.sources[0]===e))&&(t.sources=[r])}function Qe(e,r,n,o,i){if(!e.transpiler)throw new TypeError("Unable to dynamically transpile ES module\n   A loader plugin needs to be configured via `SystemJS.config({ transpiler: 'transpiler-module' })`.");if(o.load.deps){for(var a="",s=0;s<o.load.deps.length;s++)a+='import "'+o.load.deps[s]+'"; ';r=a+r}return e.import.call(e,e.transpiler).then(function(t){if(t.__useDefault&&(t=t.default),!t.translate)throw new Error(e.transpiler+" is not a valid transpiler plugin.");return t===o.pluginModule?r:("string"==typeof o.load.sourceMap&&(o.load.sourceMap=JSON.parse(o.load.sourceMap)),o.pluginLoad=o.pluginLoad||{name:n,address:n,source:r,metadata:o.load},o.load.deps=o.load.deps||[],Promise.resolve(t.translate.call(e,o.pluginLoad,o.traceOpts)).then(function(e){var t=o.load.sourceMap;return t&&"object"==typeof t&&Ye(n,t),"esm"===o.load.format&&Ze(e)&&(o.load.format="register"),e}))},function(e){throw t(e,"Unable to load transpiler to transpile "+n)})}function Ve(e,t,r){for(var n,o=t.split(".");o.length>1;)n=o.shift(),e=e[n]=e[n]||{};n=o.shift(),void 0===e[n]&&(e[n]=r)}function et(e,t){var r=e.match(wr);if(r)for(var n=r[0].match(kr),o=0;o<n.length;o++){var i=n[o],a=i.length,s=i.substr(0,1);if(";"==i.substr(a-1,1)&&a--,'"'==s||"'"==s){var u=i.substr(1,i.length-3),l=u.substr(0,u.indexOf(" "));if(l){var c=u.substr(l.length+1,u.length-l.length-1);"deps"===l&&(l="deps[]"),"[]"===l.substr(l.length-2,2)?(l=l.substr(0,l.length-2),t.load[l]=t.load[l]||[],t.load[l].push(c)):"use"!==l&&Ve(t.load,l,c)}else t.load[u]=!0}}}function tt(){f.call(this),this._loader={},this[Pt]={},this[jt]={baseURL:ot,paths:{},packageConfigPaths:[],packageConfigKeys:[],map:{},packages:{},depCache:{},meta:{},bundles:{},production:!1,transpiler:void 0,loadedBundles:{},warnings:!1,pluginFirst:!1,wasm:!1},this.scriptSrc=pr,this._nodeRequire=tr,this.registry.set("@empty",Et),rt.call(this,!1,!1),Yt(this)}function rt(e,t){this[jt].production=e,this.registry.set("@system-env",Sr=this.newModule({browser:it,node:!!this._nodeRequire,production:!t&&e,dev:t||!e,build:t,default:!0}))}function nt(e,t){C.call(e[jt],"SystemJS."+t+" is deprecated for SystemJS.registry."+t)}var ot,it="undefined"!=typeof window&&"undefined"!=typeof document,at="undefined"!=typeof process&&process.versions&&process.versions.node,st="undefined"!=typeof process&&"string"==typeof process.platform&&process.platform.match(/^win/),ut="undefined"!=typeof self?self:global,lt="undefined"!=typeof Symbol;if("undefined"!=typeof document&&document.getElementsByTagName){if(ot=document.baseURI,!ot){var ct=document.getElementsByTagName("base");ot=ct[0]&&ct[0].href||window.location.href}}else"undefined"!=typeof location&&(ot=location.href);if(ot){ot=ot.split("#")[0].split("?")[0];var ft=ot.lastIndexOf("/");-1!==ft&&(ot=ot.substr(0,ft+1))}else{if("undefined"==typeof process||!process.cwd)throw new TypeError("No environment baseURI");ot="file://"+(st?"/":"")+process.cwd(),st&&(ot=ot.replace(/\\/g,"/"))}"/"!==ot[ot.length-1]&&(ot+="/");var dt="_"==new Error(0,"_").fileName,pt=Promise.resolve();i.prototype.constructor=i,i.prototype.import=function(e,r){if("string"!=typeof e)throw new TypeError("Loader import method must be passed a module key string");var n=this;return pt.then(function(){return n[ht](e,r)}).then(a).catch(function(n){throw t(n,"Loading "+e+(r?" from "+r:""))})};var gt=i.resolve=e("resolve"),ht=i.resolveInstantiate=e("resolveInstantiate");i.prototype[ht]=function(e,t){var r=this;return r.resolve(e,t).then(function(e){return r.registry.get(e)})},i.prototype.resolve=function(e,r){var n=this;return pt.then(function(){return n[gt](e,r)}).then(s).catch(function(n){throw t(n,"Resolving "+e+(r?" to "+r:""))})};var mt="undefined"!=typeof Symbol&&Symbol.iterator,vt=e("registry");mt&&(u.prototype[Symbol.iterator]=function(){return this.entries()[Symbol.iterator]()},u.prototype.entries=function(){var e=this[vt];return o(Object.keys(e).map(function(t){return[t,e[t]]}))}),u.prototype.keys=function(){return o(Object.keys(this[vt]))},u.prototype.values=function(){var e=this[vt];return o(Object.keys(e).map(function(t){return e[t]}))},u.prototype.get=function(e){return this[vt][e]},u.prototype.set=function(e,t){if(!(t instanceof l))throw new Error("Registry must be set with an instance of Module Namespace");return this[vt][e]=t,this},u.prototype.has=function(e){return Object.hasOwnProperty.call(this[vt],e)},u.prototype.delete=function(e){return Object.hasOwnProperty.call(this[vt],e)?(delete this[vt][e],!0):!1};var yt=e("baseObject");l.prototype=Object.create(null),"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l.prototype,Symbol.toStringTag,{value:"Module"});var bt=e("register-internal");f.prototype=Object.create(i.prototype),f.prototype.constructor=f;var wt=f.instantiate=e("instantiate");f.prototype[f.resolve=i.resolve]=function(e,t){return n(e,t||ot)},f.prototype[wt]=function(e,t){},f.prototype[i.resolveInstantiate]=function(e,t){var r=this,n=this[bt],o=r.registry[r.registry._registry];return p(r,e,t,o,n).then(function(e){return e instanceof l?e:e.module?e.module:e.linkRecord.linked?O(r,e,e.linkRecord,o,n,void 0):w(r,e,e.linkRecord,o,n,[e]).then(function(){return O(r,e,e.linkRecord,o,n,void 0)}).catch(function(t){throw k(r,e),t})})},f.prototype.register=function(e,t,r){var n=this[bt];if(void 0===r)n.lastRegister=[e,t,void 0];else{var o=n.records[e]||d(n,e,void 0);o.registration=[t,r,void 0]}},f.prototype.registerDynamic=function(e,t,r,n){var o=this[bt];if("string"!=typeof e)o.lastRegister=[e,t,r];else{var i=o.records[e]||d(o,e,void 0);i.registration=[t,r,n]}},x.prototype.import=function(e){return this.loader.trace&&y(this.loader,this.key,e),this.loader.import(e,this.key)};var kt={};Object.freeze&&Object.freeze(kt);var xt,Ot,St=Promise.resolve(),Et=new l({}),jt=e("loader-config"),Pt=e("metadata"),Rt="undefined"==typeof window&&"undefined"!=typeof self&&"undefined"!=typeof importScripts,Mt=!1,_t=!1;if(it&&function(){var e=document.createElement("link").relList;if(e&&e.supports){_t=!0;try{Mt=e.supports("preload")}catch(e){}}}(),it){var Ct=[],Lt=window.onerror;window.onerror=function(e,t){for(var r=0;r<Ct.length;r++)if(Ct[r].src===t)return void Ct[r].err(e);Lt&&Lt.apply(this,arguments)}}var At,It,Ft=/(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF."'])require\s*\(\s*("[^"\\]*(?:\\.[^"\\]*)*"|'[^'\\]*(?:\\.[^'\\]*)*')\s*\)/g,Kt="undefined"!=typeof XMLHttpRequest;It="undefined"!=typeof self&&"undefined"!=typeof self.fetch?$:Kt?B:"undefined"!=typeof require&&"undefined"!=typeof process?W:G;var Dt=It,qt={},Tt=["browser","node","dev","build","production","default"],Ut=/#\{[^\}]+\}/,zt=["browserConfig","nodeConfig","devConfig","buildConfig","productionConfig"],Nt="undefined"!=typeof Buffer;try{Nt&&"YQ=="!==new Buffer("a").toString("base64")&&(Nt=!1)}catch(e){Nt=!1}var Jt,$t,Bt,Wt,Gt="\n//# sourceMappingURL=data:application/json;base64,",Ht=0,Zt=!1;it&&"undefined"!=typeof document&&document.getElementsByTagName&&(window.chrome&&window.chrome.extension||navigator.userAgent.match(/^Node\.js/)||(Zt=!0));var Xt,Yt=function(e){function t(r,n,o,i){if("object"==typeof r&&!(r instanceof Array))return t.apply(null,Array.prototype.splice.call(arguments,1,arguments.length-1));if("string"==typeof r&&"function"==typeof n&&(r=[r]),!(r instanceof Array)){if("string"==typeof r){var a=e.decanonicalize(r,i),s=e.get(a);if(!s)throw new Error('Module not already loaded loading "'+r+'" as '+a+(i?' from "'+i+'".':"."));return s.__useDefault?s.default:s}throw new TypeError("Invalid require")}for(var u=[],l=0;l<r.length;l++)u.push(e.import(r[l],i));Promise.all(u).then(function(e){for(var t=0;t<e.length;t++)e[t]=e[t].__useDefault?e[t].default:e[t];n&&n.apply(null,e)},o)}function r(r,n,o){function i(r,i,l){for(var c=[],f=0;f<n.length;f++)c.push(r(n[f]));if(l.uri=l.id,l.config=R,-1!==u&&c.splice(u,0,l),-1!==s&&c.splice(s,0,i),-1!==a){var d=function(n,o,i){return"string"==typeof n&&"function"!=typeof o?r(n):t.call(e,n,o,i,l.id)};d.toUrl=function(t){return e.normalizeSync(t,l.id)},c.splice(a,0,d)}var p=ut.require;ut.require=t;var g=o.apply(-1===s?ut:i,c);ut.require=p,"undefined"!=typeof g&&(l.exports=g)}"string"!=typeof r&&(o=n,n=r,r=null),n instanceof Array||(o=n,n=["require","exports","module"].splice(0,o.length)),"function"!=typeof o&&(o=function(e){return function(){return e}}(o)),r||er&&(n=n.concat(er),er=void 0);var a,s,u;-1!==(a=n.indexOf("require"))&&(n.splice(a,1),r||(n=n.concat(Te(o.toString(),a)))),-1!==(s=n.indexOf("exports"))&&n.splice(s,1),-1!==(u=n.indexOf("module"))&&n.splice(u,1),r?(e.registerDynamic(r,n,!1,i),Vt?(Vt=void 0,cr=!0):cr||(Vt=[n,i])):e.registerDynamic(n,!1,fr?Ue(i):i)}e.set("@@cjs-helpers",e.newModule({requireResolve:Ae.bind(e),getPathVars:Ie})),e.set("@@global-helpers",e.newModule({prepareGlobal:qe})),r.amd={},e.amdDefine=r,e.amdRequire=t};"undefined"!=typeof window&&"undefined"!=typeof document&&window.location&&(Xt=location.protocol+"//"+location.hostname+(location.port?":"+location.port:""));var Qt,Vt,er,tr,rr=/(^|[^\\])(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,nr=/("[^"\\\n\r]*(\\.[^"\\\n\r]*)*"|'[^'\\\n\r]*(\\.[^'\\\n\r]*)*')/g,or=["_g","sessionStorage","localStorage","clipboardData","frames","frameElement","external","mozAnimationStartTime","webkitStorageInfo","webkitIndexedDB","mozInnerScreenY","mozInnerScreenX"],ir="(?:^|[^$_a-zA-Z\\xA0-\\uFFFF.])",ar="\\s*\\(\\s*(\"([^\"]+)\"|'([^']+)')\\s*\\)",sr=/\(([^\)]*)\)/,ur=/^\s+|\s+$/g,lr={},cr=!1,fr=!1,dr=(it||Rt)&&"undefined"!=typeof navigator&&navigator.userAgent&&!navigator.userAgent.match(/MSIE (9|10).0/);"undefined"==typeof require||"undefined"==typeof process||process.browser||(tr=require);var pr,gr="undefined"!=typeof self?"self":"global",hr=/(^\s*|[}\);\n]\s*)(import\s*(['"]|(\*\s+as\s+)?[^"'\(\)\n;]+\s*from\s*['"]|\{)|export\s+\*\s+from\s+["']|export\s*(\{|default|function|class|var|const|let|async\s+function))/,mr=/^(\s*\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\s*\/\/[^\n]*|\s*"[^"]+"\s*;?|\s*'[^']+'\s*;?)*\s*/,vr=/(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF.])define\s*\(\s*("[^"]+"\s*,\s*|'[^']+'\s*,\s*)?\s*(\[(\s*(("[^"]+"|'[^']+')\s*,|\/\/.*\r?\n|\/\*(.|\s)*?\*\/))*(\s*("[^"]+"|'[^']+')\s*,?)?(\s*(\/\/.*\r?\n|\/\*(.|\s)*?\*\/))*\s*\]|function\s*|{|[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*\))/,yr=/(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF.])(exports\s*(\[['"]|\.)|module(\.exports|\['exports'\]|\["exports"\])\s*(\[['"]|[=,\.]))/,br=/^\#\!.*/,wr=/^(\s*\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\s*\/\/[^\n]*|\s*"[^"]+"\s*;?|\s*'[^']+'\s*;?)+/,kr=/\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\/\/[^\n]*|"[^"]+"\s*;?|'[^']+'\s*;?/g;if("undefined"==typeof Promise)throw new Error("SystemJS needs a Promise polyfill.");if("undefined"!=typeof document){var xr=document.getElementsByTagName("script"),Or=xr[xr.length-1];document.currentScript&&(Or.defer||Or.async)&&(Or=document.currentScript),pr=Or&&Or.src}else if("undefined"!=typeof importScripts)try{throw new Error("_")}catch(e){e.stack.replace(/(?:at|@).*(http.+):[\d]+:[\d]+/,function(e,t){pr=t})}else"undefined"!=typeof __filename&&(pr=__filename);var Sr;tt.prototype=Object.create(f.prototype),tt.prototype.constructor=tt,tt.prototype[tt.resolve=f.resolve]=tt.prototype.normalize=X,tt.prototype.load=function(e,t){return C.call(this[jt],"System.load is deprecated."),this.import(e,t)},tt.prototype.decanonicalize=tt.prototype.normalizeSync=tt.prototype.resolveSync=Q,tt.prototype[tt.instantiate=f.instantiate]=$e,tt.prototype.config=Oe,tt.prototype.getConfig=xe,tt.prototype.global=ut,tt.prototype.import=function(){return f.prototype.import.apply(this,arguments).then(function(e){return e.__useDefault?e.default:e})};for(var Er=["baseURL","map","paths","packages","packageConfigPaths","depCache","meta","bundles","transpiler","warnings","pluginFirst","production","wasm"],jr="undefined"!=typeof Proxy,Pr=0;Pr<Er.length;Pr++)(function(e){Object.defineProperty(tt.prototype,e,{get:function(){var t=ke(this[jt],e);return jr&&"object"==typeof t&&(t=new Proxy(t,{set:function(t,r){throw new Error("Cannot set SystemJS."+e+'["'+r+'"] directly. Use SystemJS.config({ '+e+': { "'+r+'": ... } }) rather.')}})),t},set:function(t){throw new Error("Setting `SystemJS."+e+"` directly is no longer supported. Use `SystemJS.config({ "+e+": ... })`.")}})})(Er[Pr]);tt.prototype.delete=function(e){nt(this,"delete"),this.registry.delete(e)},tt.prototype.get=function(e){return nt(this,"get"),this.registry.get(e)},tt.prototype.has=function(e){return nt(this,"has"),this.registry.has(e)},tt.prototype.set=function(e,t){return nt(this,"set"),this.registry.set(e,t)},tt.prototype.newModule=function(e){return new l(e)},tt.prototype.isModule=_,tt.prototype.register=function(e,t,r){return"string"==typeof e&&(e=Y.call(this,this[jt],e)),f.prototype.register.call(this,e,t,r)},tt.prototype.registerDynamic=function(e,t,r,n){return"string"==typeof e&&(e=Y.call(this,this[jt],e)),f.prototype.registerDynamic.call(this,e,t,r,n)},tt.prototype.version="0.20.12 Dev";var Rr=new tt;(it||Rt)&&(ut.SystemJS=ut.System=Rr),"undefined"!=typeof module&&module.exports&&(module.exports=Rr)}();

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __values = (this && this.__values) || function (o) {
    var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
    if (m) return m.call(o);
    return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
};
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __read = (this && this.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (this && this.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)
            t[p[i]] = s[p[i]];
    return t;
};
System.register("App", [], function (exports_1, context_1) {
    "use strict";
    var App;
    var __moduleName = context_1 && context_1.id;
    return {
        setters: [],
        execute: function () {
            App = (function (_super) {
                __extends(App, _super);
                function App() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                App.prototype.render = function () {
                    return (React.createElement("div", null, this.props.children));
                };
                return App;
            }(React.Component));
            exports_1("default", App);
        }
    };
});
System.register("main", [], function (exports_2, context_2) {
    "use strict";
    var __moduleName = context_2 && context_2.id;
    function createClientSideComponents(components) {
        var e_1, _a;
        var _loop_1 = function (component) {
            SystemJS.import(component.module).then(function (mod) {
                ReactDOM.render(React.createElement(mod[component.componentClass], component.props), document.getElementById(component.id).parentElement);
            });
        };
        try {
            for (var components_1 = __values(components), components_1_1 = components_1.next(); !components_1_1.done; components_1_1 = components_1.next()) {
                var component = components_1_1.value;
                _loop_1(component);
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (components_1_1 && !components_1_1.done && (_a = components_1.return)) _a.call(components_1);
            }
            finally { if (e_1) throw e_1.error; }
        }
    }
    exports_2("createClientSideComponents", createClientSideComponents);
    return {
        setters: [],
        execute: function () {
        }
    };
});
var BaseComponent = (function (_super) {
    __extends(BaseComponent, _super);
    function BaseComponent(p, s) {
        var _this = _super.call(this, p, s) || this;
        autoBind.apply(_this);
        return _this;
    }
    return BaseComponent;
}(React.Component));
function autoBind() {
    var _this = this;
    var proto = this.constructor.prototype;
    while (proto) {
        Object.keys(proto).forEach(function (methodName) {
            if (methodName === "constructor") {
                return;
            }
            if (typeof proto[methodName] === "function") {
                _this[methodName] = proto[methodName].bind(_this);
            }
        });
        proto = Object.getPrototypeOf(proto);
    }
}
System.register("components/Form/index.css", [], function (exports_3, context_3) {
    "use strict";
    var __moduleName = context_3 && context_3.id;
    return {
        setters: [],
        execute: function () {
            exports_3("default", {
                "section": "src-components-Form-section",
                "sectionTitle": "src-components-Form-sectionTitle",
                "element": "src-components-Form-element",
                "textLong": "src-components-Form-textLong",
                "checkbox": "src-components-Form-checkbox",
                "checkboxInlineComponent": "src-components-Form-checkboxInlineComponent",
                "checkboxInline": "src-components-Form-checkboxInline",
                "label": "src-components-Form-label",
                "labelTitle": "src-components-Form-labelTitle",
                "labelCheckbox": "src-components-Form-labelCheckbox",
                "radioGroup": "src-components-Form-radioGroup",
                "remark": "src-components-Form-remark",
                "filterList": "src-components-Form-filterList",
                "-webkit-filter": "src-components-Form-filter",
                "filter": "src-components-Form-filter",
                "table": "src-components-Form-table",
                "tableSmall": "src-components-Form-tableSmall",
                "tableHead": "src-components-Form-tableHead",
                "tableHeadAlt": "src-components-Form-tableHeadAlt",
                "tableColumn": "src-components-Form-tableColumn",
                "tableColumnSortable": "src-components-Form-tableColumnSortable",
                "tableColumnCheckbox": "src-components-Form-tableColumnCheckbox",
                "widgetAsc": "src-components-Form-widgetAsc",
                "widgetDesc": "src-components-Form-widgetDesc",
                "widget": "src-components-Form-widget",
                "tableColumnSmall": "src-components-Form-tableColumnSmall",
                "tableColumnId": "src-components-Form-tableColumnId",
                "tableColumnMedium": "src-components-Form-tableColumnMedium",
                "tableColumnLarge": "src-components-Form-tableColumnLarge",
                "tableColumnRight": "src-components-Form-tableColumnRight",
                "tableRow": "src-components-Form-tableRow",
                "tableCell": "src-components-Form-tableCell",
                "tableCellRight": "src-components-Form-tableCellRight",
                "tableCellTitleDateWrapper": "src-components-Form-tableCellTitleDateWrapper",
                "link": "src-components-Form-link",
                "buttonContainer": "src-components-Form-buttonContainer",
                "smallButtonContainer": "src-components-Form-smallButtonContainer",
                "button": "src-components-Form-button",
                "buttonPrimary": "src-components-Form-buttonPrimary src-components-button",
                "buttonLink": "src-components-Form-buttonLink",
                "buttonSecondary": "src-components-Form-buttonSecondary",
                "textareaMedium": "src-components-Form-textareaMedium",
                "textareaLong": "src-components-Form-textareaLong",
                "note": "src-components-Form-note",
                "pill": "src-components-Form-pill",
                "message": "src-components-Form-message",
                "messageError": "src-components-Form-messageError",
                "messageOk": "src-components-Form-messageOk",
                "messageNotice": "src-components-Form-messageNotice",
                "formValidationErrorContainer": "src-components-Form-formValidationErrorContainer",
                "formValidationError": "src-components-Form-formValidationError",
                "list": "src-components-Form-list",
                "bulkActions": "src-components-Form-bulkActions",
                "bulkActionTitle": "src-components-Form-bulkActionTitle",
                "bulkActionSelectContainer": "src-components-Form-bulkActionSelectContainer",
                "details": "src-components-Form-details",
                "item": "src-components-Form-item",
                "quickSearch": "src-components-Form-quickSearch",
                "downloadPdf": "src-components-Form-downloadPdf",
                "uploadNewerVersion": "src-components-Form-uploadNewerVersion"
            });
        }
    };
});
System.register("utils/strings", [], function (exports_4, context_4) {
    "use strict";
    var truncateText, test;
    var __moduleName = context_4 && context_4.id;
    function hyphensToCamelCase(str) {
        return str.replace(/-([a-z])/g, function (g) { return (g[1].toUpperCase()); });
    }
    exports_4("hyphensToCamelCase", hyphensToCamelCase);
    function camelCaseToHyphens(str) {
        return str.replace(/([a-z][A-Z])/g, function (g) { return (g[0] + "-" + g[1].toLowerCase()); });
    }
    exports_4("camelCaseToHyphens", camelCaseToHyphens);
    return {
        setters: [],
        execute: function () {
            exports_4("truncateText", truncateText = function (str, n, append) {
                if (!str) {
                    return "";
                }
                var cut = str.indexOf(" ", n);
                if (cut === -1) {
                    return str;
                }
                return str.substring(0, cut) + append;
            });
            exports_4("test", test = function () {
                var assert = function (condition, msg) {
                    if (msg === void 0) { msg = "Expected truthy, got falsy"; }
                    if (!condition) {
                        throw new Error("Assertion failed: " + msg);
                    }
                };
                var assertEquals = function (expect, actual, msg) {
                    if (msg === void 0) { msg = "Expected " + expect + ", got " + actual + "\""; }
                    return assert(expect === actual, msg);
                };
                assertEquals("", truncateText("", 7, "..."));
                assertEquals("bla bla...", truncateText("bla bla bla bla", 7, "..."));
                assertEquals("foo-bar-baz", camelCaseToHyphens("fooBarBaz"));
                assertEquals("fooBarBaz", hyphensToCamelCase("foo-bar-baz"));
            });
        }
    };
});
System.register("utils/utils", ["utils/strings"], function (exports_5, context_5) {
    "use strict";
    var strings_1, addUrlParams, load, callServer, copyToClipboard;
    var __moduleName = context_5 && context_5.id;
    function getQueryParamFromWindow(name) {
        var match;
        var pl = /\+/g;
        var search = /([^&=]+)=?([^&]*)/g;
        var decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); };
        var query = window.location.search.substring(1);
        var urlParams = {};
        while (match = search.exec(query)) {
            urlParams[decode(match[1])] = decode(match[2]);
        }
        return urlParams[name];
    }
    exports_5("getQueryParamFromWindow", getQueryParamFromWindow);
    function getQueryParam(name) {
        return typeof window === "undefined" ? globals.request.params[name] : getQueryParamFromWindow(name);
    }
    exports_5("getQueryParam", getQueryParam);
    function buildQueryString(obj, prefix) {
        var str = [];
        for (var p in obj) {
            if (obj.hasOwnProperty(p)) {
                var k = prefix ? prefix + "[" + p + "]" : p;
                var v = obj[p];
                str.push(typeof v === "object" ?
                    buildQueryString(v, k) :
                    encodeURIComponent(k) + "=" + encodeURIComponent(v));
            }
        }
        return str.join("&");
    }
    exports_5("buildQueryString", buildQueryString);
    function getRequestPath() {
        return "undefined" === typeof window ? globals.request.url : window.location.pathname;
    }
    exports_5("getRequestPath", getRequestPath);
    function getRequestBaseUrl() {
        return "undefined" === typeof window
            ? globals.request.baseUrl
            : window.location.protocol + "//" + window.location.hostname + "/" + window.location.pathname.split("/")[1];
    }
    exports_5("getRequestBaseUrl", getRequestBaseUrl);
    function endsWith(a, b) {
        return b === a.match(/([^\/]*)\/*$/)[1];
    }
    exports_5("endsWith", endsWith);
    function isServerSide() {
        return "undefined" === typeof window;
    }
    exports_5("isServerSide", isServerSide);
    function collectJsonLD(obj) {
        if (isServerSide()) {
            globals.collectJsonLD(obj);
        }
    }
    exports_5("collectJsonLD", collectJsonLD);
    function getBaseUrl() {
        return isServerSide() ? globals.request.baseUrl : window.location.protocol + "://" + window.location.hostname;
    }
    exports_5("getBaseUrl", getBaseUrl);
    function getUrl() {
        return isServerSide() ? globals.request.baseUrl + globals.request.url : window.location.href;
    }
    exports_5("getUrl", getUrl);
    function registerClientsideComponent(path, name, props) {
        if (typeof window === "undefined") {
            return globals.registerClientSideComponent(path, name, props);
        }
        return undefined;
    }
    exports_5("registerClientsideComponent", registerClientsideComponent);
    function base64encode(str) {
        return isServerSide() ? globals.util.base64encode(str) : btoa(str);
    }
    exports_5("base64encode", base64encode);
    function doPost(url, data, progressListener, contentType) {
        return new Promise(function (resolve, reject) {
            var xhr = new XMLHttpRequest();
            if (data === null) {
                xhr.open("GET", url);
            }
            else {
                xhr.open("POST", url);
            }
            if (contentType) {
                xhr.setRequestHeader("Content-Type", contentType);
            }
            if (progressListener) {
                xhr.addEventListener("progress", function (e) { return progressListener(e.total, e.loaded); });
            }
            xhr.addEventListener("readystatechange", function () {
                if (xhr.readyState === XMLHttpRequest.DONE) {
                    if (xhr.status >= 200 && xhr.status < 300) {
                        var response = JSON.parse(xhr.responseText);
                        if (typeof response.success === "boolean" && !response.success) {
                            reject(response.error);
                        }
                        else {
                            if (response.redirectUrl) {
                                window.location.href = response.redirectUrl;
                            }
                            else {
                                resolve(response);
                            }
                        }
                    }
                    else if (xhr.status >= 300 && xhr.status < 400 && xhr.getResponseHeader("Location")) {
                        location.href = xhr.getResponseHeader("Location");
                    }
                    else {
                        try {
                            reject(JSON.parse(xhr.responseText));
                        }
                        catch (e) {
                            reject(e);
                        }
                    }
                }
            });
            try {
                xhr.send(data);
            }
            catch (e) {
                if (reject) {
                    reject(null);
                }
                else {
                    alert("An error occurred");
                }
            }
        });
    }
    exports_5("doPost", doPost);
    return {
        setters: [
            function (strings_1_1) {
                strings_1 = strings_1_1;
            }
        ],
        execute: function () {
            exports_5("camelCaseToHyphens", strings_1.camelCaseToHyphens);
            exports_5("hyphensToCamelCase", strings_1.hyphensToCamelCase);
            exports_5("truncateText", strings_1.truncateText);
            exports_5("addUrlParams", addUrlParams = function (url, params) { return (url + (url.indexOf("?") >= 0 ? "&" : "?") + Object
                .keys(params)
                .filter(function (k) { return typeof params[k] !== "undefined" && params[k] !== null; })
                .map(function (k) { return encodeURIComponent(k) + "=" + (Array.isArray(params[k])
                ? params[k].map(encodeURIComponent).join(",")
                : encodeURIComponent(params[k])); })
                .join("&")); });
            exports_5("load", load = function (url, params) { return doPost(addUrlParams(url, params), null); });
            exports_5("callServer", callServer = function (url, params, progressListener) { return doPost(url, params && JSON.stringify(params), progressListener, "application/json;charset=UTF-8"); });
            exports_5("copyToClipboard", copyToClipboard = function (text) {
                var textArea = document.createElement("textarea");
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                try {
                    document.execCommand("copy");
                }
                catch (err) {
                }
                document.body.removeChild(textArea);
            });
        }
    };
});
System.register("utils/adminmethods", [], function (exports_6, context_6) {
    "use strict";
    var proceedingsStateTranslations, proceedingsPropposalStateTranslations, proceedingsProductionStateStateTranslations, proceedingsArticleStateTranslations, bulkActionTranslations;
    var __moduleName = context_6 && context_6.id;
    function proceedingsArticleOrganiserEditable(state) {
        return ["DRAFT", "NEEDS_REVISION"].indexOf(state) >= 0;
    }
    exports_6("proceedingsArticleOrganiserEditable", proceedingsArticleOrganiserEditable);
    return {
        setters: [],
        execute: function () {
            exports_6("proceedingsStateTranslations", proceedingsStateTranslations = {
                UPCOMING: "Upcoming",
                PUBLISHED: "Published",
                UNPUBLISHED: "Unpublished",
            });
            exports_6("proceedingsPropposalStateTranslations", proceedingsPropposalStateTranslations = {
                QUOTE_SENT: "Quote sent",
                QUOTE_ACCEPTED: "Quote accepted",
                CONTRACT_SENT: "Contract sent",
                CONTRACT_SIGNED: "Contract signed",
                ARCHIVED: "Archived",
            });
            exports_6("proceedingsProductionStateStateTranslations", proceedingsProductionStateStateTranslations = {
                NEWLY_ASSIGNED: "Newly assigned",
                PROCESSING: "Processing",
                AWAITING_REVISIONS: "Awaiting revisions",
                FILES_RECEIVED: "Files received",
                FINISHED: "Finished",
            });
            exports_6("proceedingsArticleStateTranslations", proceedingsArticleStateTranslations = {
                APPROVED: "Approved",
                OUT_OF_SCOPE: "Out of scope",
                REFUSED_DUE_TO_PLAGIARISM: "Refused due to plagiarism",
                NEEDS_REVISION: "Needs revision",
                DRAFT: "Draft",
                SUBMITTED_FOR_REVIEW: "Submitted",
            });
            exports_6("bulkActionTranslations", bulkActionTranslations = {
                update_session: "Add to session",
                submit_for_review: "Submit",
                delete: "Delete articles",
                update_state: "Update status",
                download_files: "Download files"
            });
        }
    };
});
System.register("components/BulkActionForm", ["components/Form/index.css", "utils/utils", "utils/adminmethods"], function (exports_7, context_7) {
    "use strict";
    var index_css_1, utils_1, adminmethods_1, STATUSES, BulkActionForm;
    var __moduleName = context_7 && context_7.id;
    return {
        setters: [
            function (index_css_1_1) {
                index_css_1 = index_css_1_1;
            },
            function (utils_1_1) {
                utils_1 = utils_1_1;
            },
            function (adminmethods_1_1) {
                adminmethods_1 = adminmethods_1_1;
            }
        ],
        execute: function () {
            STATUSES = [
                "DRAFT",
                "APPROVED",
                "OUT_OF_SCOPE",
                "NEEDS_REVISION",
                "REFUSED_DUE_TO_PLAGIARISM",
                "SUBMITTED_FOR_REVIEW"
            ];
            BulkActionForm = (function (_super) {
                __extends(BulkActionForm, _super);
                function BulkActionForm() {
                    var _this = _super !== null && _super.apply(this, arguments) || this;
                    _this.state = {};
                    return _this;
                }
                BulkActionForm.prototype.render = function () {
                    var _this = this;
                    return (React.createElement("div", { className: index_css_1.default.bulkActions },
                        React.createElement("div", { className: index_css_1.default.bulkActionTitle }, "Bulk actions"),
                        React.createElement("form", { method: "post", action: this.props.updateUrl, onSubmit: function (e) {
                                if (_this.state.bulkAction !== "download_files") {
                                    e.preventDefault();
                                    _this.handleBulk();
                                }
                            } },
                            React.createElement("input", { type: "hidden", name: "action", value: this.state.bulkAction }),
                            React.createElement("input", { name: "article_ids", type: "hidden", value: this.props.ids.join(",") }),
                            React.createElement("div", { className: index_css_1.default.bulkActionSelectContainer },
                                React.createElement("select", { onChange: function (e) {
                                        _this.setState({ bulkAction: e.currentTarget.value });
                                    } },
                                    React.createElement("option", null, "Select action ..."),
                                    this.props.actions.map(function (s) { return (React.createElement("option", { key: s, value: s }, adminmethods_1.bulkActionTranslations[s])); })),
                                this.state.bulkAction === "update_session" && (React.createElement("select", { onChange: function (e) {
                                        _this.setState({ selectedSessionId: e.currentTarget.value });
                                    } },
                                    React.createElement("option", null, "Select session ..."),
                                    this.props.sessions.map(function (s) { return React.createElement("option", { key: s.id, value: s.id }, s.name); }))),
                                this.state.bulkAction === "update_state" && (React.createElement("select", { onChange: function (e) {
                                        _this.setState({ selectedState: e.currentTarget.value });
                                    } },
                                    React.createElement("option", null, "Select status ..."),
                                    STATUSES.map(function (s) { return React.createElement("option", { key: s, value: s }, adminmethods_1.proceedingsArticleStateTranslations[s]); })))),
                            React.createElement("button", { disabled: !this.state.bulkAction
                                    || this.props.ids.length === 0
                                    || (this.state.bulkAction === "update_session" && !this.state.selectedSessionId)
                                    || (this.state.bulkAction === "update_state" && !this.state.selectedState), className: index_css_1.default.buttonPrimary }, this.state.bulkAction === "download_files"
                                ? "Download " + this.props.ids.length + " files"
                                : "Update " + this.props.ids.length + " selected articles"))));
                };
                BulkActionForm.prototype.handleBulk = function () {
                    utils_1.callServer(this.props.updateUrl, {
                        action: this.state.bulkAction,
                        article_ids: this.props.ids,
                        session_id: this.state.selectedSessionId,
                        state: this.state.selectedState
                    })
                        .then(function (r) {
                        alert(r.message);
                        location.reload();
                    })
                        .catch(function (e) {
                        alert(e);
                        location.reload();
                    });
                };
                return BulkActionForm;
            }(React.Component));
            exports_7("default", BulkActionForm);
        }
    };
});
System.register("components/CsvUpload", ["components/Form/index.css"], function (exports_8, context_8) {
    "use strict";
    var index_css_2, CsvUpload;
    var __moduleName = context_8 && context_8.id;
    return {
        setters: [
            function (index_css_2_1) {
                index_css_2 = index_css_2_1;
            }
        ],
        execute: function () {
            CsvUpload = (function (_super) {
                __extends(CsvUpload, _super);
                function CsvUpload() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                CsvUpload.prototype.render = function () {
                    var _this = this;
                    if (this.props.data && this.props.data.length > 0) {
                        return (React.createElement("div", null,
                            React.createElement("div", null,
                                this.props.children,
                                React.createElement("div", null,
                                    React.createElement("button", { disabled: this.props.loading, onClick: function (e) {
                                            e.preventDefault();
                                            _this.props.actionHandler.handleClear();
                                        }, className: index_css_2.default.buttonSecondary }, "Clear")),
                                this.props.message && React.createElement("span", null, this.props.message)),
                            React.createElement("table", { style: { borderCollapse: "collapse", padding: "0 20px 20px 0" } },
                                this.props.columnNames &&
                                    React.createElement("tr", null,
                                        this.props.status && React.createElement("td", null),
                                        this.props.columnNames.map(function (n) { return React.createElement("th", null, n); })),
                                this.props.data.map(function (row, i) {
                                    return React.createElement("tr", { style: _this.props.status && _this.props.status[i].length ? { backgroundColor: "#fff0f0" } : {} },
                                        _this.props.status &&
                                            React.createElement("td", null, _this.props.status[i] && _this.props.status[i].length &&
                                                React.createElement("span", { title: _this.props.status[i].join("\n") }, "(!)") || ""),
                                        row.map(function (val) {
                                            return React.createElement("td", { title: val, style: {
                                                    verticalAlign: "top",
                                                    maxWidth: 240,
                                                    minWidth: 24,
                                                    whiteSpace: "nowrap",
                                                    padding: 5,
                                                    border: "1px solid #eee",
                                                    textOverflow: "ellipsis",
                                                    overflow: "hidden",
                                                } }, val);
                                        }));
                                }))));
                    }
                    return (React.createElement("div", null,
                        "Select the desired cell range in Excel and copy and paste into the text area below:",
                        React.createElement("textarea", { style: { width: "100%", display: "block", height: 300, fontSize: 20, padding: 6 }, placeholder: "Paste cells from Excel here", onPaste: function (e) { return _this.handlePaste(e); } })));
                };
                CsvUpload.prototype.handlePaste = function (e) {
                    var e_2, _a;
                    e.preventDefault();
                    var data;
                    var w = window;
                    if (w.clipboardData) {
                        data = w.clipboardData.getData("text");
                    }
                    else {
                        try {
                            for (var _b = __values(e.clipboardData.types), _c = _b.next(); !_c.done; _c = _b.next()) {
                                var type = _c.value;
                                if (type === "text/plain") {
                                    data = e.clipboardData.getData(type);
                                    break;
                                }
                            }
                        }
                        catch (e_2_1) { e_2 = { error: e_2_1 }; }
                        finally {
                            try {
                                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                            }
                            finally { if (e_2) throw e_2.error; }
                        }
                    }
                    if (data) {
                        this.props.actionHandler.handlePaste(data);
                    }
                };
                return CsvUpload;
            }(React.Component));
            exports_8("default", CsvUpload);
        }
    };
});
System.register("utils/excel", [], function (exports_9, context_9) {
    "use strict";
    var __moduleName = context_9 && context_9.id;
    function parseDataPastedFromExcel(data) {
        var rows = [];
        var pos = 0;
        var inQuotes = false;
        var cellValue = null;
        var row = [];
        while (pos < data.length) {
            if (inQuotes) {
                if (data[pos] === '"' && data[pos + 1] === '"') {
                    cellValue += '"';
                    pos++;
                }
                else if (data[pos] === '"') {
                    inQuotes = false;
                }
                else {
                    if (cellValue === null) {
                        cellValue = "";
                    }
                    if (data[pos] === "\n" || data[pos] === "\t") {
                        cellValue += " ";
                    }
                    else {
                        cellValue += data[pos];
                    }
                }
            }
            else {
                if (data[pos] === '"' && (!cellValue)) {
                    inQuotes = true;
                }
                else if (data[pos] === "\t") {
                    row.push(cellValue);
                    cellValue = "";
                }
                else if (data[pos] === "\n") {
                    row.push(cellValue);
                    cellValue = null;
                    rows.push(row);
                    row = [];
                }
                else {
                    if (cellValue == null) {
                        cellValue = data[pos];
                    }
                    else {
                        cellValue += data[pos];
                    }
                }
            }
            pos++;
        }
        if ((cellValue && cellValue.length) || cellValue === "") {
            row.push(cellValue);
        }
        if (row.length) {
            rows.push(row);
        }
        return rows;
    }
    exports_9("parseDataPastedFromExcel", parseDataPastedFromExcel);
    function test() {
        function assertEquals(expected, actual) {
            if (expected !== actual) {
                throw new Error("Test failed. Expected: " + expected + " but was " + actual);
            }
        }
        assertEquals("foo", parseDataPastedFromExcel("foo")[0][0]);
        assertEquals("foo", parseDataPastedFromExcel("foo\tbar")[0][0]);
        assertEquals("bar", parseDataPastedFromExcel("foo\tbar")[0][1]);
        assertEquals("foo bar", parseDataPastedFromExcel("\"foo\nbar\"\nbaz")[0][0]);
        assertEquals("baz", parseDataPastedFromExcel("\"foo\nbar\"\nbaz")[1][0]);
        assertEquals(3, parseDataPastedFromExcel("\t\t")[0].length);
        assertEquals(1, parseDataPastedFromExcel("a")[0].length);
        assertEquals(2, parseDataPastedFromExcel("\ta")[0].length);
        assertEquals(2, parseDataPastedFromExcel("a\t")[0].length);
        assertEquals(3, parseDataPastedFromExcel("naam\temail\tadres\ntest\ttest@test.com\ttestweg\njan\tjan@faqtory.nl\tdelft").length);
        assertEquals(3, parseDataPastedFromExcel("naam\temail\tadres\ntest\ttest@test.com\ttestweg\njan\tjan@faqtory.nl\tdelft")[0].length);
        assertEquals(3, parseDataPastedFromExcel("naam\temail\tadres\ntest\ttest@test.com\ttestweg\njan\tjan@faqtory.nl\tdelft")[1].length);
        assertEquals(1, parseDataPastedFromExcel("\"\t\"")[0].length);
        assertEquals('"', parseDataPastedFromExcel("\"\t\"\t\"\"\"\"")[0][1]);
        assertEquals(2, parseDataPastedFromExcel("\"\t\"\t\"\"\"\"")[0].length);
        assertEquals('a""', parseDataPastedFromExcel("\"\t\"\ta\"\"")[0][1]);
    }
    exports_9("test", test);
    return {
        setters: [],
        execute: function () {
        }
    };
});
System.register("components/Import", ["components/CsvUpload", "utils/excel", "utils/utils", "components/Form/index.css"], function (exports_10, context_10) {
    "use strict";
    var CsvUpload_1, excel_1, utils_2, index_css_3, stripWhitespace, Import;
    var __moduleName = context_10 && context_10.id;
    return {
        setters: [
            function (CsvUpload_1_1) {
                CsvUpload_1 = CsvUpload_1_1;
            },
            function (excel_1_1) {
                excel_1 = excel_1_1;
            },
            function (utils_2_1) {
                utils_2 = utils_2_1;
            },
            function (index_css_3_1) {
                index_css_3 = index_css_3_1;
            }
        ],
        execute: function () {
            exports_10("stripWhitespace", stripWhitespace = function (cells) { return (cells
                .map(function (row) { return row.map(function (value) { return value.trim(); }); })
                .map(function (row) {
                return row.reverse().reduce(function (a, v) {
                    if (a.length || !!v) {
                        a.push(v);
                    }
                    return a;
                }, []).reverse();
            })
                .filter(function (row) { return row.length > 0; })); });
            Import = (function (_super) {
                __extends(Import, _super);
                function Import(a, b) {
                    var _this = _super.call(this, a, b) || this;
                    _this.state = {
                        data: [],
                        status: [],
                        loading: false,
                        message: "",
                    };
                    return _this;
                }
                Import.prototype.setData = function (data) {
                    this.setState(__assign({}, this.state, { data: data }));
                };
                Import.prototype.handleClear = function () {
                    this.setState(__assign({}, this.state, { data: [], status: [] }));
                };
                Import.prototype.handlePaste = function (s) {
                    var data = excel_1.parseDataPastedFromExcel(s);
                    var records = this.props.extractor(data);
                    var status = records.map(function (a) { return a[1]; });
                    this.setState(__assign({}, this.state, { data: data,
                        status: status }));
                };
                Import.prototype.handleSave = function () {
                    var _this = this;
                    var records = this.props.extractor(this.state.data);
                    utils_2.doPost(this.props.saveUrl, JSON.stringify(records.filter(function (_a) {
                        var _b = __read(_a, 2), article = _b[0], errors = _b[1];
                        return !errors.length;
                    }).map(function (_a) {
                        var _b = __read(_a, 1), article = _b[0];
                        return article;
                    })))
                        .then(function (result) {
                        if (result.success) {
                            _this.setState(__assign({}, _this.state, { data: [], message: "Bulk saved" }));
                            location.href = _this.props.returnUrl;
                        }
                        else {
                            throw new Error("Server responded with error");
                        }
                    })
                        .catch(function (error) {
                        _this.setState(__assign({}, _this.state, { message: error.toString() }));
                    });
                };
                Import.prototype.render = function () {
                    var _this = this;
                    return (React.createElement(CsvUpload_1.default, { actionHandler: this, data: this.state.data, loading: this.state.loading, message: this.state.message, status: this.state.status, columnNames: this.props.columnNames },
                        React.createElement("button", { onClick: function (e) {
                                e.preventDefault();
                                _this.handleSave();
                            }, className: index_css_3.default.buttonPrimary }, this.props.buttonText)));
                };
                return Import;
            }(BaseComponent));
            exports_10("default", Import);
        }
    };
});
System.register("components/Form/index", ["utils/utils"], function (exports_11, context_11) {
    "use strict";
    var utils_3, Form;
    var __moduleName = context_11 && context_11.id;
    return {
        setters: [
            function (utils_3_1) {
                utils_3 = utils_3_1;
            }
        ],
        execute: function () {
            (function (Form) {
                var Validations = (function () {
                    function Validations() {
                        this.messageByField = {};
                    }
                    Validations.prototype.addValidation = function (field, message) {
                        this.messageByField[field] = message;
                    };
                    Validations.prototype.getErrorMessage = function (field) {
                        return this.messageByField[field];
                    };
                    Validations.prototype.isValid = function () {
                        return Object.keys(this.messageByField).length == 0;
                    };
                    Validations.prototype.clear = function () {
                        this.messageByField = {};
                    };
                    return Validations;
                }());
                Form.Validations = Validations;
                var Style = (function () {
                    function Style(className, classVariants, classModifier) {
                        this.className = className;
                        this.classVariants = classVariants;
                        this.classModifier = classModifier;
                    }
                    Style.prototype.variants = function (elementClass, postfix) {
                        var _this = this;
                        var r = [postfix ? (elementClass + "-" + postfix) : elementClass];
                        this.classVariants && this.classVariants.split(" ").map(function (v) {
                            var c = elementClass + (postfix ? "-" + postfix : "") + "-" + v;
                            r.push(c);
                            if (_this.classModifier) {
                                r.push(c + "--" + _this.classModifier);
                            }
                        });
                        return r.join(" ");
                    };
                    Style.prototype.componentClass = function (componentClass) {
                        var r = [componentClass];
                        if (this.classModifier) {
                            r.push(componentClass + "-" + this.classModifier);
                        }
                        if (this.className) {
                            r.push(this.className);
                        }
                        return r.join(" ");
                    };
                    return Style;
                }());
                var Textbox = (function (_super) {
                    __extends(Textbox, _super);
                    function Textbox(props) {
                        var _this = _super.call(this, props) || this;
                        _this.style = new Style(_this.props.className, _this.props.classVariants, _this.props.classModifier);
                        return _this;
                    }
                    Textbox.prototype.setValue = function (e) {
                        this.props.data[this.props.name] = e.target.value;
                        this.forceUpdate();
                    };
                    Textbox.prototype.render = function () {
                        var _this = this;
                        var validationMessage = this.props.validation && this.props.validation.getErrorMessage(this.props.name);
                        return React.createElement("div", { className: this.style.componentClass("form__textbox") },
                            this.props.textArea &&
                                React.createElement("textarea", { disabled: this.props.disabled, name: this.props.name, placeholder: this.props.placeHolder, value: this.props.data[this.props.name], onChange: function (e) { return _this.setValue(e); }, className: "form__control " + this.style.variants('input', 'text') }),
                            !this.props.textArea &&
                                React.createElement("input", { disabled: this.props.disabled, type: this.props.type ? this.props.type : "text", autoComplete: this.props.autocomplete, name: this.props.name, placeholder: this.props.placeHolder, value: this.props.data[this.props.name], onChange: function (e) { return _this.setValue(e); }, className: "form__control " + this.style.variants('input', 'text') }),
                            validationMessage &&
                                React.createElement("div", { className: this.style.variants('formValidationErrorContainer') },
                                    React.createElement("div", { className: this.style.variants('formValidationError') }, validationMessage)));
                    };
                    return Textbox;
                }(React.Component));
                Form.Textbox = Textbox;
                var Datebox = (function (_super) {
                    __extends(Datebox, _super);
                    function Datebox(props) {
                        var _this = _super.call(this, props) || this;
                        _this.textValue = "";
                        _this.style = new Style(_this.props.className, _this.props.classVariants, _this.props.classModifier);
                        _this.textValue = _this.format(_this.props.data[_this.props.name]);
                        return _this;
                    }
                    Datebox.prototype.setTextValue = function (e) {
                        this.textValue = e.target.value;
                        this.forceUpdate();
                    };
                    Datebox.prototype.setValue = function (e) {
                        try {
                            var text = e.target.value;
                            var day = text.split("-")[0];
                            var month = text.split("-")[1];
                            var year = text.split("-")[2];
                            var date = new Date(year + "-" + month + "-" + day + "T00:00:00Z");
                            if (!isNaN(date.getTime())) {
                                this.props.data[this.props.name] = date;
                            }
                            else {
                                this.props.data[this.props.name] = null;
                                this.textValue = "";
                                this.forceUpdate();
                            }
                        }
                        catch (e) {
                            this.props.data[this.props.name] = null;
                            this.textValue = "";
                            this.forceUpdate();
                        }
                    };
                    Datebox.prototype.format = function (date) {
                        if (typeof date === "string") {
                            date = new Date(date);
                        }
                        if (!date) {
                            return "";
                        }
                        return ("00" + date.getDate()).slice(-2) + "-" + ("00" + (date.getMonth() + 1)).slice(-2) + "-" + ("00000" + date.getFullYear()).slice(-4);
                    };
                    Datebox.prototype.render = function () {
                        var _this = this;
                        var validationMessage = this.props.validation && this.props.validation.getErrorMessage(this.props.name);
                        return React.createElement("div", { className: this.style.componentClass("form__textbox") },
                            React.createElement("input", { disabled: this.props.disabled, type: "text", name: this.props.name, placeholder: this.props.placeHolder, value: this.textValue, onChange: function (e) { return _this.setTextValue(e); }, onBlur: function (e) { return _this.setValue(e); }, className: "form__control " + this.style.variants('input', 'text') }),
                            validationMessage &&
                                React.createElement("div", { className: this.style.variants('formValidationErrorContainer') },
                                    React.createElement("div", { className: this.style.variants('formValidationError') }, validationMessage)));
                    };
                    return Datebox;
                }(React.Component));
                Form.Datebox = Datebox;
                var Numberbox = (function (_super) {
                    __extends(Numberbox, _super);
                    function Numberbox(props) {
                        var _this = _super.call(this, props) || this;
                        _this.style = new Style(_this.props.className, _this.props.classVariants, _this.props.classModifier);
                        return _this;
                    }
                    Numberbox.prototype.setValue = function (e) {
                        var value = e.target.value;
                        ;
                        this.props.data[this.props.name] = value == "" ? null : value;
                        this.forceUpdate();
                    };
                    Numberbox.prototype.validateNumber = function () {
                        var value = this.props.data[this.props.name];
                        if (value && isNaN(value)) {
                            this.props.data[this.props.name] = null;
                            this.forceUpdate();
                        }
                    };
                    Numberbox.prototype.render = function () {
                        var _this = this;
                        var validationMessage = this.props.validation && this.props.validation.getErrorMessage(this.props.name);
                        var value = this.props.data[this.props.name] == null ? "" : this.props.data[this.props.name];
                        return React.createElement("div", { className: this.style.componentClass("form__textbox") },
                            React.createElement("input", { disabled: this.props.disabled, type: "text", name: this.props.name, placeholder: this.props.placeHolder, value: value, onChange: function (e) { return _this.setValue(e); }, onBlur: function (e) { return _this.validateNumber(); }, className: this.style.variants('input', 'text') }),
                            validationMessage &&
                                React.createElement("div", { className: this.style.variants('formValidationErrorContainer') },
                                    React.createElement("div", { className: this.style.variants('formValidationError') }, validationMessage)));
                    };
                    return Numberbox;
                }(React.Component));
                Form.Numberbox = Numberbox;
                var RadioGroup = (function (_super) {
                    __extends(RadioGroup, _super);
                    function RadioGroup(props) {
                        var _this = _super.call(this, props) || this;
                        _this.style = new Style(_this.props.className, _this.props.classVariants, _this.props.classModifier);
                        return _this;
                    }
                    RadioGroup.prototype.setValue = function (e) {
                        this.props.data[this.props.name] = e.target.value;
                        this.forceUpdate();
                    };
                    RadioGroup.prototype.renderRadioButton = function (option) {
                        var _this = this;
                        var checked = this.props.data[this.props.name] == option.value;
                        return (React.createElement("div", { key: this.props.name + option.value },
                            React.createElement("input", { disabled: this.props.disabled, id: this.props.name + option.value, type: "radio", key: option.value + "_" + getUniqueId(), name: this.props.name, value: option.value, onChange: function (e) { return _this.setValue(e); }, checked: checked, className: this.style.variants('input', 'radio') }),
                            React.createElement("label", { htmlFor: this.props.name + option.value, className: this.style.variants('formlabel') }, option.displayName)));
                    };
                    RadioGroup.prototype.render = function () {
                        var validationMessage = this.props.validation ? this.props.validation.getErrorMessage(this.props.name) : null;
                        return React.createElement("div", { className: this.style.componentClass("form-radiogroup") },
                            this.props.options.map(this.renderRadioButton),
                            validationMessage &&
                                React.createElement("div", { className: this.style.variants('formValidationErrorContainer') },
                                    React.createElement("div", { className: this.style.variants('formValidationError') }, validationMessage)));
                    };
                    return RadioGroup;
                }(BaseComponent));
                Form.RadioGroup = RadioGroup;
                var Checkbox = (function (_super) {
                    __extends(Checkbox, _super);
                    function Checkbox(props) {
                        var _this = _super.call(this, props) || this;
                        _this.style = new Style(_this.props.className, _this.props.classVariants, _this.props.classModifier);
                        return _this;
                    }
                    Checkbox.prototype.setValue = function (e) {
                        this.props.data[this.props.name] = e.target.checked;
                        if (this.props.onChange) {
                            this.props.onChange(e);
                        }
                        this.forceUpdate();
                    };
                    Checkbox.prototype.render = function () {
                        var _this = this;
                        var validationMessage = this.props.validation ? this.props.validation.getErrorMessage(this.props.name) : null;
                        var checked = this.props.data[this.props.name];
                        return (React.createElement("div", { className: this.style.componentClass("form__textbox") },
                            React.createElement("label", null,
                                React.createElement("input", { disabled: this.props.disabled, type: "checkbox", checked: checked, onChange: function (e) { return _this.setValue(e); }, className: this.style.variants('input', 'checkbox') }),
                                React.createElement("span", { className: "icon" }),
                                this.props.placeHolder),
                            validationMessage &&
                                React.createElement("div", { className: this.style.variants('formValidationErrorContainer') },
                                    React.createElement("div", { className: this.style.variants('formValidationError') }, validationMessage))));
                    };
                    return Checkbox;
                }(React.Component));
                Form.Checkbox = Checkbox;
                var Checkboxes = (function (_super) {
                    __extends(Checkboxes, _super);
                    function Checkboxes(props) {
                        var e_3, _a;
                        var _this = _super.call(this, props) || this;
                        _this.multiSelectedValues = [];
                        _this.style = new Style(_this.props.className, _this.props.classVariants, _this.props.classModifier);
                        if (typeof _this.props.data[_this.props.name] === 'undefined') {
                            _this.props.data[_this.props.name] = [];
                        }
                        try {
                            for (var _b = __values(_this.props.options), _c = _b.next(); !_c.done; _c = _b.next()) {
                                var option = _c.value;
                                _this.multiSelectedValues[option.value] = _this.props.data[_this.props.name].indexOf(option.value) > -1;
                            }
                        }
                        catch (e_3_1) { e_3 = { error: e_3_1 }; }
                        finally {
                            try {
                                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                            }
                            finally { if (e_3) throw e_3.error; }
                        }
                        return _this;
                    }
                    Checkboxes.prototype.submit = function () {
                        var selected = [];
                        for (var value in this.multiSelectedValues) {
                            if (this.multiSelectedValues[value]) {
                                selected.push(value);
                            }
                        }
                        this.setSelectedValues(selected);
                    };
                    Checkboxes.prototype.setSelectedValues = function (values) {
                        this.props.data[this.props.name] = values;
                        if (this.props.onChange) {
                            this.props.onChange();
                        }
                        this.forceUpdate();
                    };
                    Checkboxes.prototype.renderOption = function (option) {
                        var _this = this;
                        return (React.createElement("div", { className: "form__checkboxes-row" },
                            React.createElement(Form.Checkbox, { placeHolder: option.displayName, name: option.value, data: this.multiSelectedValues, validation: new Validations(), onChange: function (e) { return _this.submit(); } })));
                    };
                    Checkboxes.prototype.render = function () {
                        var validationMessage = this.props.validation ? this.props.validation.getErrorMessage(this.props.name) : null;
                        var checked = this.props.data[this.props.name];
                        return (React.createElement("div", { className: 'form__checkboxes ' + this.style.componentClass("form__textbox") }, this.props.options.map(this.renderOption)));
                    };
                    return Checkboxes;
                }(React.Component));
                Form.Checkboxes = Checkboxes;
                var Select = (function (_super) {
                    __extends(Select, _super);
                    function Select(props) {
                        var _this = _super.call(this, props) || this;
                        _this.style = new Style(props.className, props.classVariants, props.classModifier);
                        _this.props.options.push({ displayName: "[None]", value: null });
                        return _this;
                    }
                    Select.prototype.setValue = function (e) {
                        var e_4, _a;
                        try {
                            for (var _b = __values(this.props.options), _c = _b.next(); !_c.done; _c = _b.next()) {
                                var option = _c.value;
                                if (option["id"] == e.target['value']) {
                                    this.props.data[this.props.name] = option.value;
                                }
                            }
                        }
                        catch (e_4_1) { e_4 = { error: e_4_1 }; }
                        finally {
                            try {
                                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                            }
                            finally { if (e_4) throw e_4.error; }
                        }
                        this.forceUpdate();
                        if (this.props.onChange) {
                            this.props.onChange(e);
                        }
                    };
                    Select.prototype.getSelectValue = function () {
                        var e_5, _a;
                        try {
                            for (var _b = __values(this.props.options), _c = _b.next(); !_c.done; _c = _b.next()) {
                                var option = _c.value;
                                if (valuesEqual(this.props.data[this.props.name], option.value)) {
                                    return option["id"];
                                }
                            }
                        }
                        catch (e_5_1) { e_5 = { error: e_5_1 }; }
                        finally {
                            try {
                                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                            }
                            finally { if (e_5) throw e_5.error; }
                        }
                        return "-1";
                    };
                    Select.prototype.render = function () {
                        var _this = this;
                        var e_6, _a;
                        var validationMessage = this.props.validation ? this.props.validation.getErrorMessage(this.props.name) : null;
                        try {
                            for (var _b = __values(this.props.options), _c = _b.next(); !_c.done; _c = _b.next()) {
                                var options = _c.value;
                                if (!options["id"]) {
                                    options["id"] = "OPT_" + getUniqueId();
                                }
                            }
                        }
                        catch (e_6_1) { e_6 = { error: e_6_1 }; }
                        finally {
                            try {
                                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                            }
                            finally { if (e_6) throw e_6.error; }
                        }
                        return (React.createElement("div", { className: "form__textbox " + this.style.componentClass("form-select__wrapper") },
                            React.createElement("select", { disabled: this.props.disabled, required: this.props.required, name: this.props.name, value: this.getSelectValue(), onChange: function (e) { return _this.setValue(e); }, className: 'form-select ' + this.style.variants("select") },
                                this.props.placeHolder &&
                                    React.createElement("option", { value: "-1", disabled: true }, this.props.placeHolder),
                                this.props.options && this.props.options.map(function (option, index) {
                                    return (React.createElement("option", { value: option["id"], key: index, disabled: option.disabled }, option.displayName));
                                })),
                            validationMessage &&
                                React.createElement("div", { className: this.style.variants('formValidationErrorContainer') },
                                    React.createElement("div", { className: this.style.variants('formValidationError') }, validationMessage))));
                    };
                    Select.defaultProps = {
                        disabled: false,
                        required: false
                    };
                    return Select;
                }(React.Component));
                Form.Select = Select;
                var FileUpload = (function (_super) {
                    __extends(FileUpload, _super);
                    function FileUpload() {
                        return _super !== null && _super.apply(this, arguments) || this;
                    }
                    FileUpload.prototype.setValue = function (files) {
                        var _this = this;
                        if (files === null) {
                            delete this.props.data[this.props.name];
                            this.forceUpdate();
                            return;
                        }
                        var formData = new FormData();
                        if (this.props.multiple) {
                            this.props.data[this.props.name] = [];
                            for (var i = 0; i < files.length; i++) {
                                var keyName = "files[" + i + "]";
                                this.props.data[this.props.name].push({
                                    keyName: keyName,
                                    size: files[i].size,
                                    name: files[i].name
                                });
                                formData.append(keyName, files[i]);
                            }
                            formData.append("fileMeta", JSON.stringify(this.props.data[this.props.name]));
                        }
                        else {
                            formData.append("file", files[0]);
                            this.props.data[this.props.name] = {
                                fileName: files[0].name,
                                size: files[0].size,
                                tmpFileName: null
                            };
                        }
                        utils_3.doPost(this.props.uploadUrl, formData)
                            .then(function (result) {
                            var e_7, _a;
                            if (_this.props.multiple) {
                                var _loop_2 = function (f) {
                                    var currentValue = _this.props.data[_this.props.name].find(function (_a) {
                                        var keyName = _a.keyName;
                                        return keyName === f.info.keyName;
                                    });
                                    if (currentValue) {
                                        currentValue.tmpFileName = f.tmpFileName;
                                    }
                                };
                                try {
                                    for (var _b = __values(result.files), _c = _b.next(); !_c.done; _c = _b.next()) {
                                        var f = _c.value;
                                        _loop_2(f);
                                    }
                                }
                                catch (e_7_1) { e_7 = { error: e_7_1 }; }
                                finally {
                                    try {
                                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                                    }
                                    finally { if (e_7) throw e_7.error; }
                                }
                            }
                            else {
                                _this.props.data[_this.props.name] = {
                                    tmpFileName: result.fileName,
                                    fileName: files[0].name,
                                    size: files[0].size,
                                    extras: result.extras
                                };
                            }
                            if (_this.props.onChange) {
                                _this.props.onChange(_this.props.data[_this.props.name]);
                            }
                            _this.forceUpdate();
                        })
                            .catch(function (e) {
                            alert(e || "An error occurred while connecting to the server");
                            _this.setValue(null);
                        });
                        this.forceUpdate();
                    };
                    FileUpload.prototype.getName = function (index) {
                        return "file" + '-' + index;
                    };
                    FileUpload.prototype.render = function () {
                        var _this = this;
                        var value = this.props.data[this.props.name];
                        return (React.createElement("div", { className: "file-upload" },
                            this.props.previewImageUrl && React.createElement("img", { className: "preview-image", src: this.props.previewImageUrl }),
                            React.createElement("div", { className: "file-upload-button" },
                                this.props.multiple
                                    ? (React.createElement("span", null,
                                        value && value.filter(function (v) { return v && v.tmpFileName; }).length == 0 && "Uploading ...",
                                        value && value.filter(function (v) { return v && v.tmpFileName; }).length > 0 && React.createElement("span", null,
                                            value.map(function (_a) {
                                                var name = _a.name;
                                                return name;
                                            }).join(", "),
                                            " (",
                                            React.createElement("span", { style: { fontSize: "0.7rem", cursor: "pointer" }, onClick: function () { _this.setValue(null); } }, "clear"),
                                            ")"))) : (React.createElement("span", null,
                                    value && !value.tmpFileName && "Uploading ...",
                                    value && value.tmpFileName && React.createElement("span", null,
                                        value.fileName,
                                        " (",
                                        React.createElement("span", { style: { fontSize: "0.7rem", cursor: "pointer" }, onClick: function () { _this.setValue(null); } }, "clear"),
                                        ")"))),
                                !value && React.createElement("input", { multiple: this.props.multiple, accept: this.props.accept, type: "file", onChange: function (e) { _this.setValue(e.currentTarget['files']); } }))));
                    };
                    return FileUpload;
                }(React.Component));
                Form.FileUpload = FileUpload;
                var uniqueId = 1;
                function getUniqueId() {
                    return uniqueId++;
                }
                function valuesEqual(value1, value2) {
                    if (value1 === value2 || (!value1 && !value2)) {
                        return true;
                    }
                    else if (!value1 || !value2) {
                        return false;
                    }
                    return JSON.stringify(value1) === JSON.stringify(value2);
                }
                Form.valuesEqual = valuesEqual;
            })(Form || (Form = {}));
            exports_11("Form", Form);
        }
    };
});
System.register("domain/util", [], function (exports_12, context_12) {
    "use strict";
    var __moduleName = context_12 && context_12.id;
    function isJournalIssue(item) {
        return typeof item.seriesVolume === "undefined";
    }
    exports_12("isJournalIssue", isJournalIssue);
    function isProceedings(item) {
        return typeof item.seriesVolume !== "undefined";
    }
    exports_12("isProceedings", isProceedings);
    function isJournalArticle(article) {
        return typeof article.journal !== "undefined";
    }
    exports_12("isJournalArticle", isJournalArticle);
    function isProceedingsArticle(article) {
        return typeof article.proceedings !== "undefined";
    }
    exports_12("isProceedingsArticle", isProceedingsArticle);
    function isArticleDetail(article) {
        return typeof article.authors !== "undefined";
    }
    exports_12("isArticleDetail", isArticleDetail);
    return {
        setters: [],
        execute: function () {
        }
    };
});
System.register("domain/formatting", ["domain/util"], function (exports_13, context_13) {
    "use strict";
    var util_1, formatAuthorName, getMonthName, formatCurrency, toTitleCase, systemToHuman;
    var __moduleName = context_13 && context_13.id;
    function pad2(num) {
        if (num > -1 && num < 10) {
            return "0" + num;
        }
        return "" + num;
    }
    function formatNumber(value) {
        return value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }
    exports_13("formatNumber", formatNumber);
    function formatIssuePublicationDate(item, monthRenderMode) {
        if (monthRenderMode === void 0) { monthRenderMode = "numeric"; }
        var date = new Date(util_1.isJournalIssue(item) ? item.issueDate : item.publicationDate);
        if (util_1.isJournalIssue(item) && item.isRolling) {
            return date.getFullYear().toString();
        }
        switch (monthRenderMode) {
            case "numeric":
                return date.getFullYear() + "/" + pad2(date.getMonth() + 1);
            case "textual":
                return getMonthName(date.getMonth()) + " " + date.getFullYear();
        }
    }
    exports_13("formatIssuePublicationDate", formatIssuePublicationDate);
    function formatArticlePublicationDate(article, renderMode) {
        if (renderMode === void 0) { renderMode = "textual"; }
        var date = util_1.isJournalArticle(article)
            ? (article.dateAvailableOnline || (article.issue && article.issue.issueDate) || article.journal.publicationDate)
            : util_1.isProceedingsArticle(article)
                ? (article.publicationDate) || article.proceedings.publicationDate
                : undefined;
        if (!date) {
            return undefined;
        }
        if (typeof date === "string") {
            date = new Date(date);
        }
        if (util_1.isJournalArticle(article) && !article.publicationDate) {
            if (article.issue) {
                return formatIssuePublicationDate(article.issue, renderMode === "textual" ? "textual" : "numeric");
            }
            else {
                return undefined;
            }
        }
        if (util_1.isProceedingsArticle(article) && !article.publicationDate) {
            return formatIssuePublicationDate(article.proceedings, renderMode === "textual" ? "textual" : "numeric");
        }
        switch (renderMode) {
            case "textual":
                return date.getDate() + " " + getMonthName(date.getMonth()) + " " + date.getFullYear();
            case "numeric":
                if (util_1.isJournalArticle(article) && !article.publicationDate) {
                    return date.getFullYear() + "/" + pad2(date.getMonth() + 1);
                }
                return date.getFullYear() + "/" + pad2(date.getMonth() + 1) + "/" + pad2(date.getDate());
            case "year":
                return date.getFullYear().toString();
            case "iso":
                return date.toISOString();
        }
        throw Error("This should be unreachable code");
    }
    exports_13("formatArticlePublicationDate", formatArticlePublicationDate);
    function formatDate(IsoDateString) {
        if (!IsoDateString) {
            return "";
        }
        if (typeof IsoDateString === "string") {
            var date = new Date(IsoDateString);
            return date.getFullYear() + "/" + pad2(date.getMonth() + 1) + "/" + pad2(date.getDate());
        }
        return IsoDateString.getFullYear() + "/" + pad2(IsoDateString.getMonth() + 1) + "/" + pad2(IsoDateString.getDate());
    }
    exports_13("formatDate", formatDate);
    function formatDateLong(IsoDateString) {
        if (!IsoDateString) {
            return "";
        }
        var date = new Date(IsoDateString);
        function getOrdinal(n) {
            var s = ["th", "st", "nd", "rd"];
            var v = n % 100;
            return n + (s[(v - 20) % 10] || s[v] || s[0]);
        }
        return getMonthName(date.getMonth()) + " " + getOrdinal(date.getDate()) + ", " + date.getFullYear();
    }
    exports_13("formatDateLong", formatDateLong);
    function formatDateLongDayFirst(date) {
        date = new Date(date);
        return date.getDate() + " " + getMonthName(date.getMonth()) + " " + date.getFullYear();
    }
    exports_13("formatDateLongDayFirst", formatDateLongDayFirst);
    function formatAdminDate(IsoDateString) {
        if (!IsoDateString) {
            return "";
        }
        var date = new Date(IsoDateString);
        return date.getFullYear() + "/" + pad2(date.getMonth() + 1) + "/" + pad2(date.getDate());
    }
    exports_13("formatAdminDate", formatAdminDate);
    function formatDateTime(IsoDateString) {
        if (!IsoDateString) {
            return "";
        }
        var date = new Date(IsoDateString);
        return date.getFullYear() + "/" + pad2(date.getMonth() + 1) + "/" + pad2(date.getDate()) + " " + date.toLocaleTimeString("nl-NL");
    }
    exports_13("formatDateTime", formatDateTime);
    function formatDOI(article, fullUrl) {
        if (fullUrl === void 0) { fullUrl = false; }
        if (!article.doi) {
            return null;
        }
        return (fullUrl ? "https://doi.org/" : "") +
            (article.doi.indexOf("/") === -1 ? "10.2991/" + article.doi : article.doi);
    }
    exports_13("formatDOI", formatDOI);
    function getLabel(article) {
        return "" + (article.authors && article.authors.length > 0 && article.authors[0].lastName && article.authors[0].lastName.replace(/ /g, "")) + formatArticlePublicationDate(article, "year");
    }
    exports_13("getLabel", getLabel);
    function getUrl(article) {
        return article.doi ? "https://doi.org/" + formatDOI(article) : "https://www.atlantis-press.com/article/" + article.id;
    }
    exports_13("getUrl", getUrl);
    function test() {
        var assert = function (condition, msg) {
            if (msg === void 0) { msg = "Expected truthy, got falsy"; }
            if (!condition) {
                throw new Error("Assertion failed: " + msg);
            }
        };
        var assertEquals = function (expect, actual, msg) {
            if (msg === void 0) { msg = "Expected " + expect + ", got " + actual + "\""; }
            return assert(expect === actual, msg);
        };
        assertEquals("", formatAdminDate(undefined));
        assertEquals("2015/04/03", formatAdminDate(new Date("2015-04-03T12:00:00.000")));
        assertEquals("2015/04/03", formatAdminDate("2015-04-03T12:00:00.000"));
        assertEquals("", formatDateTime(undefined));
        assertEquals("2015/04/03 14:00:00", formatDateTime(new Date("2015-04-03T12:00:00.000")));
        assertEquals("2015/04/03 14:00:00", formatDateTime("2015-04-03T12:00:00.000"));
        assertEquals("", formatDateLong(undefined));
        assertEquals("April 3rd, 2015", formatDateLong("2015-04-03T12:00:00.000"));
        assertEquals("", formatDate(undefined));
        assertEquals("2015/04/03", formatDate("2015-04-03T12:00:00.000"));
        assertEquals(null, toTitleCase(null));
        assertEquals("", toTitleCase(""));
        assertEquals("A B C", toTitleCase("a b c"));
        assertEquals("Alpha Beta Gamma", toTitleCase("alpha beta gamma"));
        assertEquals("Some Camel Case", systemToHuman("someCamelCase"));
    }
    exports_13("test", test);
    return {
        setters: [
            function (util_1_1) {
                util_1 = util_1_1;
            }
        ],
        execute: function () {
            exports_13("formatAuthorName", formatAuthorName = function (author, mode) {
                if (mode === void 0) { mode = "spoken"; }
                return mode === "formal"
                    ? [author.lastName, author.firstName].filter(function (v) { return !!v; }).join(", ")
                    : [author.firstName, author.lastName].filter(function (v) { return !!v; }).join(" ");
            });
            getMonthName = function (n) { return ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"][n]; };
            exports_13("formatCurrency", formatCurrency = function (amount) { return (Math.floor(amount / 100).toString(10)
                + "." + (amount % 100).toString(10).replace(/^[0-9]$/, function (s) { return "0" + s; })); });
            exports_13("toTitleCase", toTitleCase = function (str) { return (str && str.replace(/\w\S*/g, function (txt) { return (txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()); })); });
            exports_13("systemToHuman", systemToHuman = function (name) {
                var matches = name.match(/.+?(_|(?=[A-Z]|$))/g);
                return matches.map(function (txt) { return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase(); }).join(" ");
            });
        }
    };
});
System.register("components/Form/row", ["components/Form/index.css"], function (exports_14, context_14) {
    "use strict";
    var index_css_4, FormRow, SubmitRow;
    var __moduleName = context_14 && context_14.id;
    return {
        setters: [
            function (index_css_4_1) {
                index_css_4 = index_css_4_1;
            }
        ],
        execute: function () {
            exports_14("FormRow", FormRow = function (_a) {
                var _b = _a.label, label = _b === void 0 ? null : _b, _c = _a.children, children = _c === void 0 ? [] : _c, _d = _a.remark, remark = _d === void 0 ? null : _d, _e = _a.errors, errors = _e === void 0 ? [] : _e;
                return (React.createElement("div", { className: index_css_4.default.element },
                    label && React.createElement("div", { className: index_css_4.default.label }, label),
                    React.createElement("div", null, children),
                    errors.length > 0 && React.createElement("span", { className: index_css_4.default.formValidationError }, errors.join(", ")),
                    remark && React.createElement("span", { className: index_css_4.default.remark }, remark)));
            });
            exports_14("SubmitRow", SubmitRow = function (_a) {
                var cancelUrl = _a.cancelUrl, onSubmit = _a.onSubmit;
                return (React.createElement("div", { className: index_css_4.default.buttonContainer },
                    cancelUrl && React.createElement("a", { href: cancelUrl, className: index_css_4.default.buttonSecondary }, "Cancel"),
                    React.createElement("button", { onClick: function (e) { e.preventDefault(); onSubmit(); }, className: index_css_4.default.button }, "Save")));
            });
        }
    };
});
System.register("components/JournalArticleForm", ["components/Form/index.css", "components/Form/index", "domain/formatting", "components/Form/row"], function (exports_15, context_15) {
    "use strict";
    var index_css_5, index_1, formatting_1, row_1, JournalArticleForm;
    var __moduleName = context_15 && context_15.id;
    return {
        setters: [
            function (index_css_5_1) {
                index_css_5 = index_css_5_1;
            },
            function (index_1_1) {
                index_1 = index_1_1;
            },
            function (formatting_1_1) {
                formatting_1 = formatting_1_1;
            },
            function (row_1_1) {
                row_1 = row_1_1;
            }
        ],
        execute: function () {
            JournalArticleForm = (function (_super) {
                __extends(JournalArticleForm, _super);
                function JournalArticleForm() {
                    var _this = _super !== null && _super.apply(this, arguments) || this;
                    _this.validations = new index_1.Form.Validations();
                    _this.issues = _this.props.issues.map(function (issue) { return ({
                        displayName: issue.volume + "." + issue.issueDescription + " - " + formatting_1.formatIssuePublicationDate(issue),
                        value: issue.id
                    }); });
                    return _this;
                }
                JournalArticleForm.prototype.save = function () {
                    if (this.validate()) {
                        this.props.onSave();
                    }
                    this.forceUpdate();
                };
                JournalArticleForm.prototype.validate = function () {
                    var e_8, _a;
                    this.validations.clear();
                    try {
                        for (var _b = __values(this.props.authors), _c = _b.next(); !_c.done; _c = _b.next()) {
                            var author = _c.value;
                            if (!author.lastName) {
                                this.validations.addValidation("authors", "The author's last name is required.");
                                break;
                            }
                        }
                    }
                    catch (e_8_1) { e_8 = { error: e_8_1 }; }
                    finally {
                        try {
                            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                        }
                        finally { if (e_8) throw e_8.error; }
                    }
                    return this.validations.isValid();
                };
                JournalArticleForm.prototype.renderAuthors = function () {
                    if (!this.props.authors.length) {
                        this.props.authors.push({});
                    }
                    return (React.createElement("div", null,
                        React.createElement("table", { className: index_css_5.default.tableSmall },
                            React.createElement("thead", null,
                                React.createElement("tr", { className: index_css_5.default.tableHeadAlt },
                                    React.createElement("th", null, "First name"),
                                    React.createElement("th", null, "Last name"),
                                    React.createElement("th", null, "Corresponding author"),
                                    React.createElement("th", { className: index_css_5.default.tableColumnSmall }),
                                    React.createElement("th", { className: index_css_5.default.tableColumnSmall }),
                                    React.createElement("th", { className: index_css_5.default.tableColumnSmall }))),
                            React.createElement("tbody", null, this.props.authors.map(this.renderAuthorRow))),
                        this.validations.getErrorMessage("authors") &&
                            React.createElement("div", { className: index_css_5.default.formValidationErrorContainer },
                                React.createElement("div", { className: index_css_5.default.formValidationError }, this.validations.getErrorMessage("authors"))),
                        React.createElement("button", { onClick: this.addAuthor, className: index_css_5.default.buttonSecondary }, "+ Add author")));
                };
                JournalArticleForm.prototype.addAuthor = function () {
                    this.props.authors.push({});
                    this.forceUpdate();
                };
                JournalArticleForm.prototype.deleteAuthor = function (author) {
                    if (confirm("Are you sure you want to remove this author?") && this.props.authors.length > 1) {
                        this.props.authors.splice(this.props.authors.indexOf(author), 1);
                        this.forceUpdate();
                    }
                };
                JournalArticleForm.prototype.moveAuthorUpDown = function (author, up) {
                    var index = this.props.authors.indexOf(author);
                    if (!up && index + 1 < this.props.authors.length) {
                        this.props.authors[index] = this.props.authors[index + 1];
                        this.props.authors[index + 1] = author;
                    }
                    else if (up && index > 0) {
                        this.props.authors[index] = this.props.authors[index - 1];
                        this.props.authors[index - 1] = author;
                    }
                    this.forceUpdate();
                };
                JournalArticleForm.prototype.setCorrespondingAuthor = function (author) {
                    var e_9, _a;
                    try {
                        for (var _b = __values(this.props.authors), _c = _b.next(); !_c.done; _c = _b.next()) {
                            var otherAuthor = _c.value;
                            otherAuthor.correspondingAuthor = false;
                        }
                    }
                    catch (e_9_1) { e_9 = { error: e_9_1 }; }
                    finally {
                        try {
                            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                        }
                        finally { if (e_9) throw e_9.error; }
                    }
                    author.correspondingAuthor = true;
                    this.forceUpdate();
                };
                JournalArticleForm.prototype.renderAuthorRow = function (author, index) {
                    var _this = this;
                    return (React.createElement("tr", { key: index },
                        React.createElement("td", null,
                            React.createElement(index_1.Form.Textbox, { data: author, name: "firstName" })),
                        React.createElement("td", null,
                            React.createElement(index_1.Form.Textbox, { data: author, name: "lastName" })),
                        React.createElement("td", null,
                            React.createElement("input", { type: "radio", key: index, name: index + "", onChange: function () { return _this.setCorrespondingAuthor(author); }, checked: author.correspondingAuthor })),
                        index > 0 &&
                            React.createElement("td", null,
                                React.createElement("a", { className: index_css_5.default.link, onClick: function (e) {
                                        _this.deleteAuthor(author);
                                    } }, "Delete")),
                        index === 0 && [
                            React.createElement("td", { key: 1 }),
                            React.createElement("td", { key: 2 })
                        ],
                        index > 0 &&
                            React.createElement("td", null,
                                React.createElement("a", { className: index_css_5.default.link, onClick: function () {
                                        _this.moveAuthorUpDown(author, true);
                                    } }, "Up")),
                        index + 1 < this.props.authors.length &&
                            React.createElement("td", null,
                                React.createElement("a", { className: index_css_5.default.link, onClick: function () {
                                        _this.moveAuthorUpDown(author, false);
                                    } }, "Down"))));
                };
                JournalArticleForm.prototype.renderMasterFields = function () {
                    return (React.createElement("div", null,
                        React.createElement(row_1.FormRow, { label: "Available Online Date (dd-mm-yyyy)" },
                            React.createElement(index_1.Form.Datebox, { data: this.props.data, name: "dateAvailableOnline", placeHolder: "dd-mm-yyyy", validation: this.validations })),
                        React.createElement(row_1.FormRow, { label: "Revised Date (dd-mm-yyyy)" },
                            React.createElement(index_1.Form.Datebox, { data: this.props.data, name: "dateRevised", placeHolder: "dd-mm-yyyy", validation: this.validations })),
                        React.createElement(row_1.FormRow, { label: "Accepted Date (dd-mm-yyyy)" },
                            React.createElement(index_1.Form.Datebox, { data: this.props.data, name: "dateAccepted", placeHolder: "dd-mm-yyyy", validation: this.validations })),
                        React.createElement(row_1.FormRow, { label: "Received Date (dd-mm-yyyy)" },
                            React.createElement(index_1.Form.Datebox, { data: this.props.data, name: "dateReceived", placeHolder: "dd-mm-yyyy", validation: this.validations })),
                        React.createElement(row_1.FormRow, { label: "Authors" }, this.renderAuthors())));
                };
                JournalArticleForm.prototype.renderRevisionFields = function () {
                    return (React.createElement("div", null,
                        React.createElement(row_1.FormRow, { label: "Title" },
                            React.createElement(index_1.Form.Textbox, { data: this.props.revision, name: "title", validation: this.validations, className: index_css_5.default.textLong })),
                        React.createElement(row_1.FormRow, { label: "Proofing state" },
                            React.createElement(index_1.Form.Select, { options: [
                                    { displayName: "Uncorrected Proof", value: "UNCORRECTED_PROOF" },
                                    { displayName: "Final", value: "FINAL" },
                                    { displayName: "Corrected Proof", value: "CORRECTED_PROOF" },
                                ], data: this.props.revision, name: "proofingState", validation: this.validations })),
                        React.createElement(row_1.FormRow, { label: "Issue" },
                            React.createElement(index_1.Form.Select, { data: this.props.revision, name: "journal_issue_id", options: this.issues, validation: this.validations })),
                        React.createElement(row_1.FormRow, { label: "First page" },
                            React.createElement(index_1.Form.Textbox, { data: this.props.revision, name: "firstPageInPublication", validation: this.validations, className: index_css_5.default.textLong })),
                        React.createElement(row_1.FormRow, { label: "Last page" },
                            React.createElement(index_1.Form.Textbox, { data: this.props.revision, name: "lastPageInPublication", validation: this.validations, className: index_css_5.default.textLong })),
                        React.createElement(row_1.FormRow, { label: "Keywords", remark: "Values comma seperated, max 10 keywords" },
                            React.createElement(index_1.Form.Textbox, { data: this.props.revision, name: "keywords", textArea: true, validation: this.validations, className: index_css_5.default.textareaMedium })),
                        React.createElement(row_1.FormRow, { label: "Abstract", remark: "Max 300 words" },
                            React.createElement(index_1.Form.Textbox, { data: this.props.revision, name: "summary", textArea: true, validation: this.validations, className: index_css_5.default.textareaLong })),
                        React.createElement(row_1.FormRow, { label: "PDF file" },
                            React.createElement(index_1.Form.FileUpload, { uploadUrl: "/admin/upload-pdf", data: this.props.revision, name: "pdf", placeHolder: "Upload PDF" }))));
                };
                JournalArticleForm.prototype.render = function () {
                    return (React.createElement("div", null,
                        React.createElement("h2", null, "Article master data"),
                        this.renderMasterFields(),
                        this.props.revision && React.createElement("h2", null, "Article revision"),
                        this.props.revision && this.renderRevisionFields(),
                        React.createElement("div", { className: index_css_5.default.buttonContainer },
                            React.createElement("button", { onClick: this.props.onCancel, className: index_css_5.default.buttonSecondary }, "Cancel"),
                            React.createElement("button", { onClick: this.save, className: index_css_5.default.buttonPrimary }, this.props.mode === "create_revision" ? "Create new revision" : "Save this revision"))));
                };
                return JournalArticleForm;
            }(BaseComponent));
            exports_15("default", JournalArticleForm);
        }
    };
});
System.register("components/Form/base", ["utils/utils"], function (exports_16, context_16) {
    "use strict";
    var utils_4, BaseForm;
    var __moduleName = context_16 && context_16.id;
    return {
        setters: [
            function (utils_4_1) {
                utils_4 = utils_4_1;
            }
        ],
        execute: function () {
            BaseForm = (function (_super) {
                __extends(BaseForm, _super);
                function BaseForm() {
                    var _this = _super !== null && _super.apply(this, arguments) || this;
                    _this.urlParams = {};
                    return _this;
                }
                BaseForm.prototype.componentDidUpdate = function (prevProps, prevState) {
                    if (this.state.status !== prevState.status) {
                        if (this.state.status === "validation_error" || this.state.status === "success") {
                            var i = 0;
                            var p = this.form;
                            while (p) {
                                i += p.offsetTop;
                                p = p.offsetParent;
                            }
                            window.scrollTo(0, i);
                        }
                    }
                };
                BaseForm.prototype.setValue = function (name, value) {
                    var _a;
                    this.setState(__assign({}, this.state, { values: __assign({}, this.state.values, (_a = {}, _a[name] = value, _a)) }));
                };
                BaseForm.prototype.setStatus = function (status, message, response) {
                    this.setState(__assign({}, this.state, { status: status,
                        message: message, validationErrors: [], response: response }));
                };
                BaseForm.prototype.save = function () {
                    var _this = this;
                    this.setStatus("loading");
                    var errors = this.validate(this.state.values);
                    if (errors.length > 0) {
                        this.setState(__assign({}, this.state, { status: "validation_error", validationErrors: errors }));
                    }
                    else {
                        utils_4.callServer(this.url, __assign({}, this.state.values, this.urlParams))
                            .then(function (r) {
                            _this.setStatus("success", undefined, r);
                        }).catch(function (e) {
                            _this.setStatus("server_error", e.message);
                        });
                    }
                };
                BaseForm.prototype.getValidationErrors = function () {
                    var globalErrors = this.state.validationErrors.filter(function (a) { return a.length === 1; }).map(function (a) { return a.shift().toString(); });
                    var fieldErrors = this.state.validationErrors.filter(function (a) { return a.length > 1; }).reduce(function (a, _a) {
                        var _b = __read(_a, 2), message = _b[0], name = _b[1];
                        var k = name.toString();
                        if (typeof a[k] === "undefined") {
                            a[k] = [];
                        }
                        a[k].push(message);
                        return a;
                    }, {});
                    return [globalErrors, fieldErrors];
                };
                return BaseForm;
            }(React.Component));
            exports_16("BaseForm", BaseForm);
        }
    };
});
System.register("components/Form/message", ["components/Form/index.css", "utils/strings"], function (exports_17, context_17) {
    "use strict";
    var index_css_6, strings_2, Message, Pill;
    var __moduleName = context_17 && context_17.id;
    function getMessageClassName(type) {
        return index_css_6.default[strings_2.hyphensToCamelCase("message-" + type)];
    }
    return {
        setters: [
            function (index_css_6_1) {
                index_css_6 = index_css_6_1;
            },
            function (strings_2_1) {
                strings_2 = strings_2_1;
            }
        ],
        execute: function () {
            exports_17("Message", Message = function (_a) {
                var children = _a.children, _b = _a.type, type = _b === void 0 ? "neutral" : _b;
                return (React.createElement("div", { className: index_css_6.default.message + " " + getMessageClassName(type) }, children));
            });
            exports_17("Pill", Pill = function (_a) {
                var children = _a.children, _b = _a.type, type = _b === void 0 ? "neutral" : _b;
                return (React.createElement("span", { className: index_css_6.default.pill + " " + getMessageClassName(type) }, children));
            });
        }
    };
});
System.register("components/JournalArticleImportForm", ["components/Form/row", "components/Form/index", "components/Form/index.css", "components/Form/base", "components/Form/message"], function (exports_18, context_18) {
    "use strict";
    var row_2, Form_1, index_css_7, base_1, message_1, JournalArticleImportForm;
    var __moduleName = context_18 && context_18.id;
    return {
        setters: [
            function (row_2_1) {
                row_2 = row_2_1;
            },
            function (Form_1_1) {
                Form_1 = Form_1_1;
            },
            function (index_css_7_1) {
                index_css_7 = index_css_7_1;
            },
            function (base_1_1) {
                base_1 = base_1_1;
            },
            function (message_1_1) {
                message_1 = message_1_1;
            }
        ],
        execute: function () {
            JournalArticleImportForm = (function (_super) {
                __extends(JournalArticleImportForm, _super);
                function JournalArticleImportForm() {
                    var _this = _super !== null && _super.apply(this, arguments) || this;
                    _this.url = "/admin/journals/saveImport";
                    _this.state = {
                        message: null,
                        status: "initial",
                        validationErrors: [],
                        values: {
                            proofingState: "UNCORRECTED_PROOF",
                            unmatchedAssets: [],
                            uploadedAssets: {},
                            assets: [],
                            similar: [],
                        }
                    };
                    return _this;
                }
                JournalArticleImportForm.prototype.render = function () {
                    var _this = this;
                    var expectedPdfFilename = null;
                    if (this.state.values && this.state.values.articleMetadata && this.state.values.xml) {
                        expectedPdfFilename = this.state.values.articleMetadata.pdfFilename || this.state.values.xml.fileName.replace(/.xml/i, ".pdf");
                    }
                    return (React.createElement("div", null,
                        this.state.status === "success" && (React.createElement("div", null,
                            React.createElement(message_1.Message, { type: "ok" }, "Article imported successfully."),
                            React.createElement("p", null,
                                React.createElement("a", { href: this.state.response.articleUrl }, "Proceed to article revisions"),
                                " | ",
                                React.createElement("a", { href: "/admin/journals/import" }, "Import another article")))),
                        this.state.status !== "success"
                            && (React.createElement("div", null,
                                React.createElement(row_2.FormRow, { label: "XML file" },
                                    React.createElement(Form_1.Form.FileUpload, { accept: ".xml", onChange: function (args) {
                                            _this.setValue("articleMetadata", args.extras.articleMetadata);
                                            _this.setValue("assets", args.extras.assets);
                                            _this.setValue("similar", args.extras.similar);
                                        }, data: this.state.values, uploadUrl: "/admin/upload-xml", name: "xml", placeHolder: "Upload XML" })),
                                this.state.values.similar &&
                                    React.createElement("div", { style: { maxWidth: 800 } }, this.state.values.similar.map(function (similar, k) { return (React.createElement(message_1.Message, { key: k, type: "notice" },
                                        "Article with matching DOI `",
                                        similar.doi,
                                        "` found:",
                                        React.createElement("br", null),
                                        React.createElement("a", { href: similar.url }, similar.title),
                                        ".")); })),
                                this.state.values.articleMetadata &&
                                    React.createElement("div", null,
                                        React.createElement(row_2.FormRow, { label: "Proofing state" },
                                            React.createElement("select", { onChange: function (v) { return _this.setValue("proofingState", v.target.value); } }, [
                                                { displayName: "Uncorrected Proof", value: "UNCORRECTED_PROOF" },
                                                { displayName: "Corrected Proof", value: "CORRECTED_PROOF" },
                                                { displayName: "Final", value: "FINAL" },
                                            ].map(function (_a) {
                                                var displayName = _a.displayName, value = _a.value;
                                                return React.createElement("option", { value: value }, displayName);
                                            }))),
                                        React.createElement(row_2.FormRow, { label: "Journal" },
                                            React.createElement("input", { disabled: true, type: "text", value: this.state.values.articleMetadata.journal.title })),
                                        React.createElement(row_2.FormRow, { label: "Volume - Issue" },
                                            React.createElement("input", { disabled: true, type: "text", value: this.state.values.articleMetadata.volume, size: 2 }),
                                            " - ",
                                            React.createElement("input", { disabled: true, type: "text", value: this.state.values.articleMetadata.issue, size: 2 })),
                                        React.createElement(row_2.FormRow, { label: "Pages" },
                                            React.createElement("input", { disabled: true, type: "text", value: this.state.values.articleMetadata.fpage, size: 4 }),
                                            " - ",
                                            React.createElement("input", { disabled: true, type: "text", value: this.state.values.articleMetadata.lpage, size: 4 })),
                                        React.createElement(row_2.FormRow, { label: "Title" },
                                            React.createElement("input", { disabled: true, type: "text", value: "" + this.state.values.articleMetadata.title })),
                                        React.createElement(row_2.FormRow, { label: "Abstract" },
                                            React.createElement("textarea", { disabled: true, value: this.state.values.articleMetadata.abstract ? this.state.values.articleMetadata.abstract.trim() : "" })),
                                        React.createElement(row_2.FormRow, { label: "Keywords" },
                                            React.createElement("textarea", { disabled: true, value: this.state.values.articleMetadata.keywords ? this.state.values.articleMetadata.keywords.join(", ") : "" })),
                                        this.state.values.articleMetadata.authorData && this.state.values.articleMetadata.authorData.contribGroups &&
                                            React.createElement(row_2.FormRow, { label: "Authors" },
                                                React.createElement("table", null,
                                                    React.createElement("thead", null,
                                                        React.createElement("tr", null,
                                                            React.createElement("th", null, "First name"),
                                                            React.createElement("th", null, "Last name"))),
                                                    React.createElement("tbody", null, this.state.values.articleMetadata.authorData.contribGroups.map(function (group, groupIdx) { return (group.authors.map(function (a, i) { return (React.createElement("tr", { key: groupIdx + "_" + i },
                                                        React.createElement("td", null,
                                                            React.createElement("input", { disabled: true, type: "text", size: 10, value: a.givenNames })),
                                                        React.createElement("td", null,
                                                            React.createElement("input", { disabled: true, type: "text", size: 16, value: a.surname })))); })); })))),
                                        this.state.values.assets && this.state.values.assets.length > 0 &&
                                            React.createElement(row_2.FormRow, null,
                                                React.createElement("table", { className: index_css_7.default.table },
                                                    React.createElement("thead", null,
                                                        React.createElement("tr", null,
                                                            React.createElement("th", null, "Asset"),
                                                            React.createElement("th", null, "Uploaded file"))),
                                                    React.createElement("tbody", null,
                                                        this.state.values.assets.map(function (a, k) { return (React.createElement("tr", { key: k, className: _this.state.values.uploadedAssets[a] ? "highlight-success" : "" },
                                                            React.createElement("td", null, a),
                                                            React.createElement("td", null, _this.state.values.uploadedAssets[a]
                                                                ? React.createElement(message_1.Pill, { type: "ok" }, "Uploaded")
                                                                : React.createElement(message_1.Pill, { type: "notice" }, "Missing")))); }),
                                                        this.state.values.unmatchedAssets.map(function (fn) { return React.createElement("tr", null,
                                                            React.createElement("td", null,
                                                                React.createElement(message_1.Pill, { type: "notice" }, "Not mentioned")),
                                                            React.createElement("td", null, fn)); }))),
                                                React.createElement(Form_1.Form.FileUpload, { onChange: function (args) {
                                                        var map = {};
                                                        var unmatched = [];
                                                        args.forEach(function (_a) {
                                                            var name = _a.name, tmpFileName = _a.tmpFileName;
                                                            if (_this.state.values.assets.indexOf(name) >= 0) {
                                                                map[name] = tmpFileName;
                                                            }
                                                            else {
                                                                unmatched.push(name);
                                                            }
                                                        });
                                                        _this.setValue("uploadedAssets", map);
                                                        _this.setValue("unmatchedAssets", unmatched);
                                                    }, multiple: true, data: this.state.values, uploadUrl: "/admin/upload-assets", name: "assetFiles", placeHolder: "Upload Assets" })),
                                        React.createElement(row_2.FormRow, { label: "PDF file" },
                                            React.createElement(Form_1.Form.FileUpload, { accept: ".pdf", onChange: function (args) {
                                                    _this.setValue("pdf", args);
                                                }, data: this.state.values, uploadUrl: "/admin/upload-pdf", name: "pdf", placeHolder: "Upload Assets" }),
                                            this.state.values.pdf
                                                && this.state.values.pdf.fileName.toLowerCase() !== expectedPdfFilename.toLowerCase()
                                                && React.createElement("span", null,
                                                    React.createElement("br", null),
                                                    React.createElement(message_1.Pill, { type: "notice" },
                                                        "Filename does not match ",
                                                        expectedPdfFilename))),
                                        React.createElement(row_2.SubmitRow, { onSubmit: function () { return _this.save(); } }),
                                        React.createElement("p", { className: index_css_7.default.remark }, "After saving the first import of the article, you can make changes to the imported content"),
                                        this.state.status === "server_error" && React.createElement(message_1.Message, { type: "error" }, this.state.message))))));
                };
                JournalArticleImportForm.prototype.validate = function (obj) {
                    return [];
                };
                return JournalArticleImportForm;
            }(base_1.BaseForm));
            exports_18("JournalArticleImportForm", JournalArticleImportForm);
        }
    };
});
System.register("components/JournalArticleRevisionForm", ["components/Form/index.css", "components/Form/index", "domain/formatting", "components/Form/row"], function (exports_19, context_19) {
    "use strict";
    var index_css_8, index_2, formatting_2, row_3, JournalArticleRevisionForm;
    var __moduleName = context_19 && context_19.id;
    return {
        setters: [
            function (index_css_8_1) {
                index_css_8 = index_css_8_1;
            },
            function (index_2_1) {
                index_2 = index_2_1;
            },
            function (formatting_2_1) {
                formatting_2 = formatting_2_1;
            },
            function (row_3_1) {
                row_3 = row_3_1;
            }
        ],
        execute: function () {
            JournalArticleRevisionForm = (function (_super) {
                __extends(JournalArticleRevisionForm, _super);
                function JournalArticleRevisionForm() {
                    var _this = _super !== null && _super.apply(this, arguments) || this;
                    _this.validations = new index_2.Form.Validations();
                    _this.issues = _this.props.issues.map(function (issue) { return ({
                        displayName: issue.volume + "." + issue.issueDescription + " - " + formatting_2.formatIssuePublicationDate(issue),
                        value: issue.id
                    }); });
                    return _this;
                }
                JournalArticleRevisionForm.prototype.save = function () {
                    if (this.validate()) {
                        this.props.onSave();
                    }
                    this.forceUpdate();
                };
                JournalArticleRevisionForm.prototype.validate = function () {
                    return true;
                };
                JournalArticleRevisionForm.prototype.render = function () {
                    var data = this.props.data;
                    return (React.createElement("div", null,
                        React.createElement("h2", null, "Article revision"),
                        React.createElement(row_3.FormRow, { label: "Title" },
                            React.createElement(index_2.Form.Textbox, { data: data, name: "title", validation: this.validations, className: index_css_8.default.textLong })),
                        React.createElement(row_3.FormRow, { label: "Issue" },
                            React.createElement(index_2.Form.Select, { data: data, name: "journal_issue_id", options: this.issues, validation: this.validations })),
                        React.createElement(row_3.FormRow, { label: "Proofing state" },
                            React.createElement(index_2.Form.Select, { options: [
                                    { displayName: "Uncorrected Proof", value: "UNCORRECTED_PROOF" },
                                    { displayName: "Final", value: "FINAL" },
                                    { displayName: "Corrected Proof", value: "CORRECTED_PROOF" },
                                ], data: data, name: "proofingState", validation: this.validations })),
                        React.createElement(row_3.FormRow, { label: "First page" },
                            React.createElement(index_2.Form.Textbox, { data: data, name: "firstPageInPublication", validation: this.validations, className: index_css_8.default.textLong })),
                        React.createElement(row_3.FormRow, { label: "Last page" },
                            React.createElement(index_2.Form.Textbox, { data: data, name: "lastPageInPublication", validation: this.validations, className: index_css_8.default.textLong })),
                        React.createElement(row_3.FormRow, { label: "Keywords", remark: "Values comma seperated, max 10 keywords" },
                            React.createElement(index_2.Form.Textbox, { data: data, name: "keywords", textArea: true, validation: this.validations, className: index_css_8.default.textareaMedium })),
                        React.createElement(row_3.FormRow, { label: "Abstract", remark: "Max 300 words" },
                            React.createElement(index_2.Form.Textbox, { data: data, name: "summary", textArea: true, validation: this.validations, className: index_css_8.default.textareaLong })),
                        React.createElement(row_3.FormRow, { label: "PDF file" },
                            React.createElement(index_2.Form.FileUpload, { uploadUrl: "/admin/upload-pdf", data: data, name: "pdf", placeHolder: "Upload PDF" }),
                            this.props.pdfUrl && React.createElement("span", { className: index_css_8.default.remark },
                                "Replaces ",
                                React.createElement("a", { href: this.props.pdfUrl }, "current file"),
                                ".")),
                        React.createElement("div", { className: index_css_8.default.buttonContainer },
                            React.createElement("button", { onClick: this.props.onCancel, className: index_css_8.default.buttonSecondary }, "Cancel"),
                            React.createElement("button", { onClick: this.save, className: index_css_8.default.buttonPrimary }, "Save Changes"))));
                };
                return JournalArticleRevisionForm;
            }(BaseComponent));
            exports_19("default", JournalArticleRevisionForm);
        }
    };
});
System.register("components/Table", ["components/Form/index.css", "utils/utils"], function (exports_20, context_20) {
    "use strict";
    var index_css_9, utils_5, toggle, Table;
    var __moduleName = context_20 && context_20.id;
    return {
        setters: [
            function (index_css_9_1) {
                index_css_9 = index_css_9_1;
            },
            function (utils_5_1) {
                utils_5 = utils_5_1;
            }
        ],
        execute: function () {
            toggle = function (a, v) {
                var idx = a.findIndex(function (n) { return n === v; });
                if (idx >= 0) {
                    return __spread(a.slice(0, idx), a.slice(idx + 1));
                }
                return __spread(a, [v]);
            };
            Table = (function (_super) {
                __extends(Table, _super);
                function Table() {
                    var _this = _super !== null && _super.apply(this, arguments) || this;
                    _this.state = {
                        sort: null,
                        dir: null,
                        filters: [],
                        isLoading: false,
                        items: null
                    };
                    return _this;
                }
                Table.prototype.render = function () {
                    var _this = this;
                    return (React.createElement("div", null,
                        this.props.filters &&
                            React.createElement("div", { className: "src-components-Form-filterList" }, this.props.filters.map(function (_a) {
                                var _b = __read(_a, 2), label = _b[0], value = _b[1];
                                return (React.createElement("div", { className: "form__textbox src-components-Form-filter" },
                                    React.createElement("label", null,
                                        React.createElement("input", { type: "checkbox", checked: _this.state.filters.find(function (v) { return v === value; }) !== undefined, onChange: function () {
                                                _this.load({ filters: toggle(_this.state.filters, value) });
                                            } }),
                                        label)));
                            })),
                        React.createElement("table", __assign({}, this.props),
                            React.createElement("thead", null,
                                React.createElement("tr", { className: index_css_9.default.tableHead }, this.props.cols.map(function (el, index) {
                                    if (!Array.isArray(el)) {
                                        if (typeof el === "string") {
                                            return React.createElement("th", null, el);
                                        }
                                        else {
                                            return el;
                                        }
                                    }
                                    else {
                                        var _a = __read(el, 3), title = _a[0], sortAlias_1 = _a[1], _b = _a[2], className = _b === void 0 ? index_css_9.default.tableColumn : _b;
                                        return (React.createElement("th", { key: index, "data-sort": sortAlias_1, className: className },
                                            _this.props.url && sortAlias_1 &&
                                                React.createElement("a", { href: "#", style: { textDecoration: "none" }, onClick: function (e) {
                                                        e.preventDefault();
                                                        _this.sortBy(sortAlias_1);
                                                    } },
                                                    title,
                                                    _this.state.sort === sortAlias_1 && _this.state.dir === "DESC" &&
                                                        React.createElement("span", { className: "widgetDesc" }, "\u25BC"),
                                                    _this.state.sort === sortAlias_1 && _this.state.dir === "ASC" &&
                                                        React.createElement("span", { className: "widgetDesc" }, "\u25B2")),
                                            !(_this.props.url && sortAlias_1) && title));
                                    }
                                }))),
                            React.createElement("tbody", null, (this.state && this.state.items || this.props.items).map(this.props.row)))));
                };
                Table.prototype.filter = function (filters) {
                    if (this.state.isLoading) {
                        return;
                    }
                    this.setState({ isLoading: true });
                    this.load({ filters: filters });
                };
                Table.prototype.sortBy = function (sortColumn) {
                    if (this.state.isLoading) {
                        return;
                    }
                    this.setState({ isLoading: true });
                    var sortDir = this.state.sort === sortColumn ? this.state.dir === "DESC" ? "ASC" : "DESC" : "ASC";
                    this.load({ sort: sortColumn, dir: sortDir });
                };
                Table.prototype.load = function (params) {
                    var _this = this;
                    var mergedParams = __assign({ sort: this.state.sort, dir: this.state.dir, filters: this.state.filters }, params);
                    utils_5.load(this.props.url, mergedParams)
                        .then(function (data) {
                        _this.setState(__assign({}, mergedParams, { items: data.data, isLoading: false }));
                    })
                        .catch(function (err) {
                        alert(err);
                    });
                };
                return Table;
            }(React.Component));
            exports_20("Table", Table);
        }
    };
});
System.register("components/Logs", ["components/Form/index.css", "utils/utils", "utils/adminmethods", "components/Table", "components/Form/index", "domain/formatting"], function (exports_21, context_21) {
    "use strict";
    var index_css_10, utils_6, adminmethods_2, Table_1, Form_2, formatting_3, Logs;
    var __moduleName = context_21 && context_21.id;
    return {
        setters: [
            function (index_css_10_1) {
                index_css_10 = index_css_10_1;
            },
            function (utils_6_1) {
                utils_6 = utils_6_1;
            },
            function (adminmethods_2_1) {
                adminmethods_2 = adminmethods_2_1;
            },
            function (Table_1_1) {
                Table_1 = Table_1_1;
            },
            function (Form_2_1) {
                Form_2 = Form_2_1;
            },
            function (formatting_3_1) {
                formatting_3 = formatting_3_1;
            }
        ],
        execute: function () {
            Logs = (function (_super) {
                __extends(Logs, _super);
                function Logs(a, b) {
                    return _super.call(this, a, b) || this;
                }
                Logs.prototype.render = function () {
                    var _this = this;
                    var filters = [
                        ["Hide auto generated logs", "hideautogenerated"]
                    ];
                    if (!this.props.articleId) {
                        filters.push(["Group by article", "groupbyarticle"]);
                    }
                    var cols = [
                        ["Date", "date", null],
                        ["Description", null, null]
                    ];
                    if (!this.props.articleId) {
                        cols.push(["Article", null, null]);
                    }
                    return (React.createElement("div", { style: { maxWidth: 1200 } },
                        (this.props.writable && this.editableLogEntry) &&
                            React.createElement("div", null,
                                React.createElement(Form_2.Form.Textbox, { textArea: true, data: this.editableLogEntry, name: "description" }),
                                React.createElement("button", { className: index_css_10.default.buttonSecondary, onClick: function () {
                                        _this.editableLogEntry = null;
                                        _this.forceUpdate();
                                    } }, "Cancel"),
                                React.createElement("button", { className: index_css_10.default.button, onClick: function () { return _this.saveLogEntry(); } }, "Save note")),
                        this.props.writable &&
                            React.createElement("button", { className: index_css_10.default.buttonSecondary, onClick: function () { return _this.createEditableLogEntry(); } }, "+ Add note to log"),
                        React.createElement(Table_1.Table, { filters: filters, className: index_css_10.default.table, cols: cols, items: this.props.logs, row: function (log) { return (React.createElement("tr", { className: index_css_10.default.tableRow, key: log.id + "_log" },
                                React.createElement("td", { className: index_css_10.default.tableCell }, _this.formatDateTime(log.createdAt)),
                                React.createElement("td", { className: index_css_10.default.tableCell }, _this.getLogEntryDescription(log)),
                                _this.props.articleId ? "" : React.createElement("td", null, log.article && React.createElement("a", { href: "/admin/proceedings/" + log.article.proceedings_id + "/article/" + log.article.id }, log.article.title)))); }, url: utils_6.addUrlParams("/account:logs", { articleId: this.props.articleId, proceedingsId: this.props.proceedingsId }) })));
                };
                Logs.prototype.formatDateTime = function (date) {
                    return date ? formatting_3.formatDateTime(date + "") : "-";
                };
                Logs.prototype.createEditableLogEntry = function () {
                    this.editableLogEntry = {
                        proceedings_id: this.props.proceedingsId,
                        article_id: this.props.articleId,
                    };
                    this.forceUpdate();
                };
                Logs.prototype.getLogEntryDescription = function (data) {
                    var e_10, _a;
                    var description = data.description + "";
                    try {
                        for (var _b = __values(Object.keys(adminmethods_2.proceedingsStateTranslations)), _c = _b.next(); !_c.done; _c = _b.next()) {
                            var state = _c.value;
                            description = description.replace("{ProceedingsState." + state + "}", "\"" + adminmethods_2.proceedingsStateTranslations[state] + "\"");
                        }
                    }
                    catch (e_10_1) { e_10 = { error: e_10_1 }; }
                    finally {
                        try {
                            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                        }
                        finally { if (e_10) throw e_10.error; }
                    }
                    return description;
                };
                Logs.prototype.saveLogEntry = function () {
                    utils_6.callServer("/admin/save-log-entry", { data: this.editableLogEntry })
                        .then(function () {
                        window.location.reload();
                    })
                        .catch(function () {
                        alert("An error occurred while connecting to the server");
                    });
                };
                return Logs;
            }(React.Component));
            exports_21("Logs", Logs);
        }
    };
});
System.register("components/Markdown", ["utils/utils"], function (exports_22, context_22) {
    "use strict";
    var utils_7, formatId, renderMarkdown, Markdown;
    var __moduleName = context_22 && context_22.id;
    return {
        setters: [
            function (utils_7_1) {
                utils_7 = utils_7_1;
            }
        ],
        execute: function () {
            formatId = function (contents) { return (contents.toLowerCase().replace("&amp;", "and").replace(/[^a-z0-9-_]/ig, "-").replace(/^-+|-+$/, "").replace(/-+/g, "-")); };
            exports_22("renderMarkdown", renderMarkdown = function (source, options) {
                if (options === void 0) { options = {}; }
                if (!source) {
                    return source;
                }
                var defaultOptions = { softbreak: "<br />" };
                var reader = new commonmark.Parser();
                var writer = new commonmark.HtmlRenderer(__assign({}, defaultOptions, options));
                var html = writer.render(reader.parse(source));
                var match;
                var search;
                search = /<a href="(.*?)">(.*?)<\/a>/g;
                while (match = search.exec(html)) {
                    var link = match[0];
                    var href = match[1];
                    if (!href.startsWith(utils_7.getRequestBaseUrl())
                        && (href.startsWith("http://")
                            || href.startsWith("https://"))) {
                        var position = link.indexOf(">");
                        var linkWithTarget = link.substr(0, position) + ' target="_blank"' + link.substr(position);
                        html = html.replace(link, linkWithTarget);
                    }
                }
                search = /<(h[123456])([^>]*)>(.*)(<\/\1>)/gi;
                while (match = search.exec(html)) {
                    var attrs = match[2];
                    if (attrs.match(/id=/gi)) {
                        continue;
                    }
                    var contents = match[3];
                    attrs += " id=\"" + formatId(contents) + "\"";
                    html = html.replace(match[0], "<" + match[1] + attrs + ">" + contents + match[4]);
                }
                return html;
            });
            Markdown = (function (_super) {
                __extends(Markdown, _super);
                function Markdown() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                Markdown.prototype.render = function () {
                    return this.props.source ?
                        React.createElement("div", { className: this.props.className, dangerouslySetInnerHTML: { __html: renderMarkdown(this.props.source, this.props.options || {}) } })
                        :
                            React.createElement("div", null);
                };
                return Markdown;
            }(React.Component));
            exports_22("default", Markdown);
        }
    };
});
System.register("domain/article", ["domain/util"], function (exports_23, context_23) {
    "use strict";
    var util_2;
    var __moduleName = context_23 && context_23.id;
    function getPdfUrl(article, revision) {
        if (revision === void 0) { revision = null; }
        var path = "/article/" + article.id + ".pdf" + (revision ? "?revision_id=" + revision.id : "");
        if (typeof window !== "object" && globals.env === "production") {
            return "https://download.atlantis-press.com" + path;
        }
        return path;
    }
    exports_23("getPdfUrl", getPdfUrl);
    function articleUrl(article, revision) {
        if (revision === void 0) { revision = null; }
        return publicationUrl(article) + "/" + article.id + (revision ? "?revision_id=" + revision.id : "");
    }
    exports_23("articleUrl", articleUrl);
    function partOfUrl(article) {
        if (util_2.isProceedingsArticle(article)) {
            return "/proceedings/" + article.proceedings.code + (article.session && article.session.id ? "/sessions/" + article.session.id : "");
        }
        else if (util_2.isJournalArticle(article) && article.issue) {
            return "/journals/" + article.journal.code + "/issue/" + article.issue.id;
        }
        else if (util_2.isJournalArticle(article) && !article.issue) {
            return "/journals/" + article.journal.code;
        }
        throw new Error("Can not determine publication url for article/" + article.id);
    }
    exports_23("partOfUrl", partOfUrl);
    function publicationUrl(article) {
        if (util_2.isJournalArticle(article)) {
            return "/journals/" + article.journal.code;
        }
        if (util_2.isProceedingsArticle(article)) {
            return "/proceedings/" + article.proceedings.code;
        }
        throw new Error("Can not determine publication url for article/" + article.id);
    }
    exports_23("publicationUrl", publicationUrl);
    function viewArticleUrl(article, revision) {
        if (revision === void 0) { revision = null; }
        var ret = publicationUrl(article) + "/" + article.id + "/view";
        if (revision) {
            return ret + ("?revision_id=" + revision.id);
        }
        return ret;
    }
    exports_23("viewArticleUrl", viewArticleUrl);
    function hasArticleContentXml(article) {
        return article.fullxml && typeof article.fullxml === "string" && article.fullxml.indexOf("<body") > 0 && article.fullxml.lastIndexOf("</body>") > 0;
    }
    exports_23("hasArticleContentXml", hasArticleContentXml);
    return {
        setters: [
            function (util_2_1) {
                util_2 = util_2_1;
            }
        ],
        execute: function () {
        }
    };
});
System.register("components/article.css", [], function (exports_24, context_24) {
    "use strict";
    var __moduleName = context_24 && context_24.id;
    return {
        setters: [],
        execute: function () {
            exports_24("default", {
                "counter": "src-components-counter",
                "counterCount": "src-components-counterCount",
                "smallCounter": "src-components-smallCounter",
                "title": "src-components-title",
                "detailTimeline": "src-components-detailTimeline",
                "detailAffiliations": "src-components-detailAffiliations",
                "detailAffiliationsLabel": "src-components-detailAffiliationsLabel",
                "detailAffiliationsDescNoLabel": "src-components-detailAffiliationsDescNoLabel",
                "detailAffiliationsDesc": "src-components-detailAffiliationsDesc",
                "detailIssue": "src-components-detailIssue",
                "detailList": "src-components-detailList",
                "detailLabel": "src-components-detailLabel",
                "detailDefinitionCopyright": "src-components-detailDefinitionCopyright",
                "detailDefinition": "src-components-detailDefinition",
                "doiLink": "src-components-doiLink",
                "emailLink": "src-components-emailLink",
                "paginationLinks": "src-components-paginationLinks",
                "prevLinkWrap": "src-components-prevLinkWrap src-components-paginationLinks",
                "downloadWrap": "src-components-downloadWrap",
                "prevLink": "src-components-prevLink src-components-Search-Pagination-itemLink",
                "nextLink": "src-components-nextLink src-components-Search-Pagination-itemLink",
                "nextLinkWrap": "src-components-nextLinkWrap src-components-paginationLinks",
                "prevNextLinkText": "src-components-prevNextLinkText",
                "prevNextSection": "src-components-prevNextSection",
                "content": "src-components-content",
                "table-wrap": "src-components-table-wrap",
                "table-caption": "src-components-table-caption",
                "table-footnote": "src-components-table-footnote",
                "bibref": "src-components-bibref",
                "bibrefLabel": "src-components-bibrefLabel",
                "bibrefBody": "src-components-bibrefBody",
                "citationCode": "src-components-citationCode"
            });
        }
    };
});
System.register("components/links.css", [], function (exports_25, context_25) {
    "use strict";
    var __moduleName = context_25 && context_25.id;
    return {
        setters: [],
        execute: function () {
            exports_25("default", {
                "link": "src-components-link",
                "button": "src-components-button",
                "series": "src-components-series",
                "seriesLabel": "src-components-seriesLabel",
                "seriesLink": "src-components-seriesLink"
            });
        }
    };
});
System.register("components/links", ["components/links.css"], function (exports_26, context_26) {
    "use strict";
    var links_css_1, Link, BackLink;
    var __moduleName = context_26 && context_26.id;
    return {
        setters: [
            function (links_css_1_1) {
                links_css_1 = links_css_1_1;
            }
        ],
        execute: function () {
            exports_26("Link", Link = function (_a) {
                var onClick = _a.onClick, download = _a.download, _b = _a.type, type = _b === void 0 ? "regular" : _b, href = _a.href, children = _a.children;
                return (React.createElement("a", { download: download, onClick: onClick, href: href, className: type === "button" ? links_css_1.default.button : links_css_1.default.link },
                    React.createElement("span", null, children)));
            });
            exports_26("BackLink", BackLink = function (_a) {
                var href = _a.href, title = _a.title, label = _a.label;
                return (React.createElement("div", { className: links_css_1.default.series },
                    React.createElement("div", null,
                        label && React.createElement("span", { className: links_css_1.default.seriesLabel }, label),
                        React.createElement("a", { href: href, className: links_css_1.default.seriesLink }, title))));
            });
        }
    };
});
System.register("components/listings.css", [], function (exports_27, context_27) {
    "use strict";
    var __moduleName = context_27 && context_27.id;
    return {
        setters: [],
        execute: function () {
            exports_27("default", {
                "numbering": "src-components-numbering",
                "summary": "src-components-summary",
                "publishedIn": "src-components-publishedIn",
                "publishedInLink": "src-components-publishedInLink",
                "links": "src-components-links",
                "pages": "src-components-pages",
                "listItem": "src-components-listItem",
                "fauxList": "src-components-fauxList",
                "overrideContent": "src-components-overrideContent",
                "metaline": "src-components-metaline",
                "leading": "src-components-leading",
                "leading2": "src-components-leading2",
                "imagesList": "src-components-imagesList",
                "imagesListItem": "src-components-imagesListItem src-components-listItem",
                "imagesListItemImageContainer": "src-components-imagesListItemImageContainer",
                "imagesListItemText": "src-components-imagesListItemText",
                "dottedList": "src-components-dottedList",
                "metaContainer": "src-components-metaContainer",
                "metaList": "src-components-metaList",
                "metaLabel": "src-components-metaLabel",
                "metaDefinition": "src-components-metaDefinition",
                "-webkit-filter": "src-components-filter",
                "filter": "src-components-filter",
                "filterLabel": "src-components-filterLabel",
                "filterItem": "src-components-filterItem",
                "active": "src-components-active",
                "volumenr": "src-components-volumenr"
            });
        }
    };
});
System.register("domain/publication", [], function (exports_28, context_28) {
    "use strict";
    var PubState;
    var __moduleName = context_28 && context_28.id;
    function filterByStatus(publications, show) {
        return publications.filter(function (publication) {
            return show === PubState.PUBLISHED
                ? publication.state === "PUBLISHED"
                : publication.state === "UPCOMING";
        });
    }
    exports_28("filterByStatus", filterByStatus);
    return {
        setters: [],
        execute: function () {
            (function (PubState) {
                PubState[PubState["UPCOMING"] = 0] = "UPCOMING";
                PubState[PubState["PUBLISHED"] = 1] = "PUBLISHED";
            })(PubState || (PubState = {}));
            exports_28("PubState", PubState);
        }
    };
});
System.register("utils/style", [], function (exports_29, context_29) {
    "use strict";
    var classes;
    var __moduleName = context_29 && context_29.id;
    return {
        setters: [],
        execute: function () {
            exports_29("classes", classes = function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i] = arguments[_i];
                }
                return args.filter(function (val) { return val; }).join(" ");
            });
        }
    };
});
System.register("components/listings", ["domain/article", "utils/utils", "components/listings.css", "domain/formatting", "domain/util", "domain/publication", "utils/style", "components/links"], function (exports_30, context_30) {
    "use strict";
    var article_1, utils_8, listings_css_1, formatting_4, util_3, publication_1, style_1, links_1, ListItem, NewsListItem, VolumeListing, ListWithImages, AuthorList, LinkList, renderAuthors, ProceedingsArticleListing, JournalArticleListing, IssueListing, ArticleLinks, MetaBlock, MetaList, ArticleList, ProceedingsList, ProceedingsListTitles;
    var __moduleName = context_30 && context_30.id;
    function getVolumeDescription(article) {
        return article.proofingState === "FINAL" ?
            [
                article.issue && article.issue.volume && "Volume " + article.issue.volume,
                article.issue && "Issue " + (article.issue.issueDescription || article.issue.issueNumber),
                formatting_4.formatArticlePublicationDate(article, "textual"),
                article.firstPageInPublication && article.lastPageInPublication && "Pages " + article.firstPageInPublication + "-" + article.lastPageInPublication
            ] : [
            "In Press",
            article.proofingState === "UNCORRECTED_PROOF"
                ? "Uncorrected Proof"
                : "Corrected Proof",
            article.publicationDate ? "Available Online: " + formatting_4.formatArticlePublicationDate(article, "textual") : ""
        ];
    }
    return {
        setters: [
            function (article_1_1) {
                article_1 = article_1_1;
            },
            function (utils_8_1) {
                utils_8 = utils_8_1;
            },
            function (listings_css_1_1) {
                listings_css_1 = listings_css_1_1;
            },
            function (formatting_4_1) {
                formatting_4 = formatting_4_1;
            },
            function (util_3_1) {
                util_3 = util_3_1;
            },
            function (publication_1_1) {
                publication_1 = publication_1_1;
            },
            function (style_1_1) {
                style_1 = style_1_1;
            },
            function (links_1_1) {
                links_1 = links_1_1;
            }
        ],
        execute: function () {
            exports_30("ListItem", ListItem = function (_a) {
                var title = _a.title, url = _a.url, authors = _a.authors, volumeDescription = _a.volumeDescription, children = _a.children;
                return (React.createElement("div", { className: listings_css_1.default.listItem },
                    React.createElement("h2", null, url ? React.createElement("a", { href: url }, title) : title),
                    authors && React.createElement("div", { className: listings_css_1.default.leading }, authors),
                    volumeDescription && volumeDescription.filter(function (f) { return !!f; }).length &&
                        React.createElement("div", { className: listings_css_1.default.leading2 }, volumeDescription.filter(function (f) { return !!f; }).join(", ")),
                    children));
            });
            exports_30("NewsListItem", NewsListItem = function (_a) {
                var title = _a.title, url = _a.url, dateline = _a.dateline, intro = _a.intro;
                return (React.createElement("div", { className: listings_css_1.default.listItem },
                    React.createElement("h2", null, url ? React.createElement("a", { href: url }, title) : title),
                    React.createElement("p", null, dateline && React.createElement("span", { className: listings_css_1.default.leading2 },
                        dateline,
                        React.createElement("br", null))),
                    intro,
                    React.createElement("span", { className: "textContent" },
                        " ",
                        React.createElement("a", { href: url }, "Read full article"))));
            });
            exports_30("VolumeListing", VolumeListing = function (_a) {
                var volumes = _a.volumes;
                return (React.createElement("div", null, volumes.map(function (item, k) { return (React.createElement(ListItem, { key: k, url: item.state === "PUBLISHED" && "/proceedings/" + item.code, authors: "Editors: " + (item.editors ? item.editors.replace(/\s*<br>/g, "; ") : ""), title: item.title, volumeDescription: [
                        item.seriesVolume && "Volume " + item.seriesVolume || "",
                        item.state === "PUBLISHED" && (item.publicationDate && formatting_4.formatIssuePublicationDate(item, "textual") || "")
                    ] })); })));
            });
            exports_30("ListWithImages", ListWithImages = function (_a) {
                var items = _a.items, imageRenderer = _a.imageRenderer, contentRenderer = _a.contentRenderer;
                return (React.createElement("div", { className: listings_css_1.default.imagesList }, items && items.map(function (item, k) { return (React.createElement("article", { key: k, className: listings_css_1.default.imagesListItem },
                    React.createElement("div", { className: listings_css_1.default.imagesListItemImageContainer }, imageRenderer(item)),
                    React.createElement("div", { className: listings_css_1.default.imagesListItemText }, contentRenderer(item)))); })));
            });
            AuthorList = (function (_super) {
                __extends(AuthorList, _super);
                function AuthorList() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                AuthorList.prototype.render = function () {
                    var authors = this.props.authors;
                    return (React.createElement("dl", { className: listings_css_1.default.metaList }, authors.map(function (author) { return (author.article && author.article.title
                        && ([
                            React.createElement("dt", { className: listings_css_1.default.metaLabel, dangerouslySetInnerHTML: { __html: formatting_4.formatAuthorName(author, "formal") } }),
                            React.createElement("dd", { className: listings_css_1.default.metaDefinition },
                                React.createElement("a", { href: article_1.articleUrl(author.article) }, author.article.title))
                        ])); })));
                };
                return AuthorList;
            }(React.Component));
            exports_30("AuthorList", AuthorList);
            exports_30("LinkList", LinkList = function (_a) {
                var items = _a.items;
                return (React.createElement("ul", { className: listings_css_1.default.dottedList }, items.map(function (item) { return React.createElement("li", null, item); })));
            });
            renderAuthors = function (authors) { return ((authors && authors.length > 0)
                ? authors.map(function (author) { return (author.firstName + " " + author.lastName); }).join(", ")
                : ""); };
            exports_30("ProceedingsArticleListing", ProceedingsArticleListing = function (_a) {
                var articles = _a.articles;
                return (React.createElement("div", null, articles.map(function (article, k) { return (React.createElement(ListItem, { title: article.title, url: "/article/" + article.id, authors: renderAuthors(article.authors), volumeDescription: [
                        "Volume " + article.proceedings.seriesVolume,
                        "" + article.proceedings.title,
                        article.proceedings.publicationDate && formatting_4.formatIssuePublicationDate(article.proceedings, "textual")
                    ], key: k })); })));
            });
            exports_30("JournalArticleListing", JournalArticleListing = function (_a) {
                var articles = _a.articles;
                return (React.createElement("div", null, articles.map(function (article, k) { return (React.createElement(ListItem, { title: article.title, url: "/article/" + article.id, authors: renderAuthors(article.authors), volumeDescription: getVolumeDescription(article), key: k })); })));
            });
            exports_30("IssueListing", IssueListing = function (_a) {
                var journal = _a.journal, issues = _a.issues;
                return (React.createElement("div", null, issues.map(function (issue, k) { return (React.createElement(ListItem, { title: issue.supplementTitle, volumeDescription: [
                        issue.volume && "Volume " + issue.volume,
                        (issue.issueDescription || issue.issueNumber) && "Issue " + (issue.issueDescription || issue.issueNumber),
                        issue.issueDate && formatting_4.formatIssuePublicationDate(issue, "textual")
                    ], url: "/journals/" + journal.code + "/issue/" + issue.id, authors: (issue.isSupplement ? "Guest Editors: " : "") + (issue.editors && issue.editors.replace(/\s*<br>/g, "; ") || ""), key: k })); })));
            });
            exports_30("ArticleLinks", ArticleLinks = function (_a) {
                var detailsUrl = _a.detailsUrl, article = _a.article, revision = _a.revision;
                return (React.createElement("p", null,
                    detailsUrl && React.createElement("span", null,
                        React.createElement(links_1.Link, { href: detailsUrl }, "Article details"),
                        React.createElement("br", null)),
                    React.createElement(links_1.Link, { href: article_1.getPdfUrl(article, revision) }, "Download article (PDF)"),
                    React.createElement("br", null),
                    article_1.hasArticleContentXml(article) &&
                        React.createElement(links_1.Link, { href: article_1.viewArticleUrl(article, revision) }, "View full text (HTML)")));
            });
            exports_30("MetaBlock", MetaBlock = function (_a) {
                var items = _a.items;
                return (React.createElement("div", { className: listings_css_1.default.metaContainer + " textContent" },
                    React.createElement(MetaList, { items: items })));
            });
            exports_30("MetaList", MetaList = function (_a) {
                var items = _a.items;
                return (React.createElement("dl", { className: listings_css_1.default.metaList }, items.map(function (_a, k) {
                    var _b = __read(_a, 2), title = _b[0], value = _b[1];
                    return [
                        React.createElement("dt", { key: k, className: listings_css_1.default.metaLabel }, title),
                        React.createElement("dd", { key: "v_" + k, className: listings_css_1.default.metaDefinition }, value)
                    ];
                })));
            });
            ArticleList = (function (_super) {
                __extends(ArticleList, _super);
                function ArticleList() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ArticleList.prototype.render = function () {
                    var _this = this;
                    var _a = this.props, articles = _a.articles, context = _a.context;
                    return (React.createElement("div", null, articles.map(function (article, i) {
                        var link = article_1.articleUrl(article);
                        return (React.createElement(ListItem, { key: i, title: React.createElement("span", null,
                                _this.props.showNumbering && React.createElement("span", { className: listings_css_1.default.numbering },
                                    i + 1,
                                    ". "),
                                React.createElement("a", { href: link, dangerouslySetInnerHTML: { __html: article.title } })) },
                            util_3.isArticleDetail(article) &&
                                React.createElement("div", { className: listings_css_1.default.leading }, renderAuthors(article.authors)),
                            context === "global" &&
                                util_3.isJournalArticle(article) &&
                                React.createElement("div", { className: listings_css_1.default.publishedIn },
                                    "Published in: ",
                                    React.createElement("a", { className: listings_css_1.default.publishedInLink, href: article_1.publicationUrl(article) }, article.journal.name)),
                            util_3.isJournalArticle(article) && context === "articles-in-press" &&
                                React.createElement("div", { className: listings_css_1.default.leading2 }, getVolumeDescription(article).filter(function (f) { return !!f; }).join(", ")),
                            util_3.isJournalArticle(article) && context !== "articles-in-press" && article.issue &&
                                React.createElement("div", { className: listings_css_1.default.leading2 },
                                    "Pages: ",
                                    article.firstPageInPublication,
                                    " - ",
                                    article.lastPageInPublication),
                            article.summary && React.createElement("div", { className: listings_css_1.default.summary, dangerouslySetInnerHTML: { __html: utils_8.truncateText(article.summary, 300, "...") } }),
                            React.createElement("div", { className: listings_css_1.default.links },
                                React.createElement(ArticleLinks, { detailsUrl: link, article: article }))));
                    })));
                };
                return ArticleList;
            }(React.Component));
            exports_30("ArticleList", ArticleList);
            ProceedingsList = (function (_super) {
                __extends(ProceedingsList, _super);
                function ProceedingsList(props) {
                    var _this = _super.call(this, props) || this;
                    _this.state = {
                        filter: publication_1.PubState.PUBLISHED,
                    };
                    return _this;
                }
                ProceedingsList.prototype.handleFilterChange = function (value) {
                    this.setState({
                        filter: value,
                    });
                };
                ProceedingsList.prototype.render = function () {
                    var _this = this;
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("components/listings", "ProceedingsList", this.props);
                    }
                    var publications = publication_1.filterByStatus(this.props.publications, this.state.filter);
                    return (React.createElement("div", null,
                        React.createElement("div", { id: elementId },
                            React.createElement("div", { className: listings_css_1.default.filter },
                                React.createElement("span", { onClick: function () { return _this.handleFilterChange(publication_1.PubState.PUBLISHED); }, className: style_1.classes(listings_css_1.default.filterItem, this.state.filter === publication_1.PubState.PUBLISHED && listings_css_1.default.active) }, "Published"),
                                React.createElement("span", { onClick: function () { return _this.handleFilterChange(publication_1.PubState.UPCOMING); }, className: style_1.classes(listings_css_1.default.filterItem, this.state.filter === publication_1.PubState.UPCOMING && listings_css_1.default.active) }, "Upcoming")),
                            React.createElement(ProceedingsListTitles, { isShowVolumes: this.props.isShowVolumes, proceedings: publications }))));
                };
                return ProceedingsList;
            }(React.Component));
            exports_30("ProceedingsList", ProceedingsList);
            exports_30("ProceedingsListTitles", ProceedingsListTitles = function (_a) {
                var isShowVolumes = _a.isShowVolumes, proceedings = _a.proceedings;
                return (React.createElement(LinkList, { items: proceedings.map(function (item, i) { return (item.state === "PUBLISHED" ?
                        React.createElement("a", { href: "/proceedings/" + item.code },
                            isShowVolumes && item.seriesVolume && React.createElement("span", { className: listings_css_1.default.volumenr },
                                item.seriesVolume,
                                "."),
                            React.createElement("span", null, item.name))
                        :
                            React.createElement("div", null,
                                isShowVolumes && item.seriesVolume && React.createElement("span", { className: listings_css_1.default.volumenr },
                                    item.seriesVolume,
                                    "."),
                                item.name)); }) }));
            });
        }
    };
});
System.register("components/Tabs/index.css", [], function (exports_31, context_31) {
    "use strict";
    var __moduleName = context_31 && context_31.id;
    return {
        setters: [],
        execute: function () {
            exports_31("default", {
                "tabs": "src-components-Tabs-tabs",
                "tabsNonJustified": "src-components-Tabs-tabsNonJustified",
                "tab": "src-components-Tabs-tab",
                "spacer": "src-components-Tabs-spacer",
                "tabActive": "src-components-Tabs-tabActive",
                "tabContent": "src-components-Tabs-tabContent"
            });
        }
    };
});
System.register("components/Tabs/index", ["components/Tabs/index.css", "components/listings.css"], function (exports_32, context_32) {
    "use strict";
    var index_css_11, listings_css_2, TabControls, TabContent, ConditionalOverride, Tabs;
    var __moduleName = context_32 && context_32.id;
    return {
        setters: [
            function (index_css_11_1) {
                index_css_11 = index_css_11_1;
            },
            function (listings_css_2_1) {
                listings_css_2 = listings_css_2_1;
            }
        ],
        execute: function () {
            exports_32("TabControls", TabControls = function (_a) {
                var labels = _a.labels, activeTabIndex = _a.activeTabIndex, onTabChange = _a.onTabChange, _b = _a.justified, justified = _b === void 0 ? true : _b;
                return (React.createElement("div", { className: index_css_11.default.tabs + " " + (justified ? "" : index_css_11.default.tabsNonJustified) },
                    labels.map(function (label, i) {
                        return React.createElement("a", { key: i, className: index_css_11.default.tab + " " + (activeTabIndex === i && index_css_11.default.tabActive), onClick: function () { return onTabChange(i, activeTabIndex); } }, label);
                    }),
                    !justified && React.createElement("span", { className: index_css_11.default.spacer })));
            });
            exports_32("TabContent", TabContent = function (_a) {
                var activeTabIndex = _a.activeTabIndex, contents = _a.contents;
                return (React.createElement("div", { style: { clear: "left" } }, contents
                    .filter(function (content, i) { return i === activeTabIndex; })
                    .map(function (content, k) {
                    return React.createElement("div", { key: k, className: index_css_11.default.tabContent }, content);
                })));
            });
            exports_32("ConditionalOverride", ConditionalOverride = function (_a) {
                var override = _a.override, moreLink = _a.moreLink, children = _a.children;
                return (override && override.trim().length
                    ? React.createElement("div", null,
                        React.createElement("div", { className: listings_css_2.default.overrideContent, dangerouslySetInnerHTML: { __html: override } }),
                        moreLink && React.createElement("p", { className: "textContent" }, moreLink))
                    : React.createElement("div", null, children));
            });
            Tabs = (function (_super) {
                __extends(Tabs, _super);
                function Tabs() {
                    var _this = _super !== null && _super.apply(this, arguments) || this;
                    _this.state = {
                        tab: 0
                    };
                    return _this;
                }
                Tabs.prototype.render = function () {
                    var _this = this;
                    return (React.createElement("div", null,
                        React.createElement(TabControls, { justified: this.props.justify, activeTabIndex: this.state.tab, onTabChange: function (i) {
                                _this.setState({ tab: i });
                            }, labels: this.props.tabs }),
                        React.createElement(TabContent, { activeTabIndex: this.state.tab, contents: this.props.children })));
                };
                return Tabs;
            }(React.Component));
            exports_32("default", Tabs);
        }
    };
});
System.register("components/article", ["domain/article", "components/article.css", "utils/utils", "domain/util", "domain/formatting", "components/links", "components/listings", "components/Tabs/index", "components/Form/message"], function (exports_33, context_33) {
    "use strict";
    var article_2, article_css_1, utils_9, util_4, formatting_5, links_2, listings_1, Tabs_1, message_2, ArticleMetaBlock, Citation, Cite, ArticleListCounter, Counter, SmallCounter, ArticleDetails, Article, formatReferenceAuthors, formatNaturalHumanList, commaList, referenceFormatter, Paginator, Reference, FootNote, ArticleViewer;
    var __moduleName = context_33 && context_33.id;
    function getArticleFigureImageUrl(href) {
        if (!href) {
            return;
        }
        var publicId = href.substr(0, href.lastIndexOf("-"));
        return "/assets/articles/" + publicId + "/" + href.replace(/\.tif$/i, ".png");
    }
    exports_33("getArticleFigureImageUrl", getArticleFigureImageUrl);
    return {
        setters: [
            function (article_2_1) {
                article_2 = article_2_1;
            },
            function (article_css_1_1) {
                article_css_1 = article_css_1_1;
            },
            function (utils_9_1) {
                utils_9 = utils_9_1;
            },
            function (util_4_1) {
                util_4 = util_4_1;
            },
            function (formatting_5_1) {
                formatting_5 = formatting_5_1;
            },
            function (links_2_1) {
                links_2 = links_2_1;
            },
            function (listings_1_1) {
                listings_1 = listings_1_1;
            },
            function (Tabs_1_1) {
                Tabs_1 = Tabs_1_1;
            },
            function (message_2_1) {
                message_2 = message_2_1;
            }
        ],
        execute: function () {
            ArticleMetaBlock = (function (_super) {
                __extends(ArticleMetaBlock, _super);
                function ArticleMetaBlock() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ArticleMetaBlock.prototype.render = function () {
                    var _a = this.props, article = _a.article, metaData = _a.metaData;
                    var metas = [];
                    if (util_4.isJournalArticle(article)) {
                        metas.push(["Journal", React.createElement("a", { href: article_2.publicationUrl(article) }, article.journal.name)]);
                        if (article.issue && article.proofingState === "FINAL") {
                            metas.push(["Volume-Issue", article.issue.volume + " - " + article.issue.issueNumber]);
                        }
                        if (article.firstPageInPublication) {
                            metas.push(["Pages", article.firstPageInPublication + " - " + article.lastPageInPublication]);
                        }
                        metas.push(["Publication Date", formatting_5.formatArticlePublicationDate(article, "numeric")]);
                        if (article.issue && article.issue.isbn) {
                            metas.push(["ISBN", article.issue.isbn]);
                        }
                        if (article.journal.issn) {
                            metas.push(["ISSN", article.journal.issn]);
                        }
                    }
                    else if (util_4.isProceedingsArticle(article)) {
                        metas.push(["Proceedings", React.createElement("a", { href: article_2.publicationUrl(article) }, article.proceedings.name)]);
                        if (article.proceedings.series) {
                            metas.push([
                                "Part of series",
                                React.createElement("a", { href: "/proceedings/series/" + article.proceedings.series.code.toLowerCase() }, article.proceedings.series.name)
                            ]);
                        }
                        metas.push(["Publication Date", formatting_5.formatArticlePublicationDate(article)]);
                        if (article.proceedings.isbn) {
                            metas.push(["ISBN", article.proceedings.isbn]);
                        }
                        if (article.proceedings.series && article.proceedings.series.issn) {
                            metas.push(["ISSN", article.proceedings.series.issn]);
                        }
                    }
                    var doi = formatting_5.formatDOI(article);
                    if (doi) {
                        metas.push([
                            "DOI",
                            [
                                React.createElement("a", { key: "doi", href: "https://dx.doi.org/" + doi }, "https://doi.org/" + doi),
                                React.createElement("a", { key: "doi_info", style: { fontSize: "0.7rem", marginLeft: 20 }, href: "/using-dois" }, "How to use a DOI?")
                            ]
                        ]);
                    }
                    if (metaData && metaData.permissions) {
                        metas.push([
                            "Copyright",
                            (metaData && metaData.permissions)
                                ? (metaData.permissions.copyrightStatement || ("© " + metaData.permissions.copyrightYear))
                                : "© The authors."
                        ]);
                    }
                    metas.push([
                        "Open Access",
                        (metaData && metaData.license)
                            ? React.createElement("span", { dangerouslySetInnerHTML: { __html: metaData.license.description } })
                            : React.createElement("span", null,
                                "This is an open access article distributed under the ",
                                React.createElement("a", { href: "https://creativecommons.org/licenses/by-nc/4.0/" }, "CC BY-NC license"),
                                ".")
                    ]);
                    return (React.createElement(listings_1.MetaBlock, { items: metas }));
                };
                return ArticleMetaBlock;
            }(React.Component));
            Citation = function (_a) {
                var code = _a.code, suffix = _a.suffix;
                var download = null;
                try {
                    download = "data:text/plain;base64," + utils_9.base64encode(code);
                }
                catch (e) {
                    console.warn("Could not encode data");
                }
                return (React.createElement("div", null,
                    React.createElement("pre", { className: article_css_1.default.citationCode }, code),
                    React.createElement("div", null,
                        download && React.createElement(links_2.Link, { href: download, download: "citation." + suffix },
                            "download .",
                            suffix),
                        React.createElement("span", { style: { paddingLeft: "14px" } }),
                        React.createElement(links_2.Link, { type: "button", onClick: function (e) {
                                e.preventDefault();
                                utils_9.copyToClipboard(code);
                            }, href: "" }, "copy to clipboard"))));
            };
            Cite = (function (_super) {
                __extends(Cite, _super);
                function Cite() {
                    var _this = _super !== null && _super.apply(this, arguments) || this;
                    _this.supportedFormats = [
                        ["ris", function (article) {
                                var stringifyLines = function (props) {
                                    return Object.keys(props)
                                        .map(function (key) {
                                        if (props[key]) {
                                            if (Array.isArray(props[key])) {
                                                return props[key].map(function (item) { return key + "  - " + item; }).join("\n");
                                            }
                                            else {
                                                return key + "  - " + props[key];
                                            }
                                        }
                                    })
                                        .filter(function (line) { return !!line; })
                                        .join("\n");
                                };
                                var lines = {
                                    TY: util_4.isJournalArticle(article) ? "JOUR" : "CONF",
                                    AU: (article.authors || []).map(function (v) { return formatting_5.formatAuthorName(v); }),
                                    PY: formatting_5.formatArticlePublicationDate(article, "year"),
                                    DA: formatting_5.formatArticlePublicationDate(article, "numeric"),
                                    TI: article.title,
                                    JO: util_4.isJournalArticle(article) && article.journal.name,
                                    BT: util_4.isProceedingsArticle(article) && article.proceedings.name,
                                    PB: util_4.isProceedingsArticle(article) && "Atlantis Press",
                                    SP: article.firstPageInPublication,
                                    EP: article.lastPageInPublication,
                                    VL: util_4.isJournalArticle(article) && article.issue && article.issue.volume,
                                    IS: util_4.isJournalArticle(article) && article.issue && (article.issue.issueDescription || article.issue.issueNumber),
                                    SN: util_4.isJournalArticle(article) && article.journal.issn || util_4.isProceedingsArticle(article) && article.proceedings.series && article.proceedings.series.issn,
                                    UR: formatting_5.getUrl(article),
                                    DO: article.doi && formatting_5.formatDOI(article, true),
                                    ID: formatting_5.getLabel(article),
                                };
                                return stringifyLines(lines) + "\nER  -\n";
                            }],
                        ["enw", function (article) {
                                var stringifyLines = function (props) {
                                    return Object.keys(props)
                                        .map(function (key) {
                                        if (props[key]) {
                                            if (Array.isArray(props[key])) {
                                                return props[key].map(function (item) { return key + " " + item; }).join("\n");
                                            }
                                            else {
                                                return key + " " + props[key];
                                            }
                                        }
                                    })
                                        .filter(function (line) { return line; })
                                        .join("\n");
                                };
                                var lines = {
                                    "%0": util_4.isJournalArticle(article) ? "Journal Article" : "Conference Proceedings",
                                    "%T": article.title,
                                    "%A": (article.authors || []).map(function (v) { return formatting_5.formatAuthorName(v); }),
                                    "%J": util_4.isJournalArticle(article) && article.journal.name,
                                    "%S": util_4.isProceedingsArticle(article) && article.proceedings.name,
                                    "%I": util_4.isProceedingsArticle(article) && "Atlantis Press",
                                    "%D": formatting_5.formatArticlePublicationDate(article, "year"),
                                    "%8": formatting_5.formatArticlePublicationDate(article, "iso"),
                                    "%P": article.firstPageInPublication && article.firstPageInPublication + "-" + article.lastPageInPublication,
                                    "%V": util_4.isJournalArticle(article) && article.issue && article.issue.volume,
                                    "%N": util_4.isJournalArticle(article) && article.issue && (article.issue.issueDescription || article.issue.issueNumber),
                                    "%@": util_4.isJournalArticle(article) && article.journal.issn || util_4.isProceedingsArticle(article) && article.proceedings.series && article.proceedings.series.issn,
                                    "%U": formatting_5.getUrl(article),
                                    "%R": article.doi && formatting_5.formatDOI(article, true),
                                    "%F": formatting_5.getLabel(article),
                                };
                                return stringifyLines(lines) + "\n";
                            }
                        ],
                        ["bib", function (article) {
                                var stringifyLines = function (props) {
                                    return Object.keys(props)
                                        .filter(function (k) { return props[k]; })
                                        .map(function (k) { return k + "={" + props[k] + "}"; })
                                        .join(",\n  ");
                                };
                                var lines = {
                                    title: article.title,
                                    author: article.authors && article.authors.map(function (v) { return formatting_5.formatAuthorName(v); }).join(" and "),
                                    year: formatting_5.formatArticlePublicationDate(article, "year"),
                                    booktitle: util_4.isProceedingsArticle(article) && article.proceedings.name,
                                    journal: util_4.isJournalArticle(article) && article.journal.name,
                                    volume: util_4.isJournalArticle(article) && article.issue && article.issue.volume,
                                    issue: util_4.isJournalArticle(article) && article.issue && (article.issue.issueDescription || article.issue.issueNumber),
                                    pages: article.firstPageInPublication && article.firstPageInPublication + "-" + article.lastPageInPublication,
                                    issn: util_4.isJournalArticle(article) && article.journal.issn || util_4.isProceedingsArticle(article) && article.proceedings.series && article.proceedings.series.issn,
                                    isbn: util_4.isJournalArticle(article) && article.issue && article.issue.isbn || util_4.isProceedingsArticle(article) && article.proceedings.isbn,
                                    url: formatting_5.getUrl(article),
                                    doi: article.doi && formatting_5.formatDOI(article, true),
                                    publisher: util_4.isProceedingsArticle(article) && "Atlantis Press",
                                };
                                var label = formatting_5.getLabel(article);
                                var type = util_4.isJournalArticle(article) ? "article" : "inproceedings";
                                return "@" + type + "{" + label + ",\n  " + stringifyLines(lines) + "\n}";
                            }]
                    ];
                    return _this;
                }
                Cite.prototype.render = function () {
                    var _this = this;
                    var id = (typeof window === "undefined" ? utils_9.registerClientsideComponent("components/article", "Cite", this.props) : undefined);
                    return (React.createElement("div", null,
                        React.createElement("div", { id: id },
                            React.createElement("h3", null, "Cite this article"),
                            React.createElement(Tabs_1.default, { justify: false, tabs: this.supportedFormats.map(function (_a) {
                                    var _b = __read(_a, 1), name = _b[0];
                                    return name;
                                }) }, this.supportedFormats.map(function (_a, k) {
                                var _b = __read(_a, 2), name = _b[0], formatter = _b[1];
                                return React.createElement(Citation, { key: k, code: formatter(_this.props.article), suffix: name });
                            })))));
                };
                return Cite;
            }(React.Component));
            exports_33("Cite", Cite);
            exports_33("ArticleListCounter", ArticleListCounter = function (_a) {
                var count = _a.count;
                return (React.createElement(Counter, { count: count, what: "articles" }));
            });
            exports_33("Counter", Counter = function (_a) {
                var count = _a.count, what = _a.what;
                return (React.createElement("div", { className: article_css_1.default.counter },
                    React.createElement("span", { className: article_css_1.default.counterCount }, count),
                    " ",
                    what));
            });
            exports_33("SmallCounter", SmallCounter = function (_a) {
                var children = _a.children;
                return (React.createElement("div", { className: article_css_1.default.smallCounter }, children));
            });
            ArticleDetails = (function (_super) {
                __extends(ArticleDetails, _super);
                function ArticleDetails() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ArticleDetails.prototype.renderAuthors = function (authorData) {
                    var _this = this;
                    var groups = authorData.contribGroups;
                    return ([
                        React.createElement("dt", { key: "authors", className: article_css_1.default.detailLabel }, "Authors"),
                        React.createElement("dd", { key: "v_authors", className: article_css_1.default.detailDefinition },
                            groups.map(function (group, groupIndex) {
                                var first = true;
                                return (React.createElement("div", { key: groupIndex },
                                    group.authors.map(function (author, index) {
                                        return React.createElement("span", { key: index },
                                            first ? (first = false) : ", ",
                                            React.createElement("span", null,
                                                author.name,
                                                author.refs &&
                                                    author.refs.map(function (aff, affIdx) {
                                                        return React.createElement("sup", null,
                                                            affIdx > 0 ? ", " : "",
                                                            React.createElement("a", { href: "#" + aff.id }, aff.label));
                                                    }),
                                                author.refs && author.email && React.createElement("sup", null, ", "),
                                                author.email &&
                                                    React.createElement("a", { className: article_css_1.default.emailLink, title: author.email, href: "mailto:" + author.email }, author.email)));
                                    }),
                                    _this.renderAffiliations(group.affiliations.map(function (aff) {
                                        return ({ key: aff.label, desc: aff.body });
                                    }))));
                            }),
                            authorData.authorNotes.map(function (footNote, k) {
                                return React.createElement("div", { key: "authorNote_" + k, className: article_css_1.default.detailAffiliations },
                                    React.createElement("div", null,
                                        footNote.label &&
                                            React.createElement("sup", { className: article_css_1.default.detailAffiliationsLabel }, footNote.label),
                                        React.createElement("span", { className: article_css_1.default.detailAffiliationsDesc, dangerouslySetInnerHTML: { __html: footNote.body.html } })));
                            }))
                    ]);
                };
                ArticleDetails.prototype.renderAffiliations = function (affiliations) {
                    return (React.createElement("div", { className: article_css_1.default.detailAffiliations }, affiliations.map(function (aff, k) {
                        return React.createElement("div", { key: k },
                            aff.key &&
                                React.createElement("sup", { className: article_css_1.default.detailAffiliationsLabel }, aff.key.replace(/[\.:]$/g, "")),
                            React.createElement("span", { className: aff.key ? article_css_1.default.detailAffiliationsDesc : article_css_1.default.detailAffiliationsDescNoLabel }, aff.desc));
                    })));
                };
                ArticleDetails.prototype.render = function () {
                    var _a = this.props, article = _a.article, metaData = _a.metaData;
                    var correspondingAuthor = article.authors && article.authors.find(function (a) { return a.correspondingAuthor; });
                    var doi = formatting_5.formatDOI(article);
                    var affiliations = [];
                    var authorsHtml;
                    if (metaData && metaData.authorData) {
                        authorsHtml = this.renderAuthors(metaData.authorData);
                        if (correspondingAuthor) {
                            metaData.authorData.contribGroups.forEach(function (ag) {
                                ag.authors.forEach(function (a) {
                                    if (correspondingAuthor.firstName + " " + correspondingAuthor.lastName === a.name) {
                                        correspondingAuthor.email = a.email;
                                    }
                                });
                            });
                        }
                    }
                    else {
                        authorsHtml =
                            [
                                React.createElement("dt", { key: "authors", className: article_css_1.default.detailLabel, id: "authors" }, "Authors"),
                                React.createElement("dd", { key: "v_authors", className: article_css_1.default.detailDefinition },
                                    React.createElement("div", { dangerouslySetInnerHTML: {
                                            __html: (article.authors || [])
                                                .sort(function (a, b) { return a.rank - b.rank; })
                                                .map(function (author, index) {
                                                var html = author.firstName + " " + author.lastName;
                                                if (author.affiliation) {
                                                    affiliations.push({
                                                        key: String.fromCharCode(index + 48),
                                                        desc: author.affiliation
                                                    });
                                                    if (affiliations[index]) {
                                                        html += " <sup>" + affiliations[index].key + "</sup>";
                                                    }
                                                }
                                                return html;
                                            }).join(", ")
                                        } }))
                            ];
                    }
                    var timeLineStr = util_4.isJournalArticle(article)
                        ? [
                            article.dateReceived && "Received " + formatting_5.formatDateLongDayFirst(article.dateReceived),
                            article.dateRevised && "Revised " + formatting_5.formatDateLongDayFirst(article.dateRevised),
                            article.dateAccepted && "Accepted " + formatting_5.formatDateLongDayFirst(article.dateAccepted),
                            "Available Online " + formatting_5.formatArticlePublicationDate(article, "textual")
                        ].filter(function (it) { return !!it; }).join(", ")
                        : "Available Online " + formatting_5.formatArticlePublicationDate(article, "textual");
                    globals.setRenderFlag("mathml", true);
                    return (React.createElement("div", null,
                        util_4.isJournalArticle(article) && article.proofingState === "FINAL" && article.issue &&
                            React.createElement("div", { className: article_css_1.default.detailIssue },
                                React.createElement("span", { style: { paddingRight: "1rem" } },
                                    React.createElement("a", { className: "textContent", href: "/journals/" + article.journal.code + "/issue/" + article.issue.id },
                                        "Volume ",
                                        article.issue.volume,
                                        ", ",
                                        "Issue ",
                                        article.issue.issueDescription || article.issue.issueNumber),
                                    ", ",
                                    formatting_5.formatIssuePublicationDate(article.issue, "textual"),
                                    ", ",
                                    "Pages ",
                                    article.firstPageInPublication,
                                    " - ",
                                    article.lastPageInPublication)),
                        util_4.isJournalArticle(article) && (article.proofingState !== "FINAL") &&
                            React.createElement("div", { className: article_css_1.default.detailIssue },
                                React.createElement("span", { style: { paddingRight: "1rem" } },
                                    React.createElement("a", { className: "textContent", href: "/journals/" + article.journal.code + "/articles-in-press" }, "In Press"),
                                    ", ",
                                    article.proofingState === "UNCORRECTED_PROOF" ? "Uncorrected Proof" : "Corrected Proof",
                                    article.dateAvailableOnline ? ", Available Online: " + formatting_5.formatArticlePublicationDate(article, "textual") : "")),
                        React.createElement("h1", { className: article_css_1.default.title }, article.title),
                        React.createElement("dl", { className: article_css_1.default.detailList },
                            authorsHtml,
                            correspondingAuthor &&
                                [
                                    React.createElement("dt", { key: "corrAuth", className: article_css_1.default.detailLabel }, "Corresponding Author"),
                                    React.createElement("dd", { key: "v_corrAuth", className: article_css_1.default.detailDefinition },
                                        correspondingAuthor.firstName,
                                        " ",
                                        correspondingAuthor.lastName,
                                        correspondingAuthor.email &&
                                            React.createElement("a", { className: article_css_1.default.emailLink, title: correspondingAuthor.email, href: "mailto:" + correspondingAuthor.email }, correspondingAuthor.email))
                                ]),
                        !!affiliations.length &&
                            this.renderAffiliations(affiliations),
                        timeLineStr &&
                            React.createElement("div", { className: article_css_1.default.detailTimeline },
                                timeLineStr,
                                "."),
                        React.createElement("dl", { className: article_css_1.default.detailList + " textContent" },
                            doi && [
                                React.createElement("dt", { key: "doi", className: article_css_1.default.detailLabel }, "DOI"),
                                React.createElement("dd", { key: "v_doi", className: article_css_1.default.detailDefinition },
                                    React.createElement("a", { href: "https://dx.doi.org/" + doi }, "https://doi.org/" + doi),
                                    React.createElement("a", { className: article_css_1.default.doiLink, href: "/using-dois" }, "How to use a DOI?"))
                            ],
                            React.createElement("dt", { className: article_css_1.default.detailLabel }, "Keywords"),
                            React.createElement("dd", { className: article_css_1.default.detailDefinition }, article.keywords),
                            article.summary && [
                                React.createElement("dt", { key: "summ", className: article_css_1.default.detailLabel, id: "abstract" }, "Abstract"),
                                React.createElement("dd", { key: "v_summ", className: article_css_1.default.detailDefinition },
                                    React.createElement("div", { dangerouslySetInnerHTML: { __html: article.summary } }))
                            ],
                            (metaData && metaData.permissions) && [
                                React.createElement("dt", { className: article_css_1.default.detailLabel }, "Copyright"),
                                React.createElement("dd", { className: article_css_1.default.detailDefinitionCopyright + " textContent" }, (metaData && metaData.permissions) ?
                                    (metaData.permissions.copyrightStatement || ("© " + metaData.permissions.copyrightYear))
                                    :
                                        "© The authors.")
                            ],
                            React.createElement("dt", { className: article_css_1.default.detailLabel }, "Open Access"),
                            React.createElement("dd", { className: article_css_1.default.detailDefinitionCopyright + " textContent" }, (metaData && metaData.license)
                                ? React.createElement("span", { dangerouslySetInnerHTML: { __html: metaData.license.description } })
                                : React.createElement("span", null,
                                    "This is an open access article distributed under the ",
                                    React.createElement("a", { href: "https://creativecommons.org/licenses/by-nc/4.0/" }, "CC BY-NC license"),
                                    ".")))));
                };
                return ArticleDetails;
            }(React.Component));
            exports_33("ArticleDetails", ArticleDetails);
            Article = (function (_super) {
                __extends(Article, _super);
                function Article() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                Article.getMetaTags = function (article, defaults) {
                    var link = article_2.articleUrl(article);
                    var publicationDate = formatting_5.formatArticlePublicationDate(article, "numeric");
                    var doi = formatting_5.formatDOI(article);
                    return Array.prototype.concat(React.createElement("title", null,
                        article.title,
                        " | ",
                        defaults.title), article.summary && React.createElement("meta", { name: "description", content: utils_9.truncateText(article.summary, 350, "...") }), React.createElement("meta", { name: "citation_title", content: article.title }), util_4.isArticleDetail(article) && article.authors.map(function (author) { return React.createElement("meta", { name: "citation_author", content: author.firstName + " " + author.lastName }); }), publicationDate && React.createElement("meta", { name: "citation_publication_date", content: publicationDate }), React.createElement("meta", { name: "citation_publisher", content: "Atlantis Press" }), util_4.isJournalArticle(article) && React.createElement("meta", { name: "citation_journal_title", content: article.journal.name }), util_4.isProceedingsArticle(article) &&
                        React.createElement("meta", { name: "citation_conference_title", content: article.proceedings.name }), React.createElement("meta", { name: "citation_pdf_url", content: article_2.getPdfUrl(article) }), React.createElement("meta", { name: "citation_abstract_html_url", content: "https://www.atlantis-press.com" + link }), React.createElement("meta", { name: "citation_keywords", content: article.keywords }), doi && React.createElement("meta", { name: "citation_doi", content: doi }), util_4.isJournalArticle(article) && article.issue && article.issue.volume &&
                        React.createElement("meta", { name: "citation_volume", content: article.issue.volume.toString() }), util_4.isJournalArticle(article) && article.issue && article.issue.issueNumber &&
                        React.createElement("meta", { name: "citation_issue", content: article.issue.issueNumber.toString() }), util_4.isJournalArticle(article) && article.journal.issn &&
                        React.createElement("meta", { name: "citation_issn", content: article.journal.issn }), article.firstPageInPublication &&
                        React.createElement("meta", { name: "citation_firstpage", content: article.firstPageInPublication.toString() }), article.lastPageInPublication &&
                        React.createElement("meta", { name: "citation_lastpage", content: article.lastPageInPublication.toString() }), util_4.isProceedingsArticle(article) && article.proceedings.isbn &&
                        React.createElement("meta", { name: "citation_isbn", content: article.proceedings.isbn }), util_4.isProceedingsArticle(article) && article.proceedings.series && article.proceedings.series.issn &&
                        React.createElement("meta", { name: "citation_issn", content: article.proceedings.series.issn }), React.createElement("link", { rel: "schema.dc", href: "http://purl.org/dc/elements/1.1/" }), React.createElement("meta", { name: "dc.title", content: article.title }), React.createElement("meta", { name: "dc.date", content: formatting_5.formatDate(publicationDate) }), util_4.isArticleDetail(article) && article.authors.map(function (author) { return React.createElement("meta", { name: "dc.contributor", content: author.firstName + " " + author.lastName }); }));
                };
                Article.prototype.jsonLD = function () {
                    var article = this.props.article;
                    var doi = formatting_5.formatDOI(article, true);
                    return {
                        "@type": "ScholarlyArticle",
                        "@id": "#article",
                        "headline": article.title,
                        "name": article.title,
                        "keywords": article.keywords,
                        "description": article.summary,
                        "pageStart": article.firstPageInPublication,
                        "pageEnd": article.lastPageInPublication,
                        "datePublished": formatting_5.formatArticlePublicationDate(article, "numeric"),
                        "url": article_2.getPdfUrl(article),
                        "sameAs": doi,
                        "author": article.authors && article.authors.map(function (a) { return ({
                            "@type": "Person",
                            "name": a.firstName + " " + a.lastName,
                        }); }),
                        "isPartof": {
                            url: article_2.partOfUrl(this.props.article)
                        },
                    };
                };
                Article.prototype.render = function () {
                    var _a = this.props, article = _a.article, revision = _a.revision, metaData = _a.metaData;
                    utils_9.collectJsonLD(this.jsonLD());
                    return (React.createElement("article", null,
                        revision && React.createElement(message_2.Message, { type: "notice" }, "You are previewing an unpublished revision."),
                        util_4.isJournalArticle(article) && article.state !== "PUBLISHED" && React.createElement(message_2.Message, { type: "notice" },
                            "This article is still in draft state and not published on the platform.",
                            React.createElement("br", null),
                            React.createElement("a", { href: "/admin/journals/" + article.journal_id + "/article/" + article.id + "/revisions" }, "Edit the status here.")),
                        React.createElement(ArticleDetails, { article: article, metaData: this.props.metaData }),
                        React.createElement("br", null),
                        React.createElement(listings_1.ArticleLinks, { article: article, revision: revision }),
                        React.createElement(ArticleMetaBlock, { article: article, metaData: metaData }),
                        React.createElement(Cite, { article: article })));
                };
                return Article;
            }(React.Component));
            exports_33("default", Article);
            formatReferenceAuthors = function (ref) { return (ref.authors && ref.authors.length ?
                formatNaturalHumanList(ref.authors)
                : ref["authors-collab"] && ref["authors-collab"].length
                    ? formatNaturalHumanList(ref["authors-collab"])
                    : ""); };
            formatNaturalHumanList = function (items) { return (items.length === 2
                ? items.join(" and ")
                : (items.length > 1
                    ? items.slice(0, -1).join(", ") + ", and "
                    : "") + items[items.length - 1]); };
            commaList = function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i] = arguments[_i];
                }
                return (args.filter(function (v) { return !!v; }).join(", "));
            };
            exports_33("referenceFormatter", referenceFormatter = function (ref) { return (commaList(formatReferenceAuthors(ref), ref.title, ref.source, ref.edition, ref["publisher-name"], ref["publisher-loc"], ref["conf-name"] && "in " + ref["conf-name"] + " (" + commaList(ref["conf-loc"], ref["conf-date"]) + ")", ref.volume && "Vol. " + ref.volume, ref.issue && "No. " + ref.issue, ref.season && ref.season, ref.year, (ref.fpage && ref.lpage) && "pp. " + ref.fpage + "-" + ref.lpage, (ref.fpage && !ref.lpage) && "pp. " + ref.fpage, (!ref.fpage && ref.lpage) && "pp. " + ref.lpage, ref.comment !== ref["comment-link"] && ref.comment.replace(/\.+$/, "")) + "."); });
            Paginator = function (_a) {
                var links = _a.links, article = _a.article;
                return (React.createElement("div", { className: article_css_1.default.prevNextSection },
                    links[0] &&
                        React.createElement("div", { className: article_css_1.default.prevLinkWrap },
                            React.createElement("a", { className: article_css_1.default.prevLink, href: links[0].url, title: links[0].title }, "<"),
                            React.createElement("span", { className: article_css_1.default.prevNextLinkText }, "Previous Article In Issue")),
                    React.createElement("div", { className: article_css_1.default.downloadWrap },
                        React.createElement(links_2.Link, { href: article_2.getPdfUrl(article) }, "Download article (PDF)"),
                        React.createElement("br", null)),
                    links[1] &&
                        React.createElement("div", { className: article_css_1.default.nextLinkWrap },
                            React.createElement("span", { className: article_css_1.default.prevNextLinkText }, "Next Article In Issue"),
                            React.createElement("a", { className: article_css_1.default.nextLink, href: links[1].url, title: links[1].title }, ">"))));
            };
            exports_33("Reference", Reference = function (_a) {
                var index = _a.index, reference = _a.reference, _b = _a.refStyle, refStyle = _b === void 0 ? "with-label" : _b;
                return (React.createElement("div", { id: "bibr-" + reference.id, className: article_css_1.default.bibref },
                    refStyle === "with-label" && React.createElement("span", { className: article_css_1.default.bibrefLabel },
                        React.createElement("a", { href: "#first-bibr-" + reference.id }, reference.label)),
                    refStyle === "no-label" && React.createElement("span", { className: article_css_1.default.bibrefLabel },
                        React.createElement("a", { href: "#first-bibr-" + reference.id },
                            index,
                            ".")),
                    React.createElement("span", { className: article_css_1.default.bibrefBody }, reference["comment-link"]
                        ? React.createElement("a", { target: "_blank", href: reference["comment-link"] }, referenceFormatter(reference))
                        : referenceFormatter(reference))));
            });
            exports_33("FootNote", FootNote = function (_a) {
                var index = _a.index, footNote = _a.footNote;
                return (React.createElement("div", { id: "fn-" + footNote.id, className: article_css_1.default.bibref },
                    React.createElement("span", { className: article_css_1.default.bibrefLabel },
                        React.createElement("a", { href: "#first-fn-" + footNote.id }, footNote.label)),
                    React.createElement("span", { className: article_css_1.default.bibrefBody },
                        React.createElement("span", { dangerouslySetInnerHTML: { __html: footNote.body.html } }))));
            });
            ArticleViewer = (function (_super) {
                __extends(ArticleViewer, _super);
                function ArticleViewer() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ArticleViewer.prototype.renderArticlePart = function (item, idx) {
                    var _this = this;
                    if (item.type === "Figure") {
                        var imageSrc = getArticleFigureImageUrl(item.href);
                        return (React.createElement("figure", { id: "fig-" + item.id, key: idx },
                            React.createElement("img", { src: imageSrc, alt: item.label }),
                            item.label &&
                                React.createElement("figcaption", null,
                                    item.label,
                                    item.caption && React.createElement("span", { dangerouslySetInnerHTML: { __html: item.caption.html } }))));
                    }
                    else if (item.type === "Table") {
                        var imageSrc = item.graphicHref ? getArticleFigureImageUrl(item.graphicHref) : null;
                        return (React.createElement("div", { id: "table-" + item.id, className: article_css_1.default["table-wrap"], key: idx },
                            item.label &&
                                React.createElement("div", { className: article_css_1.default["table-caption"] },
                                    React.createElement("span", { dangerouslySetInnerHTML: { __html: item.label } }),
                                    " ",
                                    React.createElement("span", { dangerouslySetInnerHTML: { __html: item.caption && item.caption.html } })),
                            imageSrc && React.createElement("img", { src: imageSrc, alt: item.label }),
                            React.createElement("div", { dangerouslySetInnerHTML: { __html: item.table ? item.table.html : "<div><!-- table missing --></div>" } }),
                            item.footnotes &&
                                React.createElement("div", null, item.footnotes.map(function (footnote) {
                                    return React.createElement("div", { id: "footnote-" + item.id + "-" + footnote.id, className: article_css_1.default["table-footnote"] },
                                        footnote.label,
                                        " ",
                                        footnote.body && React.createElement("span", { dangerouslySetInnerHTML: { __html: footnote.body.html } }));
                                }))));
                    }
                    else if (item.type === "HTMLPart") {
                        return (React.createElement("div", { dangerouslySetInnerHTML: { __html: item.html }, key: idx }));
                    }
                    else {
                        var section = item;
                        return (React.createElement("div", { key: idx },
                            React.createElement("h2", { id: section.href.replace(/^#/, "") },
                                section.label,
                                " ",
                                section.titleHtml ?
                                    React.createElement("span", { dangerouslySetInnerHTML: { __html: section.titleHtml } })
                                    :
                                        section.title),
                            React.createElement("div", null, section.children && section.children.map(function (child, childIdx) { return _this.renderArticlePart(child, childIdx); }))));
                    }
                };
                ArticleViewer.prototype.render = function () {
                    var _this = this;
                    var _a = this.props, article = _a.article, revision = _a.revision, previousArticle = _a.previousArticle, nextArticle = _a.nextArticle, metaData = _a.metaData;
                    utils_9.collectJsonLD(this.jsonLD());
                    var prevNextLinks = [previousArticle, nextArticle].map(function (ref) { return (ref && {
                        title: ref.title,
                        url: article_2.publicationUrl(article) + "/" + ref.id + "/view"
                    }); });
                    var hasReferenceLabels = this.props.references.map(function (r) { return r.label; }).filter(function (v) { return !!v; }).length === 0;
                    return (React.createElement("article", null,
                        revision && React.createElement(message_2.Message, { type: "notice" }, "You are previewing an unpublished revision."),
                        (prevNextLinks[0] || prevNextLinks[1]) &&
                            React.createElement(Paginator, { links: prevNextLinks, article: article }),
                        React.createElement(ArticleDetails, { article: article, metaData: metaData }),
                        React.createElement("br", null),
                        this.props.sections &&
                            React.createElement("div", { className: article_css_1.default.content + " textContent" }, this.props.sections.map(function (section, i) { return _this.renderArticlePart(section, i); })),
                        this.props.footNotes && this.props.footNotes.length > 0 &&
                            React.createElement("div", { className: article_css_1.default.content + " textContent", id: "references" },
                                React.createElement("h2", null, "Footnotes"),
                                this.props.footNotes.map(function (footNote, i) { return (React.createElement(FootNote, { key: i, index: i, footNote: footNote })); })),
                        this.props.references &&
                            React.createElement("div", { className: article_css_1.default.content + " textContent", id: "references" },
                                React.createElement("h2", null, "References"),
                                this.props.references.map(function (ref, i) { return (React.createElement(Reference, { index: i + 1, refStyle: hasReferenceLabels ? "no-label" : "with-label", key: i, reference: ref })); })),
                        (prevNextLinks[0] || prevNextLinks[1]) &&
                            React.createElement(Paginator, { links: prevNextLinks, article: article }),
                        React.createElement(ArticleMetaBlock, { article: article, metaData: metaData }),
                        React.createElement(Cite, { article: article })));
                };
                return ArticleViewer;
            }(Article));
            exports_33("ArticleViewer", ArticleViewer);
        }
    };
});
System.register("components/Nav", ["components/article"], function (exports_34, context_34) {
    "use strict";
    var article_3, Children, ToggleBlock, SubNav, NavHeading, FiguresNav;
    var __moduleName = context_34 && context_34.id;
    return {
        setters: [
            function (article_3_1) {
                article_3 = article_3_1;
            }
        ],
        execute: function () {
            Children = function (_a) {
                var items = _a.items, onToggle = _a.onToggle, onClick = _a.onClick, toggleState = _a.toggleState, activeState = _a.activeState;
                return (React.createElement("ul", null, items.map(function (item, k) { return (React.createElement("li", { className: item.children.length > 0 && "hasChildren", key: k },
                    React.createElement("a", { className: activeState[item.id] && "active", href: item.link.href, onClick: function () { return onClick(item.id); } }, item.link.isHtml ? React.createElement("span", { dangerouslySetInnerHTML: { __html: item.link.title } }) : item.link.title),
                    item.children.length > 0 && React.createElement("span", { className: "toggle " + (toggleState[item.id] ? "open" : ""), onClick: function () { return onToggle(item.id); } }),
                    item.children.length > 0 && toggleState[item.id] &&
                        React.createElement(Children, { items: item.children, toggleState: toggleState, onClick: onClick, onToggle: onToggle, activeState: activeState }))); })));
            };
            ToggleBlock = (function (_super) {
                __extends(ToggleBlock, _super);
                function ToggleBlock() {
                    var _this = _super !== null && _super.apply(this, arguments) || this;
                    _this.state = {
                        toggle: false
                    };
                    return _this;
                }
                ToggleBlock.prototype.render = function () {
                    var _this = this;
                    return (React.createElement("nav", { className: "toggleBlock" },
                        React.createElement("div", { className: "navHeading hasChildren", onClick: function () { return _this.setState({ toggle: !_this.state.toggle }); } },
                            this.props.title,
                            React.createElement("span", { className: "toggle " + (this.state.toggle && "open") })),
                        this.state.toggle && this.props.children));
                };
                return ToggleBlock;
            }(React.Component));
            exports_34("ToggleBlock", ToggleBlock);
            SubNav = (function (_super) {
                __extends(SubNav, _super);
                function SubNav() {
                    var _this = _super.call(this) || this;
                    _this.state = {
                        toggle: {},
                        active: {}
                    };
                    _this.initialHref = null;
                    _this.nav = [];
                    if (typeof location !== "undefined") {
                        _this.initialHref = location.href;
                    }
                    return _this;
                }
                SubNav.prototype.componentWillMount = function () {
                    var _this = this;
                    this.nav = this.tag(this.props.items, this.props.id);
                    this.map = {};
                    this.parentMap = {};
                    var gather = function (i, parents) {
                        if (parents === void 0) { parents = []; }
                        _this.map[i.id] = i;
                        _this.parentMap[i.id] = parents;
                        if (i.children) {
                            i.children.forEach(function (j) { return gather(j, __spread(parents, [i.id])); });
                        }
                    };
                    this.nav.forEach(function (v) { return gather(v); });
                    if (typeof document !== "undefined") {
                        var domHelper_1 = document.createElement("a");
                        Object.keys(this.map).map(function (k) { return _this.map[k]; }).forEach(function (item) {
                            domHelper_1.href = item.link.href;
                            if (domHelper_1.pathname === location.pathname && domHelper_1.hash === location.hash) {
                                _this.state.active[item.id] = true;
                                _this.parentMap[item.id].forEach(function (parentId) {
                                    _this.state.toggle[parentId] = true;
                                });
                            }
                        });
                        if (!Object.keys(this.state.toggle).length) {
                            Object.keys(this.map).map(function (k) { return _this.map[k]; }).forEach(function (item) {
                                if (item.link && item.link.isDefaultActive) {
                                    _this.state.active[item.id] = true;
                                    _this.parentMap[item.id].forEach(function (parentId) {
                                        _this.state.toggle[parentId] = true;
                                    });
                                }
                            });
                        }
                        if (!Object.keys(this.state.toggle).length && this.props.isDefaultToFirst) {
                            this.state.toggle[this.nav[0].id] = true;
                        }
                    }
                };
                SubNav.prototype.render = function () {
                    var _this = this;
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("components/Nav", "SubNav", this.props);
                        globals.setRenderFlag("stickymenu", true);
                    }
                    var _a = this.props.isSticky, isSticky = _a === void 0 ? true : _a;
                    return (React.createElement("div", { id: elementId },
                        React.createElement("nav", { id: isSticky ? "stickyNav" : "", className: "subnav" },
                            React.createElement(Children, { items: this.nav, toggleState: this.state.toggle, activeState: this.state.active, onClick: function (id) { return _this.click(id); }, onToggle: function (id) { return _this.toggle(id); } }))));
                };
                SubNav.prototype.click = function (id) {
                    var _a, _b;
                    this.setState(__assign({}, this.state, { active: (_a = {},
                            _a[id] = true,
                            _a), toggle: __assign({}, this.state.toggle, (_b = {}, _b[id] = true, _b)) }));
                };
                SubNav.prototype.toggle = function (id) {
                    var _a;
                    this.setState(__assign({}, this.state, { toggle: __assign({}, this.state.toggle, (_a = {}, _a[id] = !this.state.toggle[id], _a)) }));
                };
                SubNav.prototype.tag = function (items, prefix) {
                    var _this = this;
                    return items.map(function (i, k) { return (__assign({}, i, { id: prefix + k, children: i.children ? _this.tag(i.children, "" + prefix + k + ".") : [] })); });
                };
                return SubNav;
            }(React.Component));
            exports_34("SubNav", SubNav);
            exports_34("NavHeading", NavHeading = function (_a) {
                var children = _a.children;
                return (React.createElement("div", { className: "navHeading" }, children));
            });
            exports_34("FiguresNav", FiguresNav = function (_a) {
                var figures = _a.figures;
                return (React.createElement("div", { className: "menuImageListWrap" }, figures.map(function (figure) {
                    return React.createElement("a", { className: "menuImageWrap", href: "#fig-" + figure.id },
                        React.createElement("img", { className: "menuImage", src: article_3.getArticleFigureImageUrl(figure.href), title: figure.label.replace(/\:$/g, "") }),
                        React.createElement("br", null),
                        React.createElement("span", { className: "menuImageLabel" }, figure.shortLabel));
                })));
            });
        }
    };
});
System.register("pages/PaymentPage/index.css", [], function (exports_35, context_35) {
    "use strict";
    var __moduleName = context_35 && context_35.id;
    return {
        setters: [],
        execute: function () {
            exports_35("default", {
                "container": "src-pages-PaymentPage-container maxWidth content",
                "content": "src-pages-PaymentPage-content",
                "paymentContainer": "src-pages-PaymentPage-paymentContainer",
                "intro": "src-pages-PaymentPage-intro",
                "label": "src-pages-PaymentPage-label",
                "input": "src-pages-PaymentPage-input",
                "select": "src-pages-PaymentPage-select"
            });
        }
    };
});
System.register("components/PaymentForm", ["pages/PaymentPage/index.css", "utils/utils"], function (exports_36, context_36) {
    "use strict";
    var index_css_12, utils_10, PaypalForm, AlipayForm, PaymentForm;
    var __moduleName = context_36 && context_36.id;
    return {
        setters: [
            function (index_css_12_1) {
                index_css_12 = index_css_12_1;
            },
            function (utils_10_1) {
                utils_10 = utils_10_1;
            }
        ],
        execute: function () {
            PaypalForm = function (_a) {
                var email = _a.email, article_id = _a.article_id, onChange = _a.onChange;
                return (React.createElement("form", { action: "https://www.paypal.com/cgi-bin/webscr", method: "post", target: "_self" },
                    React.createElement("input", { type: "hidden", name: "cmd", value: "_s-xclick" }),
                    React.createElement("input", { type: "hidden", name: "hosted_button_id", value: "EZAFSLG3SHAP4" }),
                    React.createElement("div", null,
                        React.createElement("input", { type: "hidden", name: "on0", value: "IJCIS article fee" }),
                        React.createElement("label", { className: index_css_12.default.label }, "IJCIS article fee"),
                        React.createElement("select", { className: index_css_12.default.select, name: "os0" },
                            React.createElement("option", { value: "Full APC fee --" }, "Full APC fee -- \u20AC850,00 EUR"))),
                    React.createElement("div", null,
                        React.createElement("input", { type: "hidden", name: "on1", value: "Your article ID" }),
                        React.createElement("label", { className: index_css_12.default.label }, "Your article ID"),
                        React.createElement("input", { className: index_css_12.default.input, type: "text", name: "os1", value: article_id, onChange: function (e) { return onChange("article_id", e.target.value); } })),
                    React.createElement("div", null,
                        React.createElement("input", { type: "hidden", name: "on2", value: "Email corresponding author" }),
                        React.createElement("label", { className: index_css_12.default.label }, "Email corresponding author"),
                        React.createElement("input", { className: index_css_12.default.input, type: "text", name: "os2", value: email, onChange: function (e) { return onChange("email", e.target.value); } })),
                    React.createElement("div", null,
                        React.createElement("input", { type: "hidden", name: "currency_code", value: "EUR" }),
                        React.createElement("input", { style: { width: 200 }, type: "image", src: "https://www.paypalobjects.com/en_US/i/btn/btn_paynowCC_LG.gif", name: "submit", alt: "PayPal - The safer, easier way to pay online!" }),
                        React.createElement("img", { alt: "", src: "https://www.paypalobjects.com/en_US/i/scr/pixel.gif", width: "1", height: "1" }))));
            };
            AlipayForm = function (_a) {
                var email = _a.email, article_id = _a.article_id, onChange = _a.onChange;
                return (React.createElement("form", { action: "/payment/create" },
                    React.createElement("div", null,
                        React.createElement("label", { className: index_css_12.default.label }, "IJCIS article fee"),
                        React.createElement("select", { className: index_css_12.default.select, name: "amount" },
                            article_id === "testing1234" && React.createElement("option", { value: "100eur" }, "Testing option - \u20AC 1,00eur"),
                            React.createElement("option", { value: "85000eur" }, "Full APC fee -- \u20AC850,00 EUR"))),
                    React.createElement("div", null,
                        React.createElement("label", { className: index_css_12.default.label }, "Your article ID"),
                        React.createElement("input", { className: index_css_12.default.input, type: "text", name: "article_id", value: article_id, onChange: function (e) { return onChange("article_id", e.target.value); } })),
                    React.createElement("div", null,
                        React.createElement("label", { className: index_css_12.default.label }, "Email corresponding author"),
                        React.createElement("input", { className: index_css_12.default.input, type: "text", name: "email", value: email, onChange: function (e) { return onChange("email", e.target.value); } })),
                    React.createElement("div", null,
                        React.createElement("input", { type: "submit", value: "Continue with Alipay" }))));
            };
            PaymentForm = (function (_super) {
                __extends(PaymentForm, _super);
                function PaymentForm() {
                    var _this = _super !== null && _super.apply(this, arguments) || this;
                    _this.state = {
                        provider: undefined,
                        email: "",
                        article_id: ""
                    };
                    return _this;
                }
                PaymentForm.prototype.render = function () {
                    var _this = this;
                    var id = utils_10.registerClientsideComponent("components/PaymentForm", "default", this.props);
                    return (React.createElement("div", null,
                        React.createElement("div", { id: id, className: index_css_12.default.paymentContainer },
                            React.createElement("div", { id: id },
                                React.createElement("p", null, "Please choose a payment provider:"),
                                React.createElement("p", null,
                                    React.createElement("label", null,
                                        React.createElement("input", { type: "radio", value: "paypal", checked: this.state.provider === "paypal", onClick: function (e) { return _this.onChangeProvider(e); } }),
                                        " PayPal"),
                                    React.createElement("label", null,
                                        React.createElement("input", { type: "radio", value: "alipay", checked: this.state.provider === "alipay", onClick: function (e) { return _this.onChangeProvider(e); } }),
                                        " AliPay"))),
                            React.createElement("div", null,
                                this.state.provider === "paypal" && React.createElement(PaypalForm, { email: this.state.email, article_id: this.state.article_id, onChange: function (k, v) {
                                        var _a;
                                        return _this.setState(__assign({}, _this.state, (_a = {}, _a[k] = v, _a)));
                                    } }),
                                this.state.provider === "alipay" && React.createElement(AlipayForm, { email: this.state.email, article_id: this.state.article_id, onChange: function (k, v) {
                                        var _a;
                                        return _this.setState(__assign({}, _this.state, (_a = {}, _a[k] = v, _a)));
                                    } })))));
                };
                PaymentForm.prototype.onChangeProvider = function (e) {
                    this.setState({ provider: e.target.value });
                };
                return PaymentForm;
            }(React.Component));
            exports_36("default", PaymentForm);
        }
    };
});
System.register("components/ProceedingsArticleForm", ["components/Form/index.css", "utils/adminmethods", "components/Form/index", "components/Form/row"], function (exports_37, context_37) {
    "use strict";
    var index_css_13, adminmethods_3, Form_3, row_4, ProceedingsArticleForm;
    var __moduleName = context_37 && context_37.id;
    return {
        setters: [
            function (index_css_13_1) {
                index_css_13 = index_css_13_1;
            },
            function (adminmethods_3_1) {
                adminmethods_3 = adminmethods_3_1;
            },
            function (Form_3_1) {
                Form_3 = Form_3_1;
            },
            function (row_4_1) {
                row_4 = row_4_1;
            }
        ],
        execute: function () {
            ProceedingsArticleForm = (function (_super) {
                __extends(ProceedingsArticleForm, _super);
                function ProceedingsArticleForm() {
                    var _this = _super !== null && _super.apply(this, arguments) || this;
                    _this.validations = new Form_3.Form.Validations();
                    _this.sessions = _this.props.sessions.map(function (session) {
                        return ({ displayName: session.name, value: session.id });
                    });
                    return _this;
                }
                ProceedingsArticleForm.prototype.save = function () {
                    if (this.validate()) {
                        this.props.onSave();
                    }
                    this.forceUpdate();
                };
                ProceedingsArticleForm.prototype.validate = function () {
                    var e_11, _a;
                    this.validations.clear();
                    if (!this.props.data.title) {
                        this.validations.addValidation("title", "Field can not be empty");
                    }
                    if (!this.props.data.keywords) {
                        this.validations.addValidation("keywords", "Field can not be empty");
                    }
                    if (!this.props.data.summary) {
                        this.validations.addValidation("summary", "Field can not be empty");
                    }
                    if (!this.props.authors.length) {
                        this.validations.addValidation("authors", "Incomplete authors");
                    }
                    else {
                        try {
                            for (var _b = __values(this.props.authors), _c = _b.next(); !_c.done; _c = _b.next()) {
                                var author = _c.value;
                                if (!author.lastName) {
                                    this.validations.addValidation("authors", "The author's last name is required.");
                                    break;
                                }
                            }
                        }
                        catch (e_11_1) { e_11 = { error: e_11_1 }; }
                        finally {
                            try {
                                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                            }
                            finally { if (e_11) throw e_11.error; }
                        }
                    }
                    return this.validations.isValid();
                };
                ProceedingsArticleForm.prototype.renderAuthors = function () {
                    if (!this.props.authors.length) {
                        this.props.authors.push({});
                    }
                    return (React.createElement("div", null,
                        React.createElement("table", { className: index_css_13.default.tableSmall },
                            React.createElement("thead", null,
                                React.createElement("tr", { className: index_css_13.default.tableHeadAlt },
                                    React.createElement("th", null, "First name"),
                                    React.createElement("th", null, "Last name"),
                                    React.createElement("th", null, "Corresponding author"),
                                    React.createElement("th", { className: index_css_13.default.tableColumnSmall }),
                                    React.createElement("th", { className: index_css_13.default.tableColumnSmall }),
                                    React.createElement("th", { className: index_css_13.default.tableColumnSmall }))),
                            React.createElement("tbody", null, this.props.authors.map(this.renderAuthorRow))),
                        this.validations.getErrorMessage("authors") &&
                            React.createElement("div", { className: index_css_13.default.formValidationErrorContainer },
                                React.createElement("div", { className: index_css_13.default.formValidationError }, this.validations.getErrorMessage("authors"))),
                        React.createElement("button", { onClick: this.addAuthor, className: index_css_13.default.buttonSecondary }, "+ Add author")));
                };
                ProceedingsArticleForm.prototype.addAuthor = function () {
                    this.props.authors.push({});
                    this.forceUpdate();
                };
                ProceedingsArticleForm.prototype.deleteAuthor = function (author) {
                    if (confirm("Are you sure you want to remove this author?") && this.props.authors.length > 1) {
                        this.props.authors.splice(this.props.authors.indexOf(author), 1);
                        this.forceUpdate();
                    }
                };
                ProceedingsArticleForm.prototype.moveAuthorUpDown = function (author, up) {
                    var index = this.props.authors.indexOf(author);
                    if (!up && index + 1 < this.props.authors.length) {
                        this.props.authors[index] = this.props.authors[index + 1];
                        this.props.authors[index + 1] = author;
                    }
                    else if (up && index > 0) {
                        this.props.authors[index] = this.props.authors[index - 1];
                        this.props.authors[index - 1] = author;
                    }
                    this.forceUpdate();
                };
                ProceedingsArticleForm.prototype.setCorrespondingAuthor = function (author) {
                    var e_12, _a;
                    try {
                        for (var _b = __values(this.props.authors), _c = _b.next(); !_c.done; _c = _b.next()) {
                            var otherAuthor = _c.value;
                            otherAuthor.correspondingAuthor = false;
                        }
                    }
                    catch (e_12_1) { e_12 = { error: e_12_1 }; }
                    finally {
                        try {
                            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                        }
                        finally { if (e_12) throw e_12.error; }
                    }
                    author.correspondingAuthor = true;
                    this.forceUpdate();
                };
                ProceedingsArticleForm.prototype.renderAuthorRow = function (author, index) {
                    var _this = this;
                    return (React.createElement("tr", { key: index },
                        React.createElement("td", null,
                            React.createElement(Form_3.Form.Textbox, { data: author, name: "firstName" })),
                        React.createElement("td", null,
                            React.createElement(Form_3.Form.Textbox, { data: author, name: "lastName" })),
                        React.createElement("td", null,
                            React.createElement("input", { type: "radio", key: index, name: index + "", onChange: function () { return _this.setCorrespondingAuthor(author); }, checked: author.correspondingAuthor })),
                        index > 0 &&
                            React.createElement("td", null,
                                React.createElement("a", { className: index_css_13.default.link, onClick: function (e) {
                                        _this.deleteAuthor(author);
                                    } }, "Delete")),
                        index === 0 && [
                            React.createElement("td", { key: 1 }),
                            React.createElement("td", { key: 2 })
                        ],
                        index > 0 &&
                            React.createElement("td", null,
                                React.createElement("a", { className: index_css_13.default.link, onClick: function () {
                                        _this.moveAuthorUpDown(author, true);
                                    } }, "Up")),
                        index + 1 < this.props.authors.length &&
                            React.createElement("td", null,
                                React.createElement("a", { className: index_css_13.default.link, onClick: function () {
                                        _this.moveAuthorUpDown(author, false);
                                    } }, "Down"))));
                };
                ProceedingsArticleForm.prototype.render = function () {
                    var e_13, _a;
                    var data = this.props.data;
                    var stateOptions = [
                        { displayName: "None", value: null }
                    ];
                    var states = adminmethods_3.proceedingsArticleStateTranslations;
                    try {
                        for (var _b = __values(Object.keys(states)), _c = _b.next(); !_c.done; _c = _b.next()) {
                            var key = _c.value;
                            stateOptions.push({ displayName: states[key], value: key });
                        }
                    }
                    catch (e_13_1) { e_13 = { error: e_13_1 }; }
                    finally {
                        try {
                            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                        }
                        finally { if (e_13) throw e_13.error; }
                    }
                    return (React.createElement("div", null,
                        React.createElement("h2", null, "Article"),
                        React.createElement("div", { className: index_css_13.default.element },
                            React.createElement("span", { className: index_css_13.default.label }, "Title"),
                            React.createElement(Form_3.Form.Textbox, { data: data, name: "title", validation: this.validations, className: index_css_13.default.textLong })),
                        this.props.isAdmin &&
                            React.createElement("div", { className: index_css_13.default.element },
                                React.createElement("span", { className: index_css_13.default.label }, "Status"),
                                React.createElement(Form_3.Form.RadioGroup, { data: data, name: "state", options: stateOptions, validation: this.validations, className: index_css_13.default.radioGroup })),
                        this.props.isAdmin &&
                            React.createElement("div", { className: index_css_13.default.element },
                                React.createElement("span", { className: index_css_13.default.label }, "Add log note"),
                                React.createElement(Form_3.Form.Textbox, { data: data, name: "add_log", validation: this.validations }),
                                React.createElement("span", { className: index_css_13.default.remark }, "Add a remark indicating an explanation on the edit (also readable by organizer)")),
                        React.createElement("div", { className: index_css_13.default.element },
                            React.createElement("span", { className: index_css_13.default.label }, "Authors"),
                            this.renderAuthors()),
                        React.createElement("div", { className: index_css_13.default.element },
                            React.createElement("span", { className: index_css_13.default.label }, "Keywords"),
                            React.createElement(Form_3.Form.Textbox, { data: data, name: "keywords", textArea: true, validation: this.validations, className: index_css_13.default.textareaMedium }),
                            React.createElement("span", { className: index_css_13.default.remark }, "Values comma seperated, max 10 keywords")),
                        React.createElement("div", { className: index_css_13.default.element },
                            React.createElement("span", { className: index_css_13.default.label }, "Abstract"),
                            React.createElement(Form_3.Form.Textbox, { data: data, name: "summary", textArea: true, validation: this.validations, className: index_css_13.default.textareaLong }),
                            React.createElement("span", { className: index_css_13.default.remark }, "Max 300 words")),
                        React.createElement("div", { className: index_css_13.default.element },
                            React.createElement("span", { className: index_css_13.default.label }, "Session"),
                            React.createElement(Form_3.Form.Select, { data: data, name: "proceedings_session_id", options: this.sessions, validation: this.validations })),
                        React.createElement(row_4.FormRow, { label: "PDF file" },
                            React.createElement(Form_3.Form.FileUpload, { uploadUrl: "/admin/upload-pdf", data: data, name: "pdf", placeHolder: "Upload PDF" }),
                            this.props.pdfUrl && React.createElement("span", { className: index_css_13.default.remark },
                                "Replaces ",
                                React.createElement("a", { href: this.props.pdfUrl }, "current file"),
                                ".")),
                        React.createElement("div", { className: index_css_13.default.buttonContainer },
                            React.createElement("button", { onClick: this.props.onCancel, className: index_css_13.default.buttonSecondary }, "Cancel"),
                            React.createElement("button", { onClick: this.save, className: index_css_13.default.buttonPrimary }, "Save Changes"))));
                };
                return ProceedingsArticleForm;
            }(BaseComponent));
            exports_37("default", ProceedingsArticleForm);
        }
    };
});
System.register("components/ProceedingsOrganizerForm", ["components/Form/index.css", "utils/utils", "components/Form/index"], function (exports_38, context_38) {
    "use strict";
    var index_css_14, utils_11, Form_4, ProceedingsOrganizerForm;
    var __moduleName = context_38 && context_38.id;
    return {
        setters: [
            function (index_css_14_1) {
                index_css_14 = index_css_14_1;
            },
            function (utils_11_1) {
                utils_11 = utils_11_1;
            },
            function (Form_4_1) {
                Form_4 = Form_4_1;
            }
        ],
        execute: function () {
            ProceedingsOrganizerForm = (function (_super) {
                __extends(ProceedingsOrganizerForm, _super);
                function ProceedingsOrganizerForm() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ProceedingsOrganizerForm.prototype.createOrganizer = function () {
                    this.editableOrganizer = {};
                    this.props.organizers.push(this.editableOrganizer);
                    this.forceUpdate();
                };
                ProceedingsOrganizerForm.prototype.editOrganizer = function (organizer) {
                    this.editableOrganizer = organizer;
                    this.forceUpdate();
                };
                ProceedingsOrganizerForm.prototype.deleteOrganizer = function (organizer) {
                    utils_11.callServer(this.props.deleteUrl, { data: organizer })
                        .then(function () {
                        location.reload();
                    })
                        .catch(function (error) {
                        console.log(error);
                        alert("An error occurred while connecting to the server");
                    });
                };
                ProceedingsOrganizerForm.prototype.moveOrganizerUpDown = function (organizer, up) {
                    var _this = this;
                    var index = this.props.organizers.indexOf(organizer);
                    if (!up && index + 1 < this.props.organizers.length) {
                        this.props.organizers[index] = this.props.organizers[index + 1];
                        this.props.organizers[index + 1] = organizer;
                    }
                    else if (up && index > 0) {
                        this.props.organizers[index] = this.props.organizers[index - 1];
                        this.props.organizers[index - 1] = organizer;
                    }
                    this.forceUpdate();
                    utils_11.callServer(this.props.changeOrderUrl, { data: this.props.organizers })
                        .then(function () {
                        _this.forceUpdate();
                    })
                        .catch(function (error) {
                        console.log(error);
                        alert("An error occurred while connecting to the server");
                    });
                };
                ProceedingsOrganizerForm.prototype.submitOrganizer = function () {
                    if (this.editableOrganizer && this.editableOrganizer.organizerName) {
                        this.editableOrganizer.proceedings_id = this.props.proceedings.id;
                        utils_11.callServer(this.props.submitUrl, { data: this.editableOrganizer })
                            .then(function () {
                            location.reload();
                        })
                            .catch(function (error) {
                            console.log(error);
                            alert("An error occurred while connecting to the server");
                        });
                    }
                };
                ProceedingsOrganizerForm.prototype.render = function () {
                    var _this = this;
                    return (React.createElement("div", null,
                        React.createElement("table", null,
                            React.createElement("thead", null,
                                React.createElement("tr", null,
                                    React.createElement("th", null),
                                    React.createElement("th", { className: index_css_14.default.tableColumnSmall }),
                                    React.createElement("th", { className: index_css_14.default.tableColumnSmall }),
                                    React.createElement("th", { className: index_css_14.default.tableColumnSmall }))),
                            React.createElement("tbody", null, this.props.organizers && this.props.organizers.map(function (organizer, i) {
                                return (React.createElement("tr", { key: i + "_organizer" },
                                    organizer === _this.editableOrganizer && [
                                        React.createElement("td", { className: index_css_14.default.tableCell },
                                            React.createElement("span", { className: index_css_14.default.label }, "Name:"),
                                            " ",
                                            React.createElement(Form_4.Form.Textbox, { data: _this.editableOrganizer, name: "organizerName" }),
                                            React.createElement("span", { className: index_css_14.default.label }, "Organization:"),
                                            " ",
                                            React.createElement(Form_4.Form.Textbox, { data: _this.editableOrganizer, name: "organization" }),
                                            React.createElement("span", { className: index_css_14.default.label }, "Committee:"),
                                            " ",
                                            React.createElement(Form_4.Form.Textbox, { data: _this.editableOrganizer, name: "committeeName" }),
                                            React.createElement("div", { className: index_css_14.default.smallButtonContainer },
                                                React.createElement("button", { className: index_css_14.default.buttonSecondary, onClick: function () { window.location.reload(); } }, "Cancel"),
                                                React.createElement("button", { className: index_css_14.default.button, onClick: _this.submitOrganizer }, "Save organizer")))
                                    ],
                                    organizer !== _this.editableOrganizer && [
                                        React.createElement("td", { className: index_css_14.default.tableCell }, organizer.organizerName),
                                        React.createElement("td", { className: index_css_14.default.tableCell }, !_this.editableOrganizer &&
                                            React.createElement("div", null,
                                                React.createElement("a", { className: index_css_14.default.link, onClick: function () { _this.editOrganizer(organizer); } }, "Edit"))),
                                        React.createElement("td", { className: index_css_14.default.tableCell }, (!_this.editableOrganizer && i > 0) &&
                                            React.createElement("a", { className: index_css_14.default.link, onClick: function () {
                                                    _this.moveOrganizerUpDown(organizer, true);
                                                } }, "Up")),
                                        React.createElement("td", { className: index_css_14.default.tableCell }, (!_this.editableOrganizer && i + 1 < _this.props.organizers.length) &&
                                            React.createElement("a", { className: index_css_14.default.link, onClick: function () {
                                                    _this.moveOrganizerUpDown(organizer, false);
                                                } }, "Down")),
                                        React.createElement("td", { className: index_css_14.default.tableCell }, !_this.editableOrganizer &&
                                            React.createElement("div", { style: { marginLeft: 40 } },
                                                React.createElement("a", { className: index_css_14.default.link, onClick: function () { _this.deleteOrganizer(organizer); } }, "Delete")))
                                    ]));
                            }))),
                        !this.editableOrganizer &&
                            React.createElement("button", { className: index_css_14.default.buttonSecondary, onClick: this.createOrganizer }, "+ Add Organizer")));
                };
                return ProceedingsOrganizerForm;
            }(BaseComponent));
            exports_38("default", ProceedingsOrganizerForm);
        }
    };
});
System.register("components/ProceedingsProposalForm", ["components/Form/index.css", "utils/utils", "components/Form/index"], function (exports_39, context_39) {
    "use strict";
    var index_css_15, utils_12, Form_5, ProceedingsProposalForm;
    var __moduleName = context_39 && context_39.id;
    return {
        setters: [
            function (index_css_15_1) {
                index_css_15 = index_css_15_1;
            },
            function (utils_12_1) {
                utils_12 = utils_12_1;
            },
            function (Form_5_1) {
                Form_5 = Form_5_1;
            }
        ],
        execute: function () {
            ProceedingsProposalForm = (function (_super) {
                __extends(ProceedingsProposalForm, _super);
                function ProceedingsProposalForm() {
                    var _this = _super !== null && _super.apply(this, arguments) || this;
                    _this.data = {};
                    _this.validations = new Form_5.Form.Validations();
                    return _this;
                }
                ProceedingsProposalForm.prototype.submit = function () {
                    if (this.validate()) {
                        utils_12.callServer("/account/save-proceedings-proposal", { data: this.data })
                            .then(function (result) {
                            alert("Thank you, your proposal has been submitted");
                        })
                            .catch(function (e) {
                            console.log(e);
                            alert("An error occurred while connecting to the server");
                        });
                    }
                    this.forceUpdate();
                };
                ProceedingsProposalForm.prototype.validate = function () {
                    var e_14, _a;
                    this.validations.clear();
                    var requiredFields = [
                        "organizerFullName",
                        "organizerTitle",
                        "organizerEmail",
                        "organizerAffiliation",
                        "organizerAddress",
                        "organizerPhone",
                        "authorisedFullName",
                        "authorisedTitle",
                        "authorisedEmail",
                        "authorisedAffiliation",
                        "authorisedAddress",
                        "eventName",
                        "editionCount",
                        "previousOrganizers",
                        "mainInstitute",
                        "venue",
                        "startDate",
                        "endDate",
                        "website",
                        "editorName",
                        "editorEmail",
                        "paperReviewersCount",
                        "paperReviewersCount",
                        "paperSubmissionsCount",
                        "paperAcceptedCount",
                        "participantsCount",
                        "topics",
                        "committeeInfo",
                        "knowledgeOfAtlantisPress"
                    ];
                    try {
                        for (var requiredFields_1 = __values(requiredFields), requiredFields_1_1 = requiredFields_1.next(); !requiredFields_1_1.done; requiredFields_1_1 = requiredFields_1.next()) {
                            var fieldName = requiredFields_1_1.value;
                            if (!this.data[fieldName]) {
                                this.validations.addValidation(fieldName, "Field cannot be emtpy");
                            }
                        }
                    }
                    catch (e_14_1) { e_14 = { error: e_14_1 }; }
                    finally {
                        try {
                            if (requiredFields_1_1 && !requiredFields_1_1.done && (_a = requiredFields_1.return)) _a.call(requiredFields_1);
                        }
                        finally { if (e_14) throw e_14.error; }
                    }
                    this.data.audienceType = "";
                    this.data.audienceType += this.audienceTypeUndergraduate ? (!!this.data.audienceType ? ", " : "") + "undergraduate" : "";
                    this.data.audienceType += this.audienceTypeGraduate ? (!!this.data.audienceType ? ", " : "") + "graduate" : "";
                    this.data.audienceType += this.audienceTypeProfessional ? (!!this.data.audienceType ? ", " : "") + "professional" : "";
                    this.data.audienceType += this.audienceTypeResearch ? (!!this.data.audienceType ? ", " : "") + "research" : "";
                    this.data.audienceType += this.audienceTypePopular ? (!!this.data.audienceType ? ", " : "") + "popular" : "";
                    if (this.validations.isValid()) {
                        if (!this.data.confirmLicense) {
                            alert("Please confirm the license");
                        }
                        else if (!this.data.confirm) {
                            alert("Please confirm this form");
                        }
                        else {
                            return true;
                        }
                    }
                    else {
                        alert("Please fill in all the fields correctly");
                    }
                    return false;
                };
                ProceedingsProposalForm.prototype.render = function () {
                    var _this = this;
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("components/ProceedingsProposalForm/index", "default", this.props);
                    }
                    var data = this.data;
                    return (React.createElement("div", null,
                        React.createElement("div", { id: elementId },
                            React.createElement("div", { className: index_css_15.default.note }, "Please note that all form fields are mandatory unless stated otherwise."),
                            React.createElement("div", { className: index_css_15.default.section },
                                React.createElement("h2", { className: index_css_15.default.sectionTitle }, "Your Credentials"),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("label", { className: index_css_15.default.label }, "Full Name"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "organizerFullName", autocomplete: "name", validation: this.validations })),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Title"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "organizerTitle", validation: this.validations })),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Email address"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "organizerEmail", type: "email", autocomplete: "email", validation: this.validations }),
                                    React.createElement("span", { className: index_css_15.default.remark }, "University or professional email required")),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Affiliation"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "organizerAffiliation", validation: this.validations })),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Professional or university address"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "organizerAddress", textArea: true, validation: this.validations })),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Phone number corresponding contact"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "organizerPhone", validation: this.validations }),
                                    React.createElement("span", { className: index_css_15.default.remark }, "Landline required"))),
                            React.createElement("div", { className: index_css_15.default.section },
                                React.createElement("h2", { className: index_css_15.default.sectionTitle }, "Credentials of the person authorised to sign the publishing agreement"),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Full Name"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "authorisedFullName", validation: this.validations })),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Title"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "authorisedTitle", validation: this.validations })),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Email address"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "authorisedEmail", validation: this.validations }),
                                    React.createElement("span", { className: index_css_15.default.remark }, "University or professional email required")),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Affiliation"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "authorisedAffiliation", validation: this.validations })),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Professional or university address"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "authorisedAddress", textArea: true, validation: this.validations }))),
                            React.createElement("div", { className: index_css_15.default.section },
                                React.createElement("h2", { className: index_css_15.default.sectionTitle }, "Event details"),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Name of the event (in English)"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "eventName", validation: this.validations })),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Number of past editions of the proceedings"),
                                    React.createElement(Form_5.Form.Numberbox, { data: data, name: "editionCount", validation: this.validations })),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Full Name, title, email address (university or professional email required), affiliation and full address of at least three senior person(s) responsible for the review process of the conference (who can be contacted by us)."),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "previousOrganizers", textArea: true, validation: this.validations })),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Main Organizer (University, Institute or Society)"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "mainInstitute", textArea: true, validation: this.validations }),
                                    React.createElement("span", { className: index_css_15.default.remark }, "Please fill in name and full address")),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Other Organizers (if applicable)"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "otherInstitutes", textArea: true, validation: this.validations })),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Sponsors (if applicable)"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "sponsors", textArea: true, validation: this.validations })),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "City, Country"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "venue", validation: this.validations })),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Start date"),
                                    React.createElement(Form_5.Form.Datebox, { data: data, name: "startDate", placeHolder: "Start date as dd-mm-yyyy", validation: this.validations })),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "End date"),
                                    React.createElement(Form_5.Form.Datebox, { data: data, name: "endDate", placeHolder: "End date as dd-mm-yyyy", validation: this.validations })),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Conference website"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "website", validation: this.validations })),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Websites of the past editions (last 3-5 years)"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "pastEditionsWebsites", textArea: true, validation: this.validations })),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Web links to the proceedings of the past editions (last 3-5 years)"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "pastEditionProceedings", textArea: true, validation: this.validations }),
                                    React.createElement("span", { className: index_css_15.default.remark }, "If proceedings are not available online, please specify where they were published")),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Indexes: in which indexes have the proceedings of the past editions been indexed?"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "pastEditionProceedingsIndexes", textArea: true, validation: this.validations }),
                                    React.createElement("span", { className: index_css_15.default.remark }, "Please provide links"))),
                            React.createElement("div", { className: index_css_15.default.section },
                                React.createElement("h2", { className: index_css_15.default.sectionTitle }, "Audience"),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "For whom is the conference intended? Please indicate content level:"),
                                    React.createElement("div", null,
                                        React.createElement(Form_5.Form.Checkbox, { data: this, name: "audienceTypeUndergraduate", placeHolder: "Undergraduate", className: index_css_15.default.checkbox }),
                                        React.createElement(Form_5.Form.Checkbox, { data: this, name: "audienceTypeGraduate", placeHolder: "Graduate", className: index_css_15.default.checkbox }),
                                        React.createElement(Form_5.Form.Checkbox, { data: this, name: "audienceTypeProfessional", placeHolder: "Professional/practitioner", className: index_css_15.default.checkbox }),
                                        React.createElement(Form_5.Form.Checkbox, { data: this, name: "audienceTypeResearch", placeHolder: "Research", className: index_css_15.default.checkbox }),
                                        React.createElement(Form_5.Form.Checkbox, { data: this, name: "audienceTypePopular", placeHolder: "Popular/general", className: index_css_15.default.checkbox })))),
                            React.createElement("div", { className: index_css_15.default.section },
                                React.createElement("h2", { className: index_css_15.default.sectionTitle }, "Editors and review"),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Editor-in-chief contact name"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "editorName", validation: this.validations }),
                                    React.createElement("span", { className: index_css_15.default.remark }, "name and affiliation required")),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Editor-in-chief e-mail address"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "editorEmail", validation: this.validations }),
                                    React.createElement("span", { className: index_css_15.default.remark }, "University or professional email required")),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Type of review:"),
                                    React.createElement(Form_5.Form.Select, { data: data, name: "reviewType", onChange: function () { return _this.forceUpdate(); }, validation: this.validations, options: [
                                            { value: "Main editor peer review", displayName: "Main editor peer review" },
                                            { value: "Open peer review", displayName: "Open peer review" },
                                            { value: "Single-blind peer review", displayName: "Single-blind peer review" },
                                            { value: "Double-blind peer review", displayName: "Double-blind peer review" },
                                            { value: "Other", displayName: "Other:" },
                                        ] }),
                                    data.reviewType === "Other" &&
                                        React.createElement(Form_5.Form.Textbox, { data: data, name: "reviewTypeRemark", textArea: true, validation: this.validations }))),
                            React.createElement("div", { className: index_css_15.default.section },
                                React.createElement("h2", { className: index_css_15.default.sectionTitle }, "Paper selection"),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "By how many reviewers will each paper be reviewed?"),
                                    React.createElement(Form_5.Form.Numberbox, { data: data, name: "paperReviewersCount", validation: this.validations })),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Expected number of paper submissions"),
                                    React.createElement(Form_5.Form.Numberbox, { data: data, name: "paperSubmissionsCount", validation: this.validations })),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Estimated number of accepted papers"),
                                    React.createElement(Form_5.Form.Numberbox, { data: data, name: "paperAcceptedCount", validation: this.validations })),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Estimated number of participants of the conference"),
                                    React.createElement(Form_5.Form.Numberbox, { data: data, name: "participantsCount", validation: this.validations })),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Number of submissions, acceptance rate, estimated number of participants for several past editions"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "previousPapersCount", textArea: true, validation: this.validations }))),
                            React.createElement("div", { className: index_css_15.default.section },
                                React.createElement("h2", { className: index_css_15.default.sectionTitle }, "Scope and PC"),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Topics/link to CFP"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "topics", textArea: true, validation: this.validations })),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Names and affiliations of people in the organizing and technical committee"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "committeeInfo", textArea: true, validation: this.validations }),
                                    React.createElement("span", { className: index_css_15.default.remark }, "General chairs, program chairs, technical committee members, etc")),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "Brief introduction keynote speakers (mandatory) and keynote speeches (if applicable)"),
                                    React.createElement(Form_5.Form.Textbox, { data: data, name: "speechesInfo", textArea: true, validation: this.validations }))),
                            React.createElement("div", { className: index_css_15.default.section },
                                React.createElement("h2", { className: index_css_15.default.sectionTitle }, "Print version (optional)"),
                                React.createElement("label", { className: index_css_15.default.labelTitle }, "Do you wish to receive print-ready files or printed copies?"),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("label", null,
                                        React.createElement("div", { className: index_css_15.default.labelTitle }, "Print-ready files"),
                                        React.createElement(Form_5.Form.Checkbox, { data: data, name: "printProceedings", validation: this.validations, className: index_css_15.default.checkboxInlineComponent }),
                                        React.createElement("span", { className: index_css_15.default.label }, "Yes, I want to recieve print-ready files (including a table of contents and print ISBN) which you can then have printed by a local printing service."))),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("div", { className: index_css_15.default.labelTitle }, "Printed copies"),
                                    React.createElement("span", { className: index_css_15.default.label }, "Do you wish to receive printed copies (including table of contents, print ISBN, printing and delivery)? If yes, how many are needed?"),
                                    React.createElement(Form_5.Form.Numberbox, { data: data, name: "printProceedingsCount", validation: this.validations }),
                                    React.createElement("span", { className: index_css_15.default.remark }, "Minimum of 75"))),
                            React.createElement("div", { className: index_css_15.default.section },
                                React.createElement("h2", { className: index_css_15.default.sectionTitle }, "Plagiarism check (optional)"),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("div", { className: index_css_15.default.labelTitle }, "Do you wish that Atlantis Press carries out a plagiarism screening on your behalf? In that case, you will also be provided with the test reports."),
                                    React.createElement("label", null,
                                        React.createElement(Form_5.Form.Checkbox, { data: data, name: "plagiarismCheck", validation: this.validations, className: index_css_15.default.checkboxInlineComponent }),
                                        React.createElement("span", { className: index_css_15.default.label }, "Yes, I want Atlantis Press to perform a plagiarism check. (This service is charged at 1 euro / paper.)")))),
                            React.createElement("div", null,
                                React.createElement("h2", { className: index_css_15.default.sectionTitle }, "Various"),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("span", { className: index_css_15.default.label }, "How did you learn of Atlantis Press?"),
                                    React.createElement(Form_5.Form.Select, { data: data, name: "knowledgeOfAtlantisPress", onChange: function () { return _this.forceUpdate(); }, validation: this.validations, options: [
                                            { value: null, displayName: "Choose a value", disabled: true },
                                            { value: "Advertisement", displayName: "Advertisement" },
                                            {
                                                value: "Internet search",
                                                displayName: "Internet search: please provide keywords you used"
                                            },
                                            {
                                                value: "From colleagues / peers",
                                                displayName: "From colleagues / peers: please give his/her name"
                                            },
                                            { value: "Website", displayName: "From Atlantis Press website" },
                                            { value: "Other", displayName: "Other:" },
                                        ] }),
                                    data.knowledgeOfAtlantisPress && data.knowledgeOfAtlantisPress !== "Advertisement" && data.knowledgeOfAtlantisPress !== "Website" &&
                                        React.createElement(Form_5.Form.Textbox, { data: data, name: "knowledgeOfAtlantisPressRemark", textArea: true, validation: this.validations }))),
                            React.createElement("div", { className: index_css_15.default.section },
                                React.createElement("h2", { className: index_css_15.default.sectionTitle }, "Confirmation"),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("label", null,
                                        React.createElement(Form_5.Form.Checkbox, { data: data, name: "confirmLicense", validation: this.validations, className: index_css_15.default.checkboxInlineComponent }),
                                        React.createElement("span", { className: index_css_15.default.label },
                                            "Yes, I accept that the content of these proceedings will be distributed under the terms of the Creative Commons Attribution License 4.0, which permits non-commercial use, distribution and reproduction in any medium, provided the original work is properly cited. See for details: ",
                                            React.createElement("a", { href: "https://creativecommons.org/licenses/by-nc/4.0/", target: "_blank" }, "https://creativecommons.org/licenses/by-nc/4.0/")))),
                                React.createElement("div", { className: index_css_15.default.element },
                                    React.createElement("label", null,
                                        React.createElement(Form_5.Form.Checkbox, { data: data, name: "confirm", validation: this.validations, className: index_css_15.default.checkboxInlineComponent }),
                                        React.createElement("span", { className: index_css_15.default.label }, "Hereby I confirm that all information provided in this proposal form is correct. I also confirm that the event mentioned in this proposal form will be a real conference or workshop where researchers will meet and discuss their work and that all the papers of the proceedings will go through rigorous peer review process before being sent to Atlantis Press.")))),
                            React.createElement("div", { className: index_css_15.default.buttonContainer },
                                React.createElement("button", { onClick: this.submit, className: index_css_15.default.button }, "Submit proposal")))));
                };
                return ProceedingsProposalForm;
            }(BaseComponent));
            exports_39("default", ProceedingsProposalForm);
        }
    };
});
System.register("components/ProceedingsSessionForm", ["components/Form/index", "components/Form/index.css", "utils/utils"], function (exports_40, context_40) {
    "use strict";
    var Form_6, index_css_16, utils_13, ProceedingsSessionForm;
    var __moduleName = context_40 && context_40.id;
    return {
        setters: [
            function (Form_6_1) {
                Form_6 = Form_6_1;
            },
            function (index_css_16_1) {
                index_css_16 = index_css_16_1;
            },
            function (utils_13_1) {
                utils_13 = utils_13_1;
            }
        ],
        execute: function () {
            ProceedingsSessionForm = (function (_super) {
                __extends(ProceedingsSessionForm, _super);
                function ProceedingsSessionForm() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ProceedingsSessionForm.prototype.createSession = function () {
                    this.editableSession = {};
                    this.props.sessions.push(this.editableSession);
                    this.forceUpdate();
                };
                ProceedingsSessionForm.prototype.editSession = function (session) {
                    this.editableSession = session;
                    this.forceUpdate();
                };
                ProceedingsSessionForm.prototype.deleteSession = function (session) {
                    utils_13.callServer(this.props.deleteUrl, { data: session })
                        .then(function () {
                        location.reload();
                    })
                        .catch(function (error) {
                        console.log(error);
                        alert("An error occurred while connecting to the server");
                    });
                };
                ProceedingsSessionForm.prototype.moveSessionUpDown = function (session, up) {
                    var _this = this;
                    var index = this.props.sessions.indexOf(session);
                    if (!up && index + 1 < this.props.sessions.length) {
                        this.props.sessions[index] = this.props.sessions[index + 1];
                        this.props.sessions[index + 1] = session;
                    }
                    else if (up && index > 0) {
                        this.props.sessions[index] = this.props.sessions[index - 1];
                        this.props.sessions[index - 1] = session;
                    }
                    this.forceUpdate();
                    utils_13.callServer(this.props.changeOrderUrl, { data: this.props.sessions })
                        .then(function () {
                        _this.forceUpdate();
                    })
                        .catch(function (error) {
                        console.log(error);
                        alert("An error occurred while connecting to the server");
                    });
                };
                ProceedingsSessionForm.prototype.submitSession = function () {
                    if (this.editableSession && this.editableSession.name) {
                        this.editableSession.proceedings_id = this.props.proceedings.id;
                        utils_13.callServer(this.props.submitUrl, { data: this.editableSession })
                            .then(function () {
                            location.reload();
                        })
                            .catch(function (error) {
                            console.log(error);
                            alert("An error occurred while connecting to the server");
                        });
                    }
                };
                ProceedingsSessionForm.prototype.render = function () {
                    var _this = this;
                    return (React.createElement("div", null,
                        React.createElement("h2", null, "Sessions"),
                        React.createElement("table", null,
                            React.createElement("thead", null,
                                React.createElement("tr", null,
                                    React.createElement("th", null),
                                    React.createElement("th", { className: index_css_16.default.tableColumnSmall }),
                                    React.createElement("th", { className: index_css_16.default.tableColumnSmall }),
                                    React.createElement("th", { className: index_css_16.default.tableColumnSmall }))),
                            React.createElement("tbody", null, this.props.sessions && this.props.sessions.map(function (session, i) {
                                return (React.createElement("tr", { key: i + "_session" },
                                    session === _this.editableSession && [
                                        React.createElement("td", { className: index_css_16.default.tableCell },
                                            React.createElement("span", { className: index_css_16.default.label }, "Short name:"),
                                            " ",
                                            React.createElement(Form_6.Form.Textbox, { data: _this.editableSession, name: "name" }),
                                            React.createElement("span", { className: index_css_16.default.label }, "Name:"),
                                            " ",
                                            React.createElement(Form_6.Form.Textbox, { data: _this.editableSession, name: "title" }),
                                            React.createElement("div", null,
                                                React.createElement("button", { className: index_css_16.default.buttonSecondary, onClick: function () { window.location.reload(); } }, "Cancel"),
                                                React.createElement("button", { className: index_css_16.default.button, onClick: _this.submitSession }, "Save session")))
                                    ],
                                    session !== _this.editableSession && [
                                        React.createElement("td", { className: index_css_16.default.tableCell }, session.title),
                                        React.createElement("td", { className: index_css_16.default.tableCell }, !_this.editableSession &&
                                            React.createElement("div", null,
                                                React.createElement("a", { className: index_css_16.default.link, onClick: function () { _this.editSession(session); } }, "Edit"))),
                                        React.createElement("td", { className: index_css_16.default.tableCell }, (!_this.editableSession && i > 0) &&
                                            React.createElement("a", { className: index_css_16.default.link, onClick: function () {
                                                    _this.moveSessionUpDown(session, true);
                                                } }, "Up")),
                                        React.createElement("td", { className: index_css_16.default.tableCell }, (!_this.editableSession && i + 1 < _this.props.sessions.length) &&
                                            React.createElement("a", { className: index_css_16.default.link, onClick: function () {
                                                    _this.moveSessionUpDown(session, false);
                                                } }, "Down")),
                                        React.createElement("td", { className: index_css_16.default.tableCell }, !_this.editableSession &&
                                            React.createElement("div", { style: { marginLeft: 40 } },
                                                React.createElement("a", { className: index_css_16.default.link, onClick: function () { _this.deleteSession(session); } }, "Delete")))
                                    ]));
                            }))),
                        !this.editableSession &&
                            React.createElement("button", { className: index_css_16.default.buttonSecondary, onClick: this.createSession }, "+ Add Session")));
                };
                return ProceedingsSessionForm;
            }(BaseComponent));
            exports_40("default", ProceedingsSessionForm);
        }
    };
});
System.register("components/BulkUploadForm/index.css", [], function (exports_41, context_41) {
    "use strict";
    var __moduleName = context_41 && context_41.id;
    return {
        setters: [],
        execute: function () {
            exports_41("default", {
                "stateTransition": "src-components-BulkUploadForm-stateTransition",
                "form": "src-components-BulkUploadForm-form",
                "nonMatchedFilesContainer": "src-components-BulkUploadForm-nonMatchedFilesContainer",
                "nonMatchedFilesNotice": "src-components-BulkUploadForm-nonMatchedFilesNotice"
            });
        }
    };
});
System.register("components/BulkUploadForm/index", ["utils/utils", "utils/adminmethods", "components/Form/index.css", "components/BulkUploadForm/index.css", "utils/style"], function (exports_42, context_42) {
    "use strict";
    var utils_14, adminmethods_4, index_css_17, index_css_18, style_2, FileState, Progress, BulkUploadForm;
    var __moduleName = context_42 && context_42.id;
    return {
        setters: [
            function (utils_14_1) {
                utils_14 = utils_14_1;
            },
            function (adminmethods_4_1) {
                adminmethods_4 = adminmethods_4_1;
            },
            function (index_css_17_1) {
                index_css_17 = index_css_17_1;
            },
            function (index_css_18_1) {
                index_css_18 = index_css_18_1;
            },
            function (style_2_1) {
                style_2 = style_2_1;
            }
        ],
        execute: function () {
            FileState = function (_a) {
                var article = _a.article, file = _a.file;
                return (React.createElement("tr", { className: file ? style_2.classes(index_css_17.default.tableRow, "highlight-success") : index_css_17.default.tableRow },
                    React.createElement("td", { className: index_css_17.default.tableCell }, article.title),
                    React.createElement("td", { className: index_css_17.default.tableCell }, adminmethods_4.proceedingsArticleStateTranslations[article.state]),
                    React.createElement("td", { className: index_css_17.default.tableCell }, article.public_filename),
                    React.createElement("td", { className: index_css_17.default.tableCell }, file)));
            };
            Progress = function (_a) {
                var value = _a.value;
                return (React.createElement("div", { style: { width: 400, height: 30, display: "inline-block", position: "relative", backgroundColor: "#eee" } },
                    React.createElement("div", { style: { width: Math.floor(200 * value), height: 30, backgroundColor: "#ddffdd", position: "absolute", zIndex: 1, overflow: "visible", whiteSpace: "nowrap" } }, ""),
                    React.createElement("div", { style: { position: "absolute", zIndex: 2 } },
                        Math.floor(value * 100),
                        " %")));
            };
            BulkUploadForm = (function (_super) {
                __extends(BulkUploadForm, _super);
                function BulkUploadForm() {
                    var _this = _super !== null && _super.apply(this, arguments) || this;
                    _this.state = {
                        fileMap: {},
                        unmappedFiles: [],
                        isLoading: false,
                        loadingProgress: 0,
                        doStateTransition: false,
                    };
                    return _this;
                }
                BulkUploadForm.prototype.render = function () {
                    var _this = this;
                    return (React.createElement("div", null,
                        React.createElement("table", { className: index_css_17.default.table },
                            React.createElement("thead", { className: index_css_17.default.tableHead },
                                React.createElement("tr", null,
                                    React.createElement("th", { className: index_css_17.default.tableColumn }, "Paper title"),
                                    React.createElement("th", { className: index_css_17.default.tableColumn }, "Status"),
                                    React.createElement("th", { className: index_css_17.default.tableColumn }, "Required filename"),
                                    React.createElement("th", { className: index_css_17.default.tableColumn }, "Matched filename"))),
                            React.createElement("tbody", null, this.props.articles.map(function (a) { return (React.createElement(FileState, { article: a, file: _this.state.fileMap[a.public_filename] })); }))),
                        React.createElement("form", { className: index_css_18.default.form },
                            React.createElement("input", { type: "file", multiple: true, onChange: function (e) { return _this.stageFiles(e.currentTarget); } }),
                            this.state.unmappedFiles.length > 0 &&
                                React.createElement("div", { className: index_css_18.default.nonMatchedFilesContainer },
                                    React.createElement("div", { className: index_css_18.default.nonMatchedFilesNotice },
                                        React.createElement("span", { style: { color: "#990000" } }, "(!)"),
                                        " ",
                                        "Note: following selected files are not part of this bulk and will not be uploaded:",
                                        React.createElement("ul", { className: index_css_17.default.list }, this.state.unmappedFiles.map(function (f, k) { return React.createElement("li", { key: k }, f); })))),
                            !this.state.isLoading && (React.createElement("div", null,
                                this.props.targetState && (React.createElement("div", { className: index_css_18.default.stateTransition },
                                    React.createElement("label", { className: index_css_17.default.label },
                                        React.createElement("input", { type: "checkbox", name: "doStateTransition", value: "true", checked: this.state.doStateTransition, onChange: function () { return _this.setState({ doStateTransition: !_this.state.doStateTransition }); } }),
                                        "Transition uploaded articles to status: \"",
                                        adminmethods_4.proceedingsArticleStateTranslations[this.props.targetState],
                                        "\""))),
                                React.createElement("div", null,
                                    React.createElement("button", { disabled: Object.keys(this.state.fileMap).length === 0, onClick: function (e) {
                                            e.preventDefault();
                                            _this.save(e.currentTarget.form);
                                        }, className: index_css_17.default.buttonPrimary }, "Upload these files")))),
                            this.state.loadingProgress > 0 && React.createElement(Progress, { value: this.state.loadingProgress }))));
                };
                BulkUploadForm.prototype.stageFiles = function (input) {
                    var fileMap = {};
                    var unmappedFiles = [];
                    var _loop_3 = function (i) {
                        var file = input.files.item(i);
                        var article = this_1.props.articles.find(function (f) { return f.public_filename === file.name; });
                        if (article) {
                            fileMap[article.public_filename] = file.name;
                        }
                        else {
                            unmappedFiles.push(file.name);
                        }
                    };
                    var this_1 = this;
                    for (var i = 0; i < input.files.length; i++) {
                        _loop_3(i);
                    }
                    this.setState(__assign({}, this.state, { fileMap: fileMap,
                        unmappedFiles: unmappedFiles }));
                };
                BulkUploadForm.prototype.progress = function (loaded, total) {
                    this.setState(__assign({}, this.state, { loadingProgress: loaded / total }));
                };
                BulkUploadForm.prototype.save = function (form) {
                    var files = [];
                    for (var i = 0; i < form.elements.length; i++) {
                        var input = form.elements.item(i);
                        if (input.getAttribute("type") === "file") {
                            for (var j = 0; j < input.files.length; j++) {
                                files.push(input.files[j]);
                            }
                        }
                    }
                    this.setState(__assign({}, this.state, { isLoading: true, loadingProgress: 0.0001 }));
                    this.chunkedUpload(files);
                };
                BulkUploadForm.prototype.chunkedUpload = function (files) {
                    var _this = this;
                    var total = files.length;
                    var allfiles = __spread(files);
                    var doChunkedPost = function () {
                        _this.doPost(allfiles.splice(0, 5))
                            .then(function () {
                            if (allfiles.length) {
                                _this.progress(total - allfiles.length, total);
                                doChunkedPost();
                            }
                            else {
                                _this.setState(__assign({}, _this.state, { isLoading: false, loadingProgress: 1 }));
                                location.href = (_this.props.mode === "branded"
                                    ? "/admin/proceedings/" + _this.props.record.id
                                    : "/account/proceedings/" + _this.props.record.id);
                            }
                        })
                            .catch(function (error) {
                            alert(error.toString());
                            _this.setState(__assign({}, _this.state, { isLoading: false, loadingProgress: 1 }));
                        });
                    };
                    doChunkedPost();
                };
                BulkUploadForm.prototype.doPost = function (files) {
                    var _this = this;
                    var data = new FormData();
                    data.set("filenames", JSON.stringify(Object.keys(this.state.fileMap)));
                    if (this.state.doStateTransition) {
                        data.set("targetState", this.props.targetState);
                    }
                    files
                        .filter(function (f) { return f.name in _this.state.fileMap; })
                        .forEach(function (f) {
                        data.set(f.name, f);
                    });
                    var url = (this.props.mode === "branded"
                        ? "/admin/proceedings/" + this.props.record.id + "/save-upload-bulk"
                        : "/account/proceedings/" + this.props.record.id + "/save-upload-bulk");
                    return utils_14.doPost(url, data);
                };
                return BulkUploadForm;
            }(React.Component));
            exports_42("default", BulkUploadForm);
        }
    };
});
System.register("components/Content/index.css", [], function (exports_43, context_43) {
    "use strict";
    var __moduleName = context_43 && context_43.id;
    return {
        setters: [],
        execute: function () {
            exports_43("default", {
                "container": "src-components-Content-container maxWidth",
                "containerInner": "src-components-Content-containerInner content maxWidthInner",
                "padder": "src-components-Content-padder",
                "titleSidebar": "src-components-Content-titleSidebar",
                "titleMain": "src-components-Content-titleMain",
                "bodySidebar": "src-components-Content-bodySidebar",
                "bodyMain": "src-components-Content-bodyMain",
                "withBorder": "src-components-Content-withBorder",
                "intro": "src-components-Content-intro"
            });
        }
    };
});
System.register("components/Content/index", ["components/Content/index.css", "components/Markdown"], function (exports_44, context_44) {
    "use strict";
    var index_css_19, Markdown_1, ContentWithoutSideBar, Content, ContentWithSideBar, Intro, BodyText;
    var __moduleName = context_44 && context_44.id;
    return {
        setters: [
            function (index_css_19_1) {
                index_css_19 = index_css_19_1;
            },
            function (Markdown_1_1) {
                Markdown_1 = Markdown_1_1;
            }
        ],
        execute: function () {
            exports_44("ContentWithoutSideBar", ContentWithoutSideBar = function (_a) {
                var title = _a.title, content = _a.content;
                return (React.createElement(ContentWithSideBar, { title: title, content: content }));
            });
            exports_44("Content", Content = function (_a) {
                var children = _a.children;
                return (React.createElement("div", { className: index_css_19.default.container },
                    React.createElement("div", { className: index_css_19.default.containerInner }, children)));
            });
            exports_44("ContentWithSideBar", ContentWithSideBar = function (_a) {
                var title = _a.title, sidebar = _a.sidebar, content = _a.content;
                return (React.createElement(Content, null,
                    React.createElement("div", { id: "contentTitleSidebar", className: index_css_19.default.titleSidebar }),
                    React.createElement("div", { id: "contentTitle", className: "" + index_css_19.default.titleMain },
                        React.createElement("div", { className: index_css_19.default.padder + " pageTitle" }, title)),
                    React.createElement("div", { id: "sidebar", style: !!sidebar ? {} : { borderTop: 0 }, className: index_css_19.default.bodySidebar }, sidebar),
                    React.createElement("div", { id: "contentPage", className: "" + index_css_19.default.bodyMain },
                        React.createElement("div", { className: index_css_19.default.padder },
                            React.createElement("div", { className: index_css_19.default.withBorder }, content)))));
            });
            exports_44("Intro", Intro = function (_a) {
                var intro = _a.intro;
                return (intro ? React.createElement("div", { className: index_css_19.default.intro }, intro) : null);
            });
            exports_44("BodyText", BodyText = function (_a) {
                var html = _a.html, markdown = _a.markdown, children = _a.children;
                return (markdown
                    ? React.createElement(BodyText, { html: Markdown_1.renderMarkdown(markdown) })
                    : (html
                        ? React.createElement("div", { className: "textContent", dangerouslySetInnerHTML: { __html: html } })
                        : React.createElement("div", { className: "textContent" }, children)));
            });
        }
    };
});
System.register("components/Form/form", ["components/Form/row", "components/Form/index", "domain/formatting"], function (exports_45, context_45) {
    "use strict";
    var row_5, index_3, formatting_6, formalRowSpec, GenericForm;
    var __moduleName = context_45 && context_45.id;
    return {
        setters: [
            function (row_5_1) {
                row_5 = row_5_1;
            },
            function (index_3_1) {
                index_3 = index_3_1;
            },
            function (formatting_6_1) {
                formatting_6 = formatting_6_1;
            }
        ],
        execute: function () {
            formalRowSpec = function (_a) {
                var _b = __read(_a, 4), fieldName = _b[0], _c = _b[1], Component = _c === void 0 ? index_3.Form.Textbox : _c, _d = _b[2], label = _d === void 0 ? formatting_6.systemToHuman(fieldName.toString()) : _d, remark = _b[3];
                return ({ fieldName: fieldName, Component: Component, label: label, remark: remark });
            };
            exports_45("GenericForm", GenericForm = function (_a) {
                var fields = _a.fields, data = _a.data, validation = _a.validation, cancelUrl = _a.cancelUrl, onSubmit = _a.onSubmit;
                return (React.createElement("div", null,
                    fields
                        .map(function (r) { return formalRowSpec(r); })
                        .map(function (_a, k) {
                        var fieldName = _a.fieldName, Component = _a.Component, label = _a.label, remark = _a.remark;
                        return (React.createElement(row_5.FormRow, { key: k, label: label, remark: remark },
                            React.createElement(Component, { validation: validation, data: data, name: fieldName.toString() })));
                    }),
                    React.createElement(row_5.SubmitRow, { cancelUrl: cancelUrl, onSubmit: onSubmit })));
            });
        }
    };
});
System.register("components/Import/ArticleImport", ["components/Import"], function (exports_46, context_46) {
    "use strict";
    var Import_1, MAX_NUM_AUTHORS, AUTHORS_RANGE, columns, extractAuthor, validateArticle, extractArticles, ArticleImport, default_1;
    var __moduleName = context_46 && context_46.id;
    return {
        setters: [
            function (Import_1_1) {
                Import_1 = Import_1_1;
            }
        ],
        execute: function () {
            MAX_NUM_AUTHORS = 12;
            AUTHORS_RANGE = Array.from(Array(MAX_NUM_AUTHORS).keys());
            exports_46("columns", columns = (function () {
                var ret = [
                    ["Paper title", "title"],
                    ["Session name", "session"],
                    ["Keywords", "keywords"],
                    ["Abstract", "summary"],
                    ["Filename (should end with .pdf)", "filename"]
                ];
                AUTHORS_RANGE.forEach(function (i) {
                    ret.push(["Author " + (i + 1) + " (last name)", "author_" + i + "_lastname"]);
                    ret.push(["Author " + (i + 1) + " (first name)", "author_" + i + "_firstname"]);
                });
                ret = ret.concat([
                    ["Corresponding author (last name)", "corresponding_author_lastname"],
                    ["Corresponding author (first name)", "corresponding_author_firstname"],
                ]);
                return ret;
            })());
            extractAuthor = function (obj, prefix) {
                var ret = {};
                if (obj[prefix + "_firstname"] || obj[prefix + "_lastname"]) {
                    ret.firstname = obj[prefix + "_firstname"];
                    ret.lastname = obj[prefix + "_lastname"];
                    return ret;
                }
                return undefined;
            };
            exports_46("validateArticle", validateArticle = function (article) {
                var e_15, _a;
                var errors = [];
                if (article.title === columns[0][0]) {
                    errors.push("This seems to be the title row");
                }
                else {
                    if (!article.title) {
                        errors.push("Title is missing");
                    }
                    if (!article.summary) {
                        errors.push("Summary is missing");
                    }
                    if (!article.filename) {
                        errors.push("Filename is missing");
                    }
                    else if (!article.filename.toLowerCase().match(/^[a-z0-9_-]+\.pdf$/i)) {
                        errors.push("Filename must only contain alphanumeric characters and end in `.pdf`");
                    }
                    if (!article.authors.length) {
                        errors.push("The article has no authors");
                    }
                    try {
                        for (var _b = __values(article.authors), _c = _b.next(); !_c.done; _c = _b.next()) {
                            var author = _c.value;
                            if (!author.lastname) {
                                errors.push("All authors must have a last name");
                            }
                        }
                    }
                    catch (e_15_1) { e_15 = { error: e_15_1 }; }
                    finally {
                        try {
                            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                        }
                        finally { if (e_15) throw e_15.error; }
                    }
                }
                return errors;
            });
            exports_46("extractArticles", extractArticles = function (cells) {
                var colNames = columns.map(function (_a) {
                    var _b = __read(_a, 2), colTitle = _b[0], colName = _b[1];
                    return colName;
                });
                return Import_1.stripWhitespace(cells).map(function (row) {
                    var e_16, _a;
                    var values = {};
                    var intermediate = {};
                    var correspondingAuthor;
                    colNames.forEach(function (colName, idx) {
                        values[colName] = row[idx];
                    });
                    try {
                        for (var _b = __values(["title", "session", "keywords", "summary", "filename"]), _c = _b.next(); !_c.done; _c = _b.next()) {
                            var copyCol = _c.value;
                            if (values[copyCol]) {
                                intermediate[copyCol] = values[copyCol];
                            }
                        }
                    }
                    catch (e_16_1) { e_16 = { error: e_16_1 }; }
                    finally {
                        try {
                            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                        }
                        finally { if (e_16) throw e_16.error; }
                    }
                    intermediate.authors = AUTHORS_RANGE.map(function (i) { return extractAuthor(values, "author_" + i); }).filter(function (f) { return !!f; });
                    correspondingAuthor = extractAuthor(values, "corresponding_author");
                    if (correspondingAuthor) {
                        var duplicate = intermediate.authors.find(function (a) { return a.firstname === correspondingAuthor.firstname && a.lastname === correspondingAuthor.lastname; });
                        if (duplicate) {
                            duplicate.correspondingAuthor = true;
                        }
                        else {
                            correspondingAuthor.correspondingAuthor = true;
                            intermediate.authors.unshift(correspondingAuthor);
                        }
                    }
                    else if (intermediate.authors.length > 0) {
                        intermediate.authors[0].correspondingAuthor = true;
                    }
                    return [
                        intermediate,
                        validateArticle(intermediate),
                    ];
                });
            });
            ArticleImport = (function (_super) {
                __extends(ArticleImport, _super);
                function ArticleImport() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                return ArticleImport;
            }(Import_1.default));
            default_1 = (function (_super) {
                __extends(default_1, _super);
                function default_1() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                default_1.prototype.render = function () {
                    return (React.createElement(ArticleImport, { buttonText: "Save articles", extractor: extractArticles, returnUrl: this.props.returnUrl, saveUrl: this.props.saveUrl, columnNames: columns.map(function (_a) {
                            var _b = __read(_a, 1), title = _b[0];
                            return title;
                        }) }));
                };
                return default_1;
            }(React.Component));
            exports_46("default", default_1);
        }
    };
});
System.register("components/Import/OrganizerImport", ["components/Import"], function (exports_47, context_47) {
    "use strict";
    var Import_2, columns, validateOrganizer, extractOrganizers, OrganizerImport, default_2;
    var __moduleName = context_47 && context_47.id;
    return {
        setters: [
            function (Import_2_1) {
                Import_2 = Import_2_1;
            }
        ],
        execute: function () {
            exports_47("columns", columns = (function () {
                return [
                    ["Committee", "committeeName"],
                    ["Organizer", "organizerName"],
                    ["Organization", "organizationName"],
                    ["Rank", "rank"]
                ];
            })());
            exports_47("validateOrganizer", validateOrganizer = function (organizer) {
                var errors = [];
                if (organizer.committeeName === columns[0][0]) {
                    errors.push("This seems to be the title row");
                }
                else {
                    if (!organizer.committeeName) {
                        errors.push("Committee is missing");
                    }
                    if (!organizer.organizerName) {
                        errors.push("Organizer is missing");
                    }
                    if (!organizer.organizationName) {
                        errors.push("Organization name is missing");
                    }
                }
                return errors;
            });
            extractOrganizers = function (cells) {
                var colNames = columns.map(function (_a) {
                    var _b = __read(_a, 2), colTitle = _b[0], colName = _b[1];
                    return colName;
                });
                return Import_2.stripWhitespace(cells).map(function (row) {
                    var e_17, _a;
                    var values = {};
                    var intermediate = {};
                    colNames.forEach(function (colName, idx) {
                        values[colName] = row[idx];
                    });
                    try {
                        for (var _b = __values(["committeeName", "organizerName", "organizationName", "rank"]), _c = _b.next(); !_c.done; _c = _b.next()) {
                            var copyCol = _c.value;
                            if (values[copyCol]) {
                                intermediate[copyCol] = values[copyCol];
                            }
                        }
                    }
                    catch (e_17_1) { e_17 = { error: e_17_1 }; }
                    finally {
                        try {
                            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                        }
                        finally { if (e_17) throw e_17.error; }
                    }
                    return [
                        intermediate,
                        validateOrganizer(intermediate),
                    ];
                });
            };
            OrganizerImport = (function (_super) {
                __extends(OrganizerImport, _super);
                function OrganizerImport() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                return OrganizerImport;
            }(Import_2.default));
            default_2 = (function (_super) {
                __extends(default_2, _super);
                function default_2() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                default_2.prototype.render = function () {
                    return (React.createElement(OrganizerImport, { buttonText: "Save organizers", extractor: extractOrganizers, returnUrl: this.props.returnUrl, saveUrl: this.props.saveUrl, columnNames: columns.map(function (_a) {
                            var _b = __read(_a, 1), title = _b[0];
                            return title;
                        }) }));
                };
                return default_2;
            }(React.Component));
            exports_47("default", default_2);
        }
    };
});
System.register("components/Import/TableTemplate", ["components/Form/index.css"], function (exports_48, context_48) {
    "use strict";
    var index_css_20, TableTemplate;
    var __moduleName = context_48 && context_48.id;
    return {
        setters: [
            function (index_css_20_1) {
                index_css_20 = index_css_20_1;
            }
        ],
        execute: function () {
            TableTemplate = function (_a) {
                var columns = _a.columns, values = _a.values;
                return (React.createElement("table", { className: index_css_20.default.table },
                    React.createElement("thead", { className: index_css_20.default.tableHead },
                        React.createElement("tr", null, columns.map(function (c, k) { return React.createElement("th", { className: index_css_20.default.tableColumn, key: k }, c[0]); }))),
                    React.createElement("tbody", null, values && values.map(function (row) { return (React.createElement("tr", null, columns.map(function (c) { return React.createElement("td", { className: index_css_20.default.tableCell }, row[c[1]]); }))); }))));
            };
            exports_48("default", TableTemplate);
        }
    };
});
System.register("components/Metrics/index.css", [], function (exports_49, context_49) {
    "use strict";
    var __moduleName = context_49 && context_49.id;
    return {
        setters: [],
        execute: function () {
            exports_49("default", {
                "row": "src-components-Metrics-row",
                "oneThird": "src-components-Metrics-oneThird",
                "title": "src-components-Metrics-title",
                "link": "src-components-Metrics-link"
            });
        }
    };
});
System.register("components/Metrics/summary.css", [], function (exports_50, context_50) {
    "use strict";
    var __moduleName = context_50 && context_50.id;
    return {
        setters: [],
        execute: function () {
            exports_50("default", {
                "summary": "src-components-Metrics-summary"
            });
        }
    };
});
System.register("components/Metrics/summary", ["components/Metrics/index.css", "components/Metrics/summary.css"], function (exports_51, context_51) {
    "use strict";
    var index_css_21, summary_css_1, MetricsSummary;
    var __moduleName = context_51 && context_51.id;
    return {
        setters: [
            function (index_css_21_1) {
                index_css_21 = index_css_21_1;
            },
            function (summary_css_1_1) {
                summary_css_1 = summary_css_1_1;
            }
        ],
        execute: function () {
            exports_51("MetricsSummary", MetricsSummary = function (_a) {
                var title = _a.title, metrics = _a.metrics;
                return (React.createElement("div", { className: summary_css_1.default.summary },
                    React.createElement("h3", null, title),
                    [0, 1, 2].map(function (n) { return (React.createElement("div", { key: n, className: index_css_21.default.row }, [0, 1, 2]
                        .map(function (m) { return n * 3 + m; })
                        .filter(function (idx) { return typeof metrics[idx] !== "undefined"; })
                        .map(function (idx) { return (React.createElement("div", { key: idx, className: index_css_21.default.oneThird },
                        React.createElement("div", { className: index_css_21.default.title }, metrics[idx].title),
                        metrics[idx].url
                            ? React.createElement("a", { className: index_css_21.default.link, href: metrics[idx].url }, metrics[idx].value)
                            : metrics[idx].value)); }))); })));
            });
        }
    };
});
System.register("components/Search/index.css", [], function (exports_52, context_52) {
    "use strict";
    var __moduleName = context_52 && context_52.id;
    return {
        setters: [],
        execute: function () {
            exports_52("default", {
                "content": "src-components-Search-content",
                "counter": "src-components-Search-counter",
                "counterCount": "src-components-Search-counterCount"
            });
        }
    };
});
System.register("components/Search/SearchForm/index.css", [], function (exports_53, context_53) {
    "use strict";
    var __moduleName = context_53 && context_53.id;
    return {
        setters: [],
        execute: function () {
            exports_53("default", {
                "control": "src-components-Search-SearchForm-control",
                "label": "src-components-Search-SearchForm-label",
                "textInput": "src-components-Search-SearchForm-textInput",
                "toggleAdvanced": "src-components-Search-SearchForm-toggleAdvanced",
                "advanced": "src-components-Search-SearchForm-advanced",
                "advancedControl": "src-components-Search-SearchForm-advancedControl",
                "filterContainer": "src-components-Search-SearchForm-filterContainer"
            });
        }
    };
});
System.register("components/Search/SearchFilter/index.css", [], function (exports_54, context_54) {
    "use strict";
    var __moduleName = context_54 && context_54.id;
    return {
        setters: [],
        execute: function () {
            exports_54("default", {
                "-webkit-filter": "src-components-Search-SearchFilter-filter",
                "filter": "src-components-Search-SearchFilter-filter",
                "title": "src-components-Search-SearchFilter-title",
                "label": "src-components-Search-SearchFilter-label",
                "radio": "src-components-Search-SearchFilter-radio"
            });
        }
    };
});
System.register("components/Search/SearchFilter/index", ["components/Search/SearchFilter/index.css"], function (exports_55, context_55) {
    "use strict";
    var index_css_22, filterDefinitions, SearchFilter;
    var __moduleName = context_55 && context_55.id;
    return {
        setters: [
            function (index_css_22_1) {
                index_css_22 = index_css_22_1;
            }
        ],
        execute: function () {
            exports_55("filterDefinitions", filterDefinitions = [
                {
                    name: "type",
                    title: "Search articles within",
                    getQuery: function (value) { return (value !== "*" ? { term: { "publication.type": value } } : null); },
                    options: [
                        { value: "proceedings", label: "Proceedings" },
                        { value: "journal", label: "Journals" },
                        { value: "*", label: "Any" },
                    ],
                },
            ]);
            SearchFilter = (function (_super) {
                __extends(SearchFilter, _super);
                function SearchFilter() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                SearchFilter.prototype.render = function () {
                    var _this = this;
                    return (React.createElement("div", null, filterDefinitions.map(function (filter, j) { return (React.createElement("div", { className: index_css_22.default.filter, key: j.toString() },
                        filter.title && React.createElement("div", { className: index_css_22.default.title },
                            filter.title,
                            ":"),
                        filter.options.map(function (option, i) { return (React.createElement("label", { htmlFor: option.value, className: index_css_22.default.label, key: i.toString() },
                            React.createElement("input", { type: "radio", defaultChecked: _this.props.values.type === option.value, value: option.value, id: option.value, name: filter.name, className: index_css_22.default.radio }),
                            React.createElement("span", null, option.label))); }))); })));
                };
                return SearchFilter;
            }(React.Component));
            exports_55("default", SearchFilter);
        }
    };
});
System.register("components/Search/SearchForm/index", ["components/Search/SearchForm/index.css", "components/Form/index.css", "utils/utils", "components/Search/SearchFilter/index"], function (exports_56, context_56) {
    "use strict";
    var index_css_23, index_css_24, utils_15, SearchFilter_1, SearchForm;
    var __moduleName = context_56 && context_56.id;
    return {
        setters: [
            function (index_css_23_1) {
                index_css_23 = index_css_23_1;
            },
            function (index_css_24_1) {
                index_css_24 = index_css_24_1;
            },
            function (utils_15_1) {
                utils_15 = utils_15_1;
            },
            function (SearchFilter_1_1) {
                SearchFilter_1 = SearchFilter_1_1;
            }
        ],
        execute: function () {
            SearchForm = (function (_super) {
                __extends(SearchForm, _super);
                function SearchForm(props) {
                    var _this = _super.call(this, props) || this;
                    _this.toggleAdvanced = _this.toggleAdvanced.bind(_this);
                    _this.state = {
                        advancedIsActive: props.values.author || props.values.title || props.values.keyword ? true : false,
                    };
                    return _this;
                }
                SearchForm.prototype.toggleAdvanced = function (e) {
                    this.setState({
                        advancedIsActive: !this.state.advancedIsActive,
                    });
                };
                SearchForm.prototype.render = function () {
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = utils_15.registerClientsideComponent("components/Search/SearchForm/index", "default", this.props);
                    }
                    var values = this.props.values;
                    return (React.createElement("div", null,
                        React.createElement("form", { action: this.props.action, id: elementId },
                            React.createElement("div", { className: index_css_23.default.control },
                                React.createElement("input", { className: index_css_23.default.textInput, name: "q", type: "search", defaultValue: values.q, placeholder: "Search", "aria-label": "Search" })),
                            this.state.advancedIsActive &&
                                React.createElement("div", { className: index_css_23.default.advanced },
                                    React.createElement("div", { className: index_css_23.default.advancedControl },
                                        React.createElement("input", { className: index_css_23.default.textInput, name: "author", type: "search", defaultValue: values.author, placeholder: "Author name", "aria-label": "Author" })),
                                    React.createElement("div", { className: index_css_23.default.advancedControl },
                                        React.createElement("input", { className: index_css_23.default.textInput, name: "title", type: "search", defaultValue: values.title, placeholder: "Article title", "aria-label": "Title" })),
                                    React.createElement("div", { className: index_css_23.default.advancedControl },
                                        React.createElement("input", { className: index_css_23.default.textInput, name: "keyword", type: "search", defaultValue: values.keyword, placeholder: "Keyword", "aria-label": "Keyword" }))),
                            this.props.showAdvanced &&
                                React.createElement("div", { onClick: this.toggleAdvanced, className: index_css_23.default.toggleAdvanced },
                                    this.state.advancedIsActive ? "-" : "+",
                                    " ",
                                    React.createElement("span", null, "Advanced search")),
                            this.props.showFilter &&
                                React.createElement("div", { className: index_css_23.default.filterContainer },
                                    React.createElement(SearchFilter_1.default, { values: this.props.filterValues })),
                            React.createElement("div", { className: index_css_23.default.control },
                                React.createElement("button", { type: "submit", className: index_css_24.default.buttonPrimary }, "search")))));
                };
                return SearchForm;
            }(React.Component));
            exports_56("default", SearchForm);
        }
    };
});
System.register("components/Search/Pagination/index.css", [], function (exports_57, context_57) {
    "use strict";
    var __moduleName = context_57 && context_57.id;
    return {
        setters: [],
        execute: function () {
            exports_57("default", {
                "list": "src-components-Search-Pagination-list",
                "item": "src-components-Search-Pagination-item",
                "itemLink": "src-components-Search-Pagination-itemLink",
                "active": "src-components-Search-Pagination-active",
                "break": "src-components-Search-Pagination-break",
                "disabled": "src-components-Search-Pagination-disabled"
            });
        }
    };
});
System.register("components/Search/Pagination/index", ["components/Search/Pagination/index.css", "utils/utils", "utils/style"], function (exports_58, context_58) {
    "use strict";
    var index_css_25, utils_16, style_3, Pagination, Page;
    var __moduleName = context_58 && context_58.id;
    return {
        setters: [
            function (index_css_25_1) {
                index_css_25 = index_css_25_1;
            },
            function (utils_16_1) {
                utils_16 = utils_16_1;
            },
            function (style_3_1) {
                style_3 = style_3_1;
            }
        ],
        execute: function () {
            Pagination = (function (_super) {
                __extends(Pagination, _super);
                function Pagination(props) {
                    var _this = _super.call(this, props) || this;
                    _this.calcPageCount = function () { return Math.ceil(_this.props.totalItems / _this.props.itemsPerPage); };
                    _this.handlePageChange = _this.handlePageChange.bind(_this);
                    return _this;
                }
                Pagination.prototype.renderItems = function () {
                    var currentPage = this.props.currentPage;
                    var pageCount = this.calcPageCount();
                    var pages = [];
                    var left = currentPage - 2;
                    var right = left + 5;
                    if (left < 1) {
                        left = 1;
                        right = Math.min(left + 5, pageCount + 1);
                    }
                    else if (right > pageCount) {
                        right = pageCount + 1;
                        left = Math.max(right - 5, 1);
                    }
                    if (left > 1) {
                        pages.push(React.createElement(Page, { key: "first", activePage: currentPage, page: 1, onClick: this.handlePageChange, link: this.props.baseUrl + "?" + utils_16.buildQueryString(__assign({}, this.props.queryParams, { page: 1 })) }));
                        pages.push(React.createElement("li", { key: "breakleft", className: index_css_25.default.break }, "..."));
                    }
                    for (var i = left; i < right; i++) {
                        pages.push(React.createElement(Page, { key: i, page: i, activePage: currentPage, onClick: this.handlePageChange, link: this.props.baseUrl + "?" + utils_16.buildQueryString(__assign({}, this.props.queryParams, { page: i })) }));
                    }
                    if (right <= pageCount) {
                        pages.push(React.createElement("li", { key: "breakright", className: index_css_25.default.break }, "..."));
                        pages.push(React.createElement(Page, { key: "last", page: pageCount, activePage: currentPage, onClick: this.handlePageChange, link: this.props.baseUrl + "?" + utils_16.buildQueryString(__assign({}, this.props.queryParams, { page: pageCount })) }));
                    }
                    return pages;
                };
                Pagination.prototype.handlePageChange = function (e, page) {
                    if (this.props.onChangePage) {
                        this.props.onChangePage(e, page);
                    }
                };
                Pagination.prototype.render = function () {
                    var _this = this;
                    var _a = this.props, currentPage = _a.currentPage, baseUrl = _a.baseUrl, queryParams = _a.queryParams;
                    var pageCount = this.calcPageCount();
                    return (React.createElement("ul", { className: index_css_25.default.list },
                        React.createElement("li", { className: index_css_25.default.item }, currentPage > 1 &&
                            React.createElement("a", { onClick: function (e) { return _this.handlePageChange(e, currentPage - 1); }, className: style_3.classes(index_css_25.default.itemLink), href: baseUrl + "?" + utils_16.buildQueryString(__assign({}, queryParams, { page: currentPage - 1 })) }, "<")),
                        this.renderItems(),
                        React.createElement("li", { className: index_css_25.default.item }, currentPage < pageCount &&
                            React.createElement("a", { onClick: function (e) { return _this.handlePageChange(e, currentPage + 1); }, className: style_3.classes(index_css_25.default.itemLink), href: baseUrl + "?" + utils_16.buildQueryString(__assign({}, queryParams, { page: currentPage + 1 })) }, ">"))));
                };
                return Pagination;
            }(React.Component));
            exports_58("default", Pagination);
            Page = (function (_super) {
                __extends(Page, _super);
                function Page() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                Page.prototype.render = function () {
                    var _a = this.props, page = _a.page, link = _a.link, activePage = _a.activePage, onClick = _a.onClick;
                    return (React.createElement("li", { key: page, className: index_css_25.default.item },
                        React.createElement("a", { onClick: function (e) { return onClick && onClick(e, page); }, className: style_3.classes(index_css_25.default.itemLink, activePage === page && index_css_25.default.active), href: link }, page)));
                };
                return Page;
            }(React.Component));
        }
    };
});
System.register("components/Search/SearchResult/index", ["components/Search/Pagination/index", "components/listings", "components/article"], function (exports_59, context_59) {
    "use strict";
    var Pagination_1, listings_2, article_4, Result;
    var __moduleName = context_59 && context_59.id;
    return {
        setters: [
            function (Pagination_1_1) {
                Pagination_1 = Pagination_1_1;
            },
            function (listings_2_1) {
                listings_2 = listings_2_1;
            },
            function (article_4_1) {
                article_4 = article_4_1;
            }
        ],
        execute: function () {
            Result = (function (_super) {
                __extends(Result, _super);
                function Result() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                Result.prototype.render = function () {
                    var _a = this.props, result = _a.result, formValues = _a.formValues, filterValues = _a.filterValues, page = _a.page, itemsPerPage = _a.itemsPerPage, context = _a.context;
                    var baseUrl = this.props.baseUrl || "/search";
                    return (React.createElement("div", null,
                        React.createElement(article_4.Counter, { count: result ? result.total : 0, what: "articles" }),
                        result && result.total > 0 &&
                            React.createElement(listings_2.ArticleList, { articles: result.hits.map(function (a) { return a._source; }), context: context }),
                        result && result.total > 0 &&
                            React.createElement(Pagination_1.default, { totalItems: result.total, itemsPerPage: itemsPerPage, currentPage: page, queryParams: __assign({}, formValues, filterValues), baseUrl: baseUrl })));
                };
                return Result;
            }(React.Component));
            exports_59("default", Result);
        }
    };
});
System.register("components/Search/index", ["components/Search/SearchForm/index", "components/Search/SearchResult/index", "components/Search/SearchFilter/index", "components/Search/index.css"], function (exports_60, context_60) {
    "use strict";
    var SearchForm_1, SearchResult_1, SearchFilter_2, index_css_26, Search;
    var __moduleName = context_60 && context_60.id;
    return {
        setters: [
            function (SearchForm_1_1) {
                SearchForm_1 = SearchForm_1_1;
            },
            function (SearchResult_1_1) {
                SearchResult_1 = SearchResult_1_1;
            },
            function (SearchFilter_2_1) {
                SearchFilter_2 = SearchFilter_2_1;
            },
            function (index_css_26_1) {
                index_css_26 = index_css_26_1;
            }
        ],
        execute: function () {
            Search = (function (_super) {
                __extends(Search, _super);
                function Search(props) {
                    var _this = _super.call(this, props) || this;
                    var result = _this.search(props);
                    _this.state = {
                        result: result,
                    };
                    return _this;
                }
                Search.prototype.search = function (props) {
                    var searchValues = props.searchValues, filterValues = props.filterValues, itemsPerPage = props.itemsPerPage, page = props.page, immutableFilters = props.immutableFilters, orderBy = props.orderBy;
                    var filterQuery = [];
                    filterValues && SearchFilter_2.filterDefinitions.forEach(function (filter) {
                        filterQuery.push(filter.getQuery(filterValues[filter.name]));
                    });
                    if (immutableFilters) {
                        filterQuery = filterQuery.concat(immutableFilters);
                    }
                    filterQuery = filterQuery.filter(function (m) { return m; });
                    var matchQuery = [];
                    searchValues.q && matchQuery.push({ query_string: { query: searchValues.q } });
                    searchValues.author && matchQuery.push({
                        match: {
                            "authors.fullname": {
                                query: searchValues.author,
                                operator: "and"
                            }
                        }
                    });
                    searchValues.keyword && matchQuery.push({ match: { keywords: searchValues.keyword } });
                    searchValues.title && matchQuery.push({ match: { title: searchValues.title } });
                    var sort = {};
                    if (orderBy) {
                        var order = this.props.order === "desc" ? "desc" : "asc";
                        sort[orderBy] = { order: order };
                    }
                    else {
                        sort.idorder = { order: "asc" };
                    }
                    return globals.ES.searchHits("article_detail", {
                        query: { bool: { must: matchQuery, filter: filterQuery } },
                        size: itemsPerPage,
                        from: (page - 1) * itemsPerPage,
                        sort: sort,
                    });
                };
                Search.prototype.render = function () {
                    var _a = this.props, searchValues = _a.searchValues, filterValues = _a.filterValues, page = _a.page, itemsPerPage = _a.itemsPerPage, context = _a.context, baseUrl = _a.baseUrl, showFilter = _a.showFilter, showAdvanced = _a.showAdvanced;
                    var result = this.state.result;
                    return (React.createElement("div", { className: index_css_26.default.content },
                        React.createElement(SearchForm_1.default, { values: searchValues, showFilter: showFilter, showAdvanced: showAdvanced, filterValues: filterValues }),
                        result &&
                            React.createElement(SearchResult_1.default, { result: result, itemsPerPage: itemsPerPage, formValues: searchValues, filterValues: filterValues, page: page, context: context, baseUrl: baseUrl })));
                };
                return Search;
            }(React.Component));
            exports_60("default", Search);
        }
    };
});
System.register("components/Search/SearchResult/index.css", [], function (exports_61, context_61) {
    "use strict";
    var __moduleName = context_61 && context_61.id;
    return {
        setters: [],
        execute: function () {
            exports_61("default", {
                "content": "src-components-Search-SearchResult-content"
            });
        }
    };
});
System.register("components/Series/SeriesHeader.css", [], function (exports_62, context_62) {
    "use strict";
    var __moduleName = context_62 && context_62.id;
    return {
        setters: [],
        execute: function () {
            exports_62("default", {
                "header": "src-components-Series-header",
                "coverSection": "src-components-Series-coverSection",
                "coverImage": "src-components-Series-coverImage",
                "metaSection": "src-components-Series-metaSection",
                "content": "src-components-Series-content",
                "logoSection": "src-components-Series-logoSection",
                "metaRow": "src-components-Series-metaRow",
                "meta": "src-components-Series-meta",
                "subscriptionButton": "src-components-Series-subscriptionButton",
                "subscriptionForm": "src-components-Series-subscriptionForm",
                "metaLabel": "src-components-Series-metaLabel",
                "metaValue": "src-components-Series-metaValue",
                "logo": "src-components-Series-logo"
            });
        }
    };
});
System.register("pages/alerts", ["components/Form/index.css", "components/Form/message", "components/Form/row", "components/Form/base"], function (exports_63, context_63) {
    "use strict";
    var index_css_27, message_3, row_6, base_2, preventDefault, TITLES, SubscriptionForm;
    var __moduleName = context_63 && context_63.id;
    return {
        setters: [
            function (index_css_27_1) {
                index_css_27 = index_css_27_1;
            },
            function (message_3_1) {
                message_3 = message_3_1;
            },
            function (row_6_1) {
                row_6 = row_6_1;
            },
            function (base_2_1) {
                base_2 = base_2_1;
            }
        ],
        execute: function () {
            preventDefault = function (callback) { return function (e) {
                e.preventDefault();
                callback(e);
            }; };
            TITLES = ["", "Mr.", "Mrs.", "Ms.", "Dr.", "Prof."];
            SubscriptionForm = (function (_super) {
                __extends(SubscriptionForm, _super);
                function SubscriptionForm(props) {
                    var _this = _super.call(this, props) || this;
                    _this.url = "/alerts";
                    _this.state = {
                        values: {
                            lastname: "",
                            firstname: "",
                            affiliation: "",
                            country: "",
                            email: "",
                            title: ""
                        },
                        status: "initial",
                        validationErrors: []
                    };
                    _this.urlParams = { topic: props.topic };
                    return _this;
                }
                SubscriptionForm.prototype.render = function () {
                    var _this = this;
                    var _a = __read(this.getValidationErrors(), 2), globalErrors = _a[0], fieldErrors = _a[1];
                    return (React.createElement("form", { ref: function (r) { return _this.form = r; }, style: { marginTop: "1rem" }, id: this.props.id, onSubmit: preventDefault(function () { return _this.save(); }), noValidate: true }, this.state.status === "success"
                        ? React.createElement(message_3.Message, { type: "ok" },
                            React.createElement("p", null, "Your request to subscribe to new content alerts for this publication has been received. You will receive an email shortly to confirm your email address."))
                        : (React.createElement("div", null,
                            React.createElement("br", null),
                            React.createElement("p", null, "Please use the form below to subscribe to new content alerts for this publication."),
                            this.state.status === "validation_error"
                                ? React.createElement(message_3.Message, { type: "notice" },
                                    React.createElement("p", null, "Please check the fields below. All fields are required."))
                                : React.createElement("p", { className: index_css_27.default.note }, "*All fields are required"),
                            this.state.status === "validation_error" && globalErrors.length > 0 &&
                                React.createElement(message_3.Message, { type: "notice" },
                                    React.createElement("ul", null, globalErrors.map(function (err, k) { return React.createElement("li", { key: k }, err); }))),
                            React.createElement(row_6.FormRow, { label: "Title", errors: fieldErrors.title },
                                React.createElement("select", { value: this.state.values.title, onChange: function (e) { return _this.setValue("title", e.target.value); } }, TITLES.map(function (t, k) { return React.createElement("option", { key: k, value: t }, t); }))),
                            React.createElement(row_6.FormRow, { label: "First name", errors: fieldErrors.firstname },
                                React.createElement("input", { type: "text", value: this.state.values.firstname, onChange: function (e) { return _this.setValue("firstname", e.target.value); } })),
                            React.createElement(row_6.FormRow, { label: "Last name", errors: fieldErrors.lastname },
                                React.createElement("input", { type: "text", value: this.state.values.lastname, onChange: function (e) { return _this.setValue("lastname", e.target.value); } })),
                            React.createElement(row_6.FormRow, { label: "Affiliation", errors: fieldErrors.affiliation },
                                React.createElement("input", { type: "text", value: this.state.values.affiliation, onChange: function (e) { return _this.setValue("affiliation", e.target.value); } })),
                            React.createElement(row_6.FormRow, { label: "Country", errors: fieldErrors.country },
                                React.createElement("input", { type: "text", value: this.state.values.country, onChange: function (e) { return _this.setValue("country", e.target.value); } })),
                            React.createElement(row_6.FormRow, { label: "Email address", errors: fieldErrors.email },
                                React.createElement("input", { type: "email", value: this.state.values.email, onChange: function (e) { return _this.setValue("email", e.target.value); } })),
                            React.createElement(row_6.FormRow, null,
                                React.createElement("button", { className: index_css_27.default.buttonPrimary, disabled: this.state.status === "loading" || typeof window === "undefined", type: "submit" }, "Submit"),
                                " | ",
                                React.createElement("a", { href: "", onClick: preventDefault(function () { return _this.props.onCancel(); }) }, "Cancel")),
                            this.state.status === "server_error" &&
                                React.createElement(message_3.Message, { type: "error" },
                                    "A server error occurred: ",
                                    this.state.message,
                                    ". Please try again later.")))));
                };
                SubscriptionForm.prototype.validate = function (obj) {
                    var errors = [];
                    if (obj.title.trim() === "") {
                        errors.push(["Title is required", "title"]);
                    }
                    if (obj.firstname.trim() === "") {
                        errors.push(["First name is required", "firstname"]);
                    }
                    if (obj.lastname.trim() === "") {
                        errors.push(["Last name is required", "lastname"]);
                    }
                    if (obj.email.trim() === "") {
                        errors.push(["Email address is required", "email"]);
                    }
                    else if (!obj.email.trim().match(/^\S+@\S+\.\S+/)) {
                        errors.push(["Please enter a valid email address", "email"]);
                    }
                    if (obj.affiliation.trim() === "") {
                        errors.push(["Affiliation is required", "affiliation"]);
                    }
                    if (obj.country.trim() === "") {
                        errors.push(["Country is required", "country"]);
                    }
                    return errors;
                };
                return SubscriptionForm;
            }(base_2.BaseForm));
            exports_63("SubscriptionForm", SubscriptionForm);
        }
    };
});
System.register("components/Series/SeriesHeader", ["components/Form/index.css", "components/Series/SeriesHeader.css", "pages/alerts"], function (exports_64, context_64) {
    "use strict";
    var index_css_28, SeriesHeader_css_1, alerts_1, Meta, SeriesHeader;
    var __moduleName = context_64 && context_64.id;
    return {
        setters: [
            function (index_css_28_1) {
                index_css_28 = index_css_28_1;
            },
            function (SeriesHeader_css_1_1) {
                SeriesHeader_css_1 = SeriesHeader_css_1_1;
            },
            function (alerts_1_1) {
                alerts_1 = alerts_1_1;
            }
        ],
        execute: function () {
            Meta = function (_a) {
                var label = _a.label, value = _a.value;
                return (React.createElement("div", { className: SeriesHeader_css_1.default.meta },
                    React.createElement("div", { className: SeriesHeader_css_1.default.metaLabel }, label),
                    React.createElement("div", { className: SeriesHeader_css_1.default.metaValue }, value)));
            };
            SeriesHeader = (function (_super) {
                __extends(SeriesHeader, _super);
                function SeriesHeader() {
                    var _this = _super !== null && _super.apply(this, arguments) || this;
                    _this.state = {
                        isFormVisible: false
                    };
                    return _this;
                }
                SeriesHeader.prototype.render = function () {
                    var _this = this;
                    var _a = this.props, cover = _a.cover, content = _a.content, logo = _a.logo, subscriptionTopic = _a.subscriptionTopic, introTitle = _a.introTitle, eIssn = _a.eIssn, pIssn = _a.pIssn, introLink = _a.introLink;
                    var id = "";
                    if (typeof window === "undefined") {
                        id = globals.registerClientSideComponent("components/Series/SeriesHeader", "SeriesHeader", this.props);
                    }
                    return (React.createElement("div", { id: id },
                        React.createElement("div", { className: SeriesHeader_css_1.default.header },
                            cover &&
                                React.createElement("div", { className: SeriesHeader_css_1.default.coverSection },
                                    React.createElement("img", { className: SeriesHeader_css_1.default.coverImage, src: cover.fields.file.url })),
                            logo &&
                                React.createElement("div", { className: SeriesHeader_css_1.default.logoSection },
                                    React.createElement("img", { style: { width: 120 }, src: logo.fields.file.url })),
                            React.createElement("div", { className: SeriesHeader_css_1.default.metaSection },
                                React.createElement("div", { className: SeriesHeader_css_1.default.metaRow },
                                    eIssn &&
                                        React.createElement(Meta, { label: "ISSN (Online):", value: eIssn }),
                                    pIssn &&
                                        React.createElement(Meta, { label: "ISSN (Print):", value: pIssn })),
                                React.createElement("div", { className: "textContent " + SeriesHeader_css_1.default.content },
                                    content &&
                                        React.createElement(Meta, { label: introTitle, value: React.createElement("div", { dangerouslySetInnerHTML: { __html: content } }) }),
                                    introLink && React.createElement("div", null,
                                        React.createElement("a", { href: introLink.href }, introLink.text))),
                                subscriptionTopic &&
                                    React.createElement("div", { className: SeriesHeader_css_1.default.subscriptionButton },
                                        React.createElement("button", { disabled: this.state.isFormVisible, className: index_css_28.default.buttonPrimary, onClick: function () { return _this.setState({ isFormVisible: true }); } }, "New content alerts")))),
                        subscriptionTopic && this.state.isFormVisible &&
                            React.createElement("div", { className: SeriesHeader_css_1.default.subscriptionForm },
                                React.createElement(alerts_1.SubscriptionForm, { id: "foo", topic: subscriptionTopic, onCancel: function () { return _this.setState({ isFormVisible: false }); } })),
                        React.createElement("div", { style: { clear: "left" } })));
                };
                return SeriesHeader;
            }(React.Component));
            exports_64("SeriesHeader", SeriesHeader);
        }
    };
});
System.register("components/SocialLinks/index.css", [], function (exports_65, context_65) {
    "use strict";
    var __moduleName = context_65 && context_65.id;
    return {
        setters: [],
        execute: function () {
            exports_65("default", {
                "social": "src-components-SocialLinks-social",
                "follow": "src-components-SocialLinks-follow"
            });
        }
    };
});
System.register("components/SocialLinks/index", ["components/SocialLinks/index.css"], function (exports_66, context_66) {
    "use strict";
    var index_css_29, links, SocialLinks, Follow;
    var __moduleName = context_66 && context_66.id;
    return {
        setters: [
            function (index_css_29_1) {
                index_css_29 = index_css_29_1;
            }
        ],
        execute: function () {
            links = [
                ["facebook-official", "https://www.facebook.com/AtlantisPress/", "Facebook"],
                ["twitter", "https://twitter.com/prmarketingAP", "Twitter"],
                ["linkedin-squared", "https://www.linkedin.com/company/atlantis-press/", "LinkedIn"],
            ];
            exports_66("SocialLinks", SocialLinks = function () { return (links.map(function (_a, index) {
                var _b = __read(_a, 3), type = _b[0], url = _b[1], title = _b[2];
                return React.createElement("a", { key: index, target: "_blank", className: index_css_29.default.social, title: title, href: url },
                    React.createElement("i", { className: "icon-" + type }));
            })); });
            exports_66("Follow", Follow = function () { return (React.createElement("div", { className: index_css_29.default.follow },
                React.createElement("p", null,
                    "Follow Atlantis Press: ",
                    SocialLinks()))); });
        }
    };
});
System.register("layouts/Default.css", [], function (exports_67, context_67) {
    "use strict";
    var __moduleName = context_67 && context_67.id;
    return {
        setters: [],
        execute: function () {
            exports_67("default", {
                "title": "src-layouts-title",
                "sidebarContainer": "src-layouts-sidebarContainer maxWidth",
                "sidebar": "src-layouts-sidebar",
                "contentWithSidebar": "src-layouts-contentWithSidebar undefined",
                "textContent": "src-layouts-textContent",
                "heading": "src-layouts-heading",
                "headingPrimary": "src-layouts-headingPrimary",
                "headingSecondary": "src-layouts-headingSecondary",
                "headingTertrairy": "src-layouts-headingTertrairy",
                "headinQuaternary": "src-layouts-headinQuaternary"
            });
        }
    };
});
System.register("layouts/Footer/index.css", [], function (exports_68, context_68) {
    "use strict";
    var __moduleName = context_68 && context_68.id;
    return {
        setters: [],
        execute: function () {
            exports_68("default", {
                "main": "src-layouts-Footer-main",
                "titleLink": "src-layouts-Footer-titleLink",
                "titleMain": "src-layouts-Footer-titleMain",
                "container": "src-layouts-Footer-container maxWidth",
                "containerInner": "src-layouts-Footer-containerInner maxWidthInner",
                "about": "src-layouts-Footer-about",
                "aboutText": "src-layouts-Footer-aboutText",
                "contact": "src-layouts-Footer-contact",
                "linkList": "src-layouts-Footer-linkList",
                "link": "src-layouts-Footer-link",
                "copyrightMenu": "src-layouts-Footer-copyrightMenu maxWidth",
                "copyrightMenuInner": "src-layouts-Footer-copyrightMenuInner maxWidthInner",
                "footerLeft": "src-layouts-Footer-footerLeft",
                "footerRight": "src-layouts-Footer-footerRight",
                "footerRightItem": "src-layouts-Footer-footerRightItem",
                "smallLink": "src-layouts-Footer-smallLink"
            });
        }
    };
});
System.register("layouts/Footer/index", ["layouts/Footer/index.css", "components/SocialLinks/index", "utils/style"], function (exports_69, context_69) {
    "use strict";
    var index_css_30, SocialLinks_1, style_4, Footer;
    var __moduleName = context_69 && context_69.id;
    return {
        setters: [
            function (index_css_30_1) {
                index_css_30 = index_css_30_1;
            },
            function (SocialLinks_1_1) {
                SocialLinks_1 = SocialLinks_1_1;
            },
            function (style_4_1) {
                style_4 = style_4_1;
            }
        ],
        execute: function () {
            Footer = (function (_super) {
                __extends(Footer, _super);
                function Footer() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                Footer.prototype.render = function () {
                    var year = (new Date()).getFullYear();
                    return (React.createElement("footer", { id: "footer", className: index_css_30.default.main },
                        React.createElement("div", { className: index_css_30.default.container },
                            React.createElement("div", { className: index_css_30.default.containerInner },
                                React.createElement("div", { className: index_css_30.default.about },
                                    React.createElement("h2", { className: index_css_30.default.titleMain },
                                        React.createElement("a", { className: index_css_30.default.titleLink, href: "/" }, "Atlantis Press")),
                                    React.createElement("div", { className: index_css_30.default.aboutText },
                                        React.createElement("p", null, "Atlantis Press is a professional publisher of scientific, technical and medical (STM) proceedings, journals and books. We offer world-class services, fast turnaround times and personalised communication. The proceedings and journals on our platform are Open Access and generate millions of downloads every month.")),
                                    React.createElement("div", { className: style_4.classes(index_css_30.default.contact, "textContent") },
                                        React.createElement("div", null,
                                            "For more information, please contact us at: ",
                                            React.createElement("a", { href: "mailto:contact@atlantis-press.com" }, "contact@atlantis-press.com")))),
                                React.createElement("div", { className: index_css_30.default.linkList },
                                    React.createElement("a", { className: index_css_30.default.link, href: "/proceedings" },
                                        React.createElement("span", null, "Proceedings")),
                                    React.createElement("a", { className: index_css_30.default.link, href: "/journals" },
                                        React.createElement("span", null, "Journals")),
                                    React.createElement("a", { className: index_css_30.default.link, href: "/books" },
                                        React.createElement("span", null, "Books")),
                                    React.createElement("a", { className: index_css_30.default.link, href: "/products-and-services/publishing-services" },
                                        React.createElement("span", null, "Publishing services"))),
                                React.createElement("div", { className: index_css_30.default.linkList },
                                    React.createElement("a", { className: index_css_30.default.link, href: "/about" },
                                        React.createElement("span", null, "About")),
                                    React.createElement("a", { className: index_css_30.default.link, href: "/news" },
                                        React.createElement("span", null, "News")),
                                    React.createElement("a", { className: index_css_30.default.link, href: "/contact" },
                                        React.createElement("span", null, "Contact")),
                                    React.createElement("a", { className: index_css_30.default.link, href: "/search" },
                                        React.createElement("span", null, "Search"))))),
                        React.createElement("div", { className: index_css_30.default.copyrightMenu },
                            React.createElement("div", { className: index_css_30.default.copyrightMenuInner },
                                React.createElement("div", { className: index_css_30.default.footerLeft },
                                    "Copyright \u00A9 2006-",
                                    year,
                                    " Atlantis Press"),
                                React.createElement("div", { className: index_css_30.default.footerRight },
                                    React.createElement("div", { className: index_css_30.default.footerRightItem },
                                        React.createElement("a", { className: index_css_30.default.smallLink, href: "/" }, "Home"),
                                        React.createElement("a", { className: index_css_30.default.smallLink, href: "/privacy-policy" }, "Privacy Policy"),
                                        React.createElement("a", { className: index_css_30.default.smallLink, href: "/terms-of-use" }, "Terms of use")),
                                    React.createElement("div", { className: index_css_30.default.footerRightItem }, SocialLinks_1.SocialLinks()))))));
                };
                return Footer;
            }(React.Component));
            exports_69("default", Footer);
        }
    };
});
System.register("layouts/Header/index.css", [], function (exports_70, context_70) {
    "use strict";
    var __moduleName = context_70 && context_70.id;
    return {
        setters: [],
        execute: function () {
            exports_70("default", {
                "main": "src-layouts-Header-main",
                "container": "src-layouts-Header-container maxWidth",
                "containerInner": "src-layouts-Header-containerInner maxWidthInner",
                "logo": "src-layouts-Header-logo",
                "logoImage": "src-layouts-Header-logoImage",
                "link": "src-layouts-Header-link",
                "submenuContainer": "src-layouts-Header-submenuContainer",
                "submenu": "src-layouts-Header-submenu",
                "submenuItem": "src-layouts-Header-submenuItem",
                "isActive": "src-layouts-Header-isActive",
                "submenuLink": "src-layouts-Header-submenuLink src-layouts-Header-link",
                "submenuChildren": "src-layouts-Header-submenuChildren",
                "submenuItemChild": "src-layouts-Header-submenuItemChild",
                "submenuItemChildLink": "src-layouts-Header-submenuItemChildLink",
                "submenuItemChildLinkText": "src-layouts-Header-submenuItemChildLinkText",
                "menuContainer": "src-layouts-Header-menuContainer maxWidth",
                "menuContainerInner": "src-layouts-Header-menuContainerInner maxWidthInner",
                "menu": "src-layouts-Header-menu",
                "menuItem": "src-layouts-Header-menuItem",
                "search": "src-layouts-Header-search",
                "searchBox": "src-layouts-Header-searchBox",
                "searchButton": "src-layouts-Header-searchButton",
                "menuLink": "src-layouts-Header-menuLink src-layouts-Header-link",
                "menuClose": "src-layouts-Header-menuClose src-layouts-Header-menuButton",
                "menuOpen": "src-layouts-Header-menuOpen src-layouts-Header-menuButton",
                "menuButton": "src-layouts-Header-menuButton",
                "menuText": "src-layouts-Header-menuText",
                "logoContainer": "src-layouts-Header-logoContainer"
            });
        }
    };
});
System.register("layouts/Header/index", ["layouts/Header/index.css", "utils/utils", "utils/style"], function (exports_71, context_71) {
    "use strict";
    var index_css_31, utils_17, style_5, SubItemLink, Header;
    var __moduleName = context_71 && context_71.id;
    return {
        setters: [
            function (index_css_31_1) {
                index_css_31 = index_css_31_1;
            },
            function (utils_17_1) {
                utils_17 = utils_17_1;
            },
            function (style_5_1) {
                style_5 = style_5_1;
            }
        ],
        execute: function () {
            SubItemLink = function (_a) {
                var href = _a.href, children = _a.children;
                return (React.createElement("a", { className: index_css_31.default.submenuItemChildLink, href: href },
                    React.createElement("span", { className: index_css_31.default.submenuItemChildLinkText }, children)));
            };
            Header = (function (_super) {
                __extends(Header, _super);
                function Header() {
                    var _this = _super !== null && _super.apply(this, arguments) || this;
                    _this.isActiveSubitem = function (slug) { return utils_17.endsWith(utils_17.getRequestPath(), slug); };
                    return _this;
                }
                Header.prototype.render = function () {
                    var currentPath = this.props.currentPath;
                    return (React.createElement("div", { id: "menu", className: index_css_31.default.main },
                        React.createElement("div", { id: "menuContainer", className: index_css_31.default.container },
                            React.createElement("div", { className: index_css_31.default.containerInner },
                                React.createElement("a", { id: "logo", href: "/", className: index_css_31.default.logo },
                                    React.createElement("img", { className: index_css_31.default.logoImage, src: "/images/atlantis-press.svg", title: "Atlantis Press", alt: "Atlantis Press Logo", width: "120", height: "40" })),
                                React.createElement("nav", { className: index_css_31.default.submenuContainer },
                                    React.createElement("ul", { className: index_css_31.default.submenu },
                                        React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItem, currentPath.startsWith("/about") && index_css_31.default.isActive) },
                                            React.createElement("a", { className: style_5.classes(index_css_31.default.submenuLink, currentPath.startsWith("/about") && index_css_31.default.isActive), href: "/about" }, "About"),
                                            React.createElement("ul", { className: index_css_31.default.submenuChildren },
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("company-profile") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/about/company-profile" }, "Company Profile")),
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("executive-directors") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/about/executive-directors" }, "Executive Directors")),
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("advisory-board") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/about/advisory-board" }, "Advisory Board")),
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("publishing-team") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/about/publishing-team" }, "Publishing Team")),
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("production-team") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/about/production-team" }, "Production Team")),
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("careers") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/about/careers" }, "Careers")))),
                                        React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItem, currentPath.startsWith("/news") && index_css_31.default.isActive) },
                                            React.createElement("a", { className: style_5.classes(index_css_31.default.submenuLink, currentPath.startsWith("/news") && index_css_31.default.isActive), href: "/news" }, "News"),
                                            React.createElement("ul", { className: index_css_31.default.submenuChildren },
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("archive") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/news/archive" }, "News archive")))),
                                        React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItem, currentPath.startsWith("/products-and-services") && index_css_31.default.isActive) },
                                            React.createElement("a", { className: style_5.classes(index_css_31.default.submenuLink, currentPath.startsWith("/products-and-services") && index_css_31.default.isActive), href: "/products-and-services" }, "Products & Services"),
                                            React.createElement("ul", { className: index_css_31.default.submenuChildren },
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("proceedings") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/proceedings" }, "Proceedings")),
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("journals") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/journals" }, "Journals")),
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("books") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/books" }, "Books")),
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("publishing-services") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/products-and-services/publishing-services" }, "Publishing Services")),
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("publishing-consultancy") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/products-and-services/publishing-consultancy" }, "Publishing Consultancy")))),
                                        React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItem, currentPath.startsWith("/policies") && index_css_31.default.isActive) },
                                            React.createElement("a", { className: style_5.classes(index_css_31.default.submenuLink, currentPath.startsWith("/policies") && index_css_31.default.isActive), href: "/policies" }, "Policies"),
                                            React.createElement("ul", { className: index_css_31.default.submenuChildren },
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("submission-and-author-guidelines") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/policies/submission-and-author-guidelines" }, "Submission & Author Guidelines")),
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("transparency-and-research-data") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/policies/transparency-and-research-data" }, "Transparency & Research Data")),
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("peer-review-and-editorial-independence") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/policies/peer-review-and-editorial-independence" }, "Peer Review & Editorial Independence")),
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("publishing-ethics-and-misconduct") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/policies/publishing-ethics-and-misconduct" }, "Publishing Ethics & Misconduct")),
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("article-retraction-and-withdrawal") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/policies/article-retraction-and-withdrawal" }, "Article Retraction & Withdrawal")),
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("open-access-and-article-sharing") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/policies/open-access-and-article-sharing" }, "Open Access & Article Sharing")),
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("content-hosting-and-archiving") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/policies/content-hosting-and-archiving" }, "Content Hosting & Archiving")),
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("trade-sanctions-and-publishing") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/policies/trade-sanctions-and-publishing" }, "Trade Sanctions & Publishing")),
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("data-privacy-principles") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/policies/data-privacy-principles" }, "Data Privacy Principles")))),
                                        React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItem, currentPath.startsWith("/industry-affiliations") && index_css_31.default.isActive) },
                                            React.createElement("a", { className: style_5.classes(index_css_31.default.submenuLink, currentPath.startsWith("/industry-affiliations") && index_css_31.default.isActive), href: "/industry-affiliations" }, "Industry Affiliations"),
                                            React.createElement("ul", { className: index_css_31.default.submenuChildren },
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("professional-organizations") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/industry-affiliations/professional-organizations" }, "Professional Organizations")),
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("indexing-databases") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/industry-affiliations/indexing-databases" }, "Indexing Databases")),
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("learned-societies") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/industry-affiliations/learned-societies" }, "Learned Societies")),
                                                React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItemChild, this.isActiveSubitem("research-institutions") && index_css_31.default.isActive) },
                                                    React.createElement(SubItemLink, { href: "/industry-affiliations/research-institutions" }, "Research Institutions")))),
                                        React.createElement("li", { className: style_5.classes(index_css_31.default.submenuItem, currentPath.startsWith("/contact") && index_css_31.default.isActive) },
                                            React.createElement("a", { className: style_5.classes(index_css_31.default.submenuLink, currentPath.startsWith("/contact") && index_css_31.default.isActive), href: "/contact" }, "Contact")))))),
                        React.createElement("div", { className: index_css_31.default.menuContainer },
                            React.createElement("div", { className: index_css_31.default.menuContainerInner },
                                React.createElement("nav", { className: index_css_31.default.menu },
                                    React.createElement("div", { className: index_css_31.default.menuItem },
                                        React.createElement("a", { className: style_5.classes(index_css_31.default.menuLink, currentPath.startsWith("/proceedings") && index_css_31.default.isActive), href: "/proceedings" },
                                            React.createElement("span", null, "proceedings"))),
                                    React.createElement("div", { className: index_css_31.default.menuItem },
                                        React.createElement("a", { className: style_5.classes(index_css_31.default.menuLink, currentPath.startsWith("/journals") && index_css_31.default.isActive), href: "/journals" },
                                            React.createElement("span", null, "journals"))),
                                    React.createElement("div", { className: index_css_31.default.menuItem },
                                        React.createElement("a", { className: style_5.classes(index_css_31.default.menuLink, currentPath.startsWith("/books") && index_css_31.default.isActive), href: "/books" },
                                            React.createElement("span", null, "books")))),
                                React.createElement("form", { className: index_css_31.default.search, action: "/search", method: "get" },
                                    React.createElement("input", { className: index_css_31.default.searchBox, type: "search", name: "q", placeholder: "Search", "aria-label": "Search" }),
                                    React.createElement("button", { type: "submit", className: index_css_31.default.searchButton },
                                        React.createElement("img", { style: { width: 20, height: 20, display: "block", margin: "2px 5px" }, src: "/images/loupe.svg", width: 20, height: 20 }))))),
                        React.createElement("a", { href: "#menu", className: index_css_31.default.menuOpen },
                            React.createElement("div", { className: index_css_31.default.menuText }, "Menu")),
                        React.createElement("a", { href: "#", className: index_css_31.default.menuClose },
                            React.createElement("div", { className: index_css_31.default.menuText }, "Close"))));
                };
                return Header;
            }(React.Component));
            exports_71("default", Header);
        }
    };
});
System.register("layouts/Default", ["layouts/Footer/index", "layouts/Header/index"], function (exports_72, context_72) {
    "use strict";
    var index_4, index_5, App;
    var __moduleName = context_72 && context_72.id;
    return {
        setters: [
            function (index_4_1) {
                index_4 = index_4_1;
            },
            function (index_5_1) {
                index_5 = index_5_1;
            }
        ],
        execute: function () {
            App = (function (_super) {
                __extends(App, _super);
                function App() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                App.prototype.render = function () {
                    return (React.createElement("div", __assign({}, { id: this.props.id }),
                        React.createElement(index_5.default, { currentPath: this.props.currentPath }),
                        React.createElement("div", { id: "contentContainer" }, this.props.children),
                        React.createElement(index_4.default, null)));
                };
                return App;
            }(React.Component));
            exports_72("default", App);
        }
    };
});
System.register("layouts/Layout", ["layouts/Footer/index", "layouts/Header/index", "Default.css"], function (exports_73, context_73) {
    "use strict";
    var index_6, index_7, App;
    var __moduleName = context_73 && context_73.id;
    return {
        setters: [
            function (index_6_1) {
                index_6 = index_6_1;
            },
            function (index_7_1) {
                index_7 = index_7_1;
            },
            function (_1) {
            }
        ],
        execute: function () {
            App = (function (_super) {
                __extends(App, _super);
                function App() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                App.prototype.render = function () {
                    return (React.createElement("div", { id: "mainContainer" },
                        React.createElement(index_7.default, { currentPath: this.props.currentPath }),
                        this.props.children,
                        React.createElement(index_6.default, null)));
                };
                return App;
            }(React.Component));
            exports_73("default", App);
        }
    };
});
System.register("layouts/dashboards.css", [], function (exports_74, context_74) {
    "use strict";
    var __moduleName = context_74 && context_74.id;
    return {
        setters: [],
        execute: function () {
            exports_74("default", {
                "main": "src-layouts-main",
                "container": "src-layouts-container maxWidth",
                "container2": "src-layouts-container2 maxWidth content",
                "sectionComment": "src-layouts-sectionComment",
                "details": "src-layouts-details",
                "logo": "src-layouts-logo",
                "logoImage": "src-layouts-logoImage",
                "link": "src-layouts-link",
                "submenu": "src-layouts-submenu",
                "submenuItem": "src-layouts-submenuItem src-layouts-link",
                "isActive": "src-layouts-isActive"
            });
        }
    };
});
System.register("layouts/dashboards", ["layouts/dashboards.css"], function (exports_75, context_75) {
    "use strict";
    var dashboards_css_1, Section, ActionNav, Details, Dashboard, Account, Admin;
    var __moduleName = context_75 && context_75.id;
    return {
        setters: [
            function (dashboards_css_1_1) {
                dashboards_css_1 = dashboards_css_1_1;
            }
        ],
        execute: function () {
            exports_75("Section", Section = function (_a) {
                var title = _a.title, note = _a.note, children = _a.children;
                return (React.createElement("section", null,
                    React.createElement("h2", null, title),
                    note && React.createElement("div", { className: dashboards_css_1.default.sectionComment }, note),
                    React.createElement("div", null, children)));
            });
            exports_75("ActionNav", ActionNav = function (_a) {
                var links = _a.links;
                return (React.createElement("div", null, links.map(function (l, i) { return (React.createElement("span", { key: i },
                    React.createElement("a", { href: l.href },
                        "+ ",
                        l.title),
                    " ")); })));
            });
            exports_75("Details", Details = function (_a) {
                var children = _a.children;
                return (React.createElement("div", { className: dashboards_css_1.default.details }, children));
            });
            Dashboard = (function (_super) {
                __extends(Dashboard, _super);
                function Dashboard() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                Dashboard.prototype.render = function () {
                    var _a = this.props, baseUrl = _a.baseUrl, nav = _a.nav, title = _a.title, back = _a.back, attributes = __rest(_a, ["baseUrl", "nav", "title", "back"]);
                    return (React.createElement("div", __assign({}, attributes),
                        React.createElement("div", { id: "contentContainer" },
                            React.createElement("header", null,
                                React.createElement("div", { id: "menu", className: dashboards_css_1.default.main },
                                    React.createElement("div", { className: dashboards_css_1.default.container },
                                        React.createElement("a", { href: baseUrl, className: dashboards_css_1.default.logo },
                                            React.createElement("img", { className: dashboards_css_1.default.logoImage, src: "/images/atlantis-press--dark.svg", title: "Atlantis Press", alt: "Atlantis Press Logo", width: "120", height: "40" })),
                                        nav))),
                            React.createElement("div", { className: dashboards_css_1.default.container2 },
                                React.createElement("h1", null, title),
                                React.createElement("div", null, back && React.createElement("a", { href: back.href, className: dashboards_css_1.default.link },
                                    "\u2190 ",
                                    back.title)),
                                this.props.children))));
                };
                return Dashboard;
            }(React.Component));
            exports_75("Dashboard", Dashboard);
            exports_75("Account", Account = function (_a) {
                var children = _a.children, props = __rest(_a, ["children"]);
                return (React.createElement(Dashboard, __assign({ baseUrl: "/account", nav: React.createElement("nav", { className: dashboards_css_1.default.submenu },
                        React.createElement("a", { className: dashboards_css_1.default.submenuItem, href: "/account" }, "Overview"),
                        React.createElement("a", { className: dashboards_css_1.default.submenuItem, href: "/account/proceedings-proposal" }, "Proceedings proposal"),
                        React.createElement("a", { className: dashboards_css_1.default.submenuItem, href: "/logout" }, "Logout")) }, props), children));
            });
            exports_75("Admin", Admin = function (_a) {
                var children = _a.children, props = __rest(_a, ["children"]);
                return (React.createElement(Dashboard, __assign({ baseUrl: "/admin", nav: React.createElement("nav", { className: dashboards_css_1.default.submenu },
                        React.createElement("a", { className: dashboards_css_1.default.submenuItem, href: "/admin" }, "Overview"),
                        React.createElement("a", { className: dashboards_css_1.default.submenuItem, href: "/admin/proceedings" }, "Proceedings"),
                        React.createElement("a", { className: dashboards_css_1.default.submenuItem, href: "/admin/journals" }, "Journals"),
                        React.createElement("a", { className: dashboards_css_1.default.submenuItem, href: "/admin/users" }, "Users"),
                        React.createElement("a", { className: dashboards_css_1.default.submenuItem, href: "/logout" }, "Logout")) }, props), children));
            });
        }
    };
});
System.register("layouts/legacy.css", [], function (exports_76, context_76) {
    "use strict";
    var __moduleName = context_76 && context_76.id;
    return {
        setters: [],
        execute: function () {
            exports_76("default", {});
        }
    };
});
System.register("pages/403", ["layouts/Default", "components/Content/index"], function (exports_77, context_77) {
    "use strict";
    var Default_1, Content_1, AccessDenied;
    var __moduleName = context_77 && context_77.id;
    return {
        setters: [
            function (Default_1_1) {
                Default_1 = Default_1_1;
            },
            function (Content_1_1) {
                Content_1 = Content_1_1;
            }
        ],
        execute: function () {
            AccessDenied = (function (_super) {
                __extends(AccessDenied, _super);
                function AccessDenied() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                AccessDenied.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            defaults.title,
                            " - 403: Access Denied"),
                    ];
                };
                AccessDenied.prototype.render = function () {
                    var _a = this.props, message = _a.message, currentPath = _a.currentPath;
                    return (React.createElement(Default_1.default, { currentPath: currentPath },
                        React.createElement(Content_1.ContentWithoutSideBar, { title: React.createElement("h1", null, "Insufficient credentials"), content: React.createElement("div", { className: "textContent" },
                                message && React.createElement("p", null, message),
                                React.createElement("p", null,
                                    "Please contact us if you feel this is not in order, or try ",
                                    React.createElement("a", { href: "/_auth/logout?return_url=" + currentPath }, "logging out"),
                                    " and logging back in again.")) })));
                };
                return AccessDenied;
            }(React.Component));
            exports_77("default", AccessDenied);
        }
    };
});
System.register("pages/404", ["layouts/Default", "components/Content/index"], function (exports_78, context_78) {
    "use strict";
    var Default_2, Content_2, NotFound;
    var __moduleName = context_78 && context_78.id;
    return {
        setters: [
            function (Default_2_1) {
                Default_2 = Default_2_1;
            },
            function (Content_2_1) {
                Content_2 = Content_2_1;
            }
        ],
        execute: function () {
            NotFound = (function (_super) {
                __extends(NotFound, _super);
                function NotFound() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                NotFound.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            defaults.title,
                            " - 404: Page not found"),
                    ];
                };
                NotFound.prototype.render = function () {
                    var _a = this.props, message = _a.message, currentPath = _a.currentPath;
                    return (React.createElement(Default_2.default, { currentPath: currentPath },
                        React.createElement(Content_2.ContentWithoutSideBar, { title: React.createElement("h1", null, "Page not found."), content: React.createElement("div", null,
                                message && React.createElement("p", null, message),
                                React.createElement("p", null,
                                    "We recommend you to use our ",
                                    React.createElement("a", { href: "/search" }, "search form"),
                                    " or visit the ",
                                    React.createElement("a", { href: "/" }, "homepage"),
                                    ".")) })));
                };
                return NotFound;
            }(React.Component));
            exports_78("default", NotFound);
        }
    };
});
System.register("pages/500", ["layouts/Default", "components/Content/index"], function (exports_79, context_79) {
    "use strict";
    var Default_3, Content_3, InternalServerError;
    var __moduleName = context_79 && context_79.id;
    return {
        setters: [
            function (Default_3_1) {
                Default_3 = Default_3_1;
            },
            function (Content_3_1) {
                Content_3 = Content_3_1;
            }
        ],
        execute: function () {
            InternalServerError = (function (_super) {
                __extends(InternalServerError, _super);
                function InternalServerError() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                InternalServerError.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            defaults.title,
                            " - 500: Server error"),
                    ];
                };
                InternalServerError.prototype.render = function () {
                    var _a = this.props, message = _a.message, currentPath = _a.currentPath;
                    return (React.createElement(Default_3.default, { currentPath: currentPath },
                        React.createElement(Content_3.ContentWithoutSideBar, { title: React.createElement("h1", null, "Server error"), content: React.createElement("div", null,
                                React.createElement("p", null,
                                    "Please retry in a few minutes.",
                                    React.createElement("br", null),
                                    "If this problem persists, you can contact us by sending an email to ",
                                    React.createElement("a", { href: "mailto:contact@atlantis-press.com", target: "_blank" }, "contact@atlantis-press.com"),
                                    "."),
                                React.createElement("pre", null, message)) })));
                };
                return InternalServerError;
            }(React.Component));
            exports_79("default", InternalServerError);
        }
    };
});
System.register("pages/util", ["components/Markdown"], function (exports_80, context_80) {
    "use strict";
    var Markdown_2, extractLocalNav;
    var __moduleName = context_80 && context_80.id;
    function extractSubNav(root) {
        var tree = [];
        tree.push({ link: { href: "/" + root.fields.slug, title: root.fields.navigationTitle } });
        root.fields.subPages
            .filter(function (subPage) { return !!(subPage.fields && subPage.fields.slug); })
            .forEach(function (subPage) { return (tree.push({
            link: {
                href: (["proceedings", "journals", "books"].indexOf(subPage.fields.slug) >= 0
                    ? "/" + subPage.fields.slug
                    : "/" + root.fields.slug + "/" + subPage.fields.slug),
                title: subPage.fields.navigationTitle
            }
        })); });
        return tree;
    }
    exports_80("extractSubNav", extractSubNav);
    return {
        setters: [
            function (Markdown_2_1) {
                Markdown_2 = Markdown_2_1;
            }
        ],
        execute: function () {
            exports_80("extractLocalNav", extractLocalNav = function (markdown, mode) {
                if (mode === void 0) { mode = "listings"; }
                var pattern = /<([^ >]+)( [^>]+)?>(.*)<\/\1>/ig;
                var list = [];
                var html = Markdown_2.renderMarkdown(markdown);
                var result;
                while ((result = pattern.exec(html)) !== null) {
                    var tagName = result[1].toLowerCase();
                    if (tagName === "h2" || tagName === "h3") {
                        var idMatch = result[2].match(/id="([^"]+)"/);
                        if (idMatch && idMatch[1]) {
                            var link = {
                                link: {
                                    title: result[3],
                                    href: "#" + idMatch[1],
                                    isHtml: true
                                },
                                children: []
                            };
                            if (tagName === "h2") {
                                list.push([link, false]);
                            }
                            else if (list.length > 0) {
                                list[list.length - 1][0].children.push(link);
                            }
                        }
                    }
                    else if (list.length > 0 && tagName === "li" || tagName === "ul") {
                        list[list.length - 1][1] = true;
                    }
                }
                if (mode === "listings") {
                    return list
                        .filter(function (_a) {
                        var _b = __read(_a, 2), node = _b[0], hasListItems = _b[1];
                        return hasListItems
                            && node.children
                            && node.children.length > 0;
                    })
                        .map(function (_a) {
                        var _b = __read(_a, 1), l = _b[0];
                        return l;
                    });
                }
                return list.map(function (_a) {
                    var _b = __read(_a, 1), l = _b[0];
                    return l;
                });
            });
        }
    };
});
System.register("pages/AboutPage", ["layouts/Default", "components/Markdown", "components/Content/index", "components/listings", "pages/util", "components/Nav"], function (exports_81, context_81) {
    "use strict";
    var Default_4, Markdown_3, Content_4, listings_3, util_5, Nav_1, AboutPage;
    var __moduleName = context_81 && context_81.id;
    return {
        setters: [
            function (Default_4_1) {
                Default_4 = Default_4_1;
            },
            function (Markdown_3_1) {
                Markdown_3 = Markdown_3_1;
            },
            function (Content_4_1) {
                Content_4 = Content_4_1;
            },
            function (listings_3_1) {
                listings_3 = listings_3_1;
            },
            function (util_5_1) {
                util_5 = util_5_1;
            },
            function (Nav_1_1) {
                Nav_1 = Nav_1_1;
            }
        ],
        execute: function () {
            AboutPage = (function (_super) {
                __extends(AboutPage, _super);
                function AboutPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                AboutPage.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.content.fields.title,
                            " | ",
                            defaults.title),
                        React.createElement("meta", { name: "description", content: props.content.fields.metaDescription }),
                    ];
                };
                AboutPage.prototype.render = function () {
                    var _a = this.props, content = _a.content, pageParent = _a.pageParent, currentPath = _a.currentPath;
                    var navRoot = pageParent ? pageParent : content;
                    return (React.createElement(Default_4.default, { currentPath: currentPath },
                        React.createElement(Content_4.ContentWithSideBar, { title: React.createElement("h1", null, content.fields.title), sidebar: (content.fields.subPages || pageParent) && React.createElement(Nav_1.SubNav, { id: "subPages", items: util_5.extractSubNav(navRoot) }), content: React.createElement("div", null,
                                React.createElement(Content_4.Intro, { intro: content.fields.intro }),
                                React.createElement(Markdown_3.default, { className: "textContent", source: content.fields.body }),
                                content.fields.personList &&
                                    React.createElement(listings_3.ListWithImages, { items: content.fields.personList, imageRenderer: function (person) { return (person.fields.image &&
                                            React.createElement("img", { src: person.fields.image.fields.file.url + "?w=500", alt: person.fields.name, width: "300" })); }, contentRenderer: function (person) { return (React.createElement("div", null,
                                            person.fields.name && React.createElement("h1", null, person.fields.name),
                                            person.fields.description &&
                                                React.createElement(Markdown_3.default, { className: "textContent", source: person.fields.description }))); } })) })));
                };
                return AboutPage;
            }(React.Component));
            exports_81("default", AboutPage);
        }
    };
});
System.register("pages/AccountPage", ["components/Form/index.css", "utils/adminmethods", "components/Table", "layouts/dashboards", "domain/formatting"], function (exports_82, context_82) {
    "use strict";
    var index_css_32, adminmethods_5, Table_2, dashboards_1, formatting_7, AccountPage;
    var __moduleName = context_82 && context_82.id;
    return {
        setters: [
            function (index_css_32_1) {
                index_css_32 = index_css_32_1;
            },
            function (adminmethods_5_1) {
                adminmethods_5 = adminmethods_5_1;
            },
            function (Table_2_1) {
                Table_2 = Table_2_1;
            },
            function (dashboards_1_1) {
                dashboards_1 = dashboards_1_1;
            },
            function (formatting_7_1) {
                formatting_7 = formatting_7_1;
            }
        ],
        execute: function () {
            AccountPage = (function (_super) {
                __extends(AccountPage, _super);
                function AccountPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                AccountPage.prototype.render = function () {
                    var elementId;
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AccountPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_1.Account, { id: elementId, title: "Proceedings organiser environment" },
                        React.createElement(dashboards_1.ActionNav, { links: [
                                { href: "/account/proceedings-proposal", title: "New proceedings proposal" }
                            ] }),
                        React.createElement(dashboards_1.Section, { title: "Proceedings", note: "List of proceedings and status" },
                            React.createElement(Table_2.Table, { className: index_css_32.default.table, cols: [
                                    ["Code", "code", undefined],
                                    ["Name", "name", undefined],
                                    ["Status", "state", undefined],
                                    ["Delivery date", "date", undefined],
                                ], row: function (r) { return (React.createElement("tr", { key: r.id, className: index_css_32.default.tableRow },
                                    React.createElement("td", { className: index_css_32.default.tableCell },
                                        React.createElement("a", { href: "/account/proceedings/" + r.id }, r.code)),
                                    React.createElement("td", { className: index_css_32.default.tableCell },
                                        React.createElement("a", { href: "/account/proceedings/" + r.id }, r.name)),
                                    React.createElement("td", { className: index_css_32.default.tableCell }, adminmethods_5.proceedingsStateTranslations[r.state]),
                                    React.createElement("td", { className: index_css_32.default.tableCell }, formatting_7.formatAdminDate(r.closureDate)))); }, items: this.props.proceedings, url: "/account:proceedings" })),
                        React.createElement(dashboards_1.Section, { title: "Proposals", note: "List of submitted proposals" },
                            React.createElement(Table_2.Table, { className: index_css_32.default.table, cols: [
                                    ["Event name", "event", undefined],
                                    ["Organizer", "organizer", undefined],
                                    ["Creation date", "date", undefined],
                                ], items: this.props.proposals, row: function (proposal) { return (React.createElement("tr", { key: proposal.id, className: index_css_32.default.tableRow },
                                    React.createElement("td", { "data-sort": "name", className: index_css_32.default.tableCell }, proposal.eventName),
                                    React.createElement("td", { "data-sort": "organizer", className: index_css_32.default.tableCell }, proposal.organizerFullName),
                                    React.createElement("td", { "data-sort": "date", className: index_css_32.default.tableCell }, formatting_7.formatDateTime(proposal.createdAt)))); }, url: "/account:proposals" }))));
                };
                return AccountPage;
            }(BaseComponent));
            exports_82("default", AccountPage);
        }
    };
});
System.register("pages/AdminPage", ["layouts/dashboards", "utils/utils", "components/Form/index.css"], function (exports_83, context_83) {
    "use strict";
    var dashboards_2, utils_18, index_css_33, QuickJump, AdminPage;
    var __moduleName = context_83 && context_83.id;
    return {
        setters: [
            function (dashboards_2_1) {
                dashboards_2 = dashboards_2_1;
            },
            function (utils_18_1) {
                utils_18 = utils_18_1;
            },
            function (index_css_33_1) {
                index_css_33 = index_css_33_1;
            }
        ],
        execute: function () {
            exports_83("QuickJump", QuickJump = function (props) {
                var id;
                if (typeof window === "undefined") {
                    id = utils_18.registerClientsideComponent("pages/AdminPage", "QuickJump", props);
                }
                return (React.createElement("div", { id: id },
                    React.createElement("form", { className: index_css_33.default.quickSearch, onSubmit: function (e) {
                            e.preventDefault();
                            utils_18.callServer("/admin/journals/shortcut", { text: e.currentTarget.elements[0].value })
                                .then(function (data) {
                                if (data.href) {
                                    window.open(data.href);
                                }
                                else if (data.error) {
                                    alert(data.error);
                                }
                            })
                                .catch(function (err) {
                                alert(err);
                            });
                        } },
                        React.createElement("p", null,
                            React.createElement("input", { type: "text", className: "form__textbox" }),
                            React.createElement("input", { className: index_css_33.default.button, type: "submit", value: "go" })))));
            });
            AdminPage = (function (_super) {
                __extends(AdminPage, _super);
                function AdminPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                AdminPage.prototype.render = function () {
                    var scopes = this.props.scopes;
                    var isAllowedScope = function (s) { return scopes.indexOf(s) >= 0; };
                    return (React.createElement(dashboards_2.Admin, null,
                        React.createElement("h1", null, "Atlantis Press Admin"),
                        React.createElement("div", null,
                            React.createElement("p", null, "Welcome to the admin area of the Atlantis Press website."),
                            React.createElement("div", { className: "panel" },
                                isAllowedScope("journal_production") &&
                                    React.createElement("div", { className: "panelItem" },
                                        React.createElement("h2", null, "Journal Production"),
                                        React.createElement("ul", null,
                                            React.createElement("li", null,
                                                React.createElement("a", { href: "/admin/journals" }, "Journals")),
                                            React.createElement("li", null,
                                                React.createElement("a", { href: "/admin/journals/import" }, "XML import")),
                                            React.createElement("li", null,
                                                React.createElement("a", { href: "/admin/report/doi_resolution" }, "DOI resolution status")),
                                            React.createElement("li", null,
                                                React.createElement("a", { href: "/admin/report/loaded_xml" }, "XML report")),
                                            React.createElement("li", null,
                                                "Jump to journal, issue or article: ",
                                                React.createElement("div", null,
                                                    React.createElement(QuickJump, null))))),
                                isAllowedScope("proceedings_production") &&
                                    React.createElement("div", { className: "panelItem" },
                                        React.createElement("h2", null, "Proceedings Production"),
                                        React.createElement("ul", null,
                                            React.createElement("li", null,
                                                React.createElement("a", { href: "/admin/proceedings/series" }, "Proceedings Series")),
                                            React.createElement("li", null,
                                                React.createElement("a", { href: "/admin/proceedings" }, "Proceedings")),
                                            React.createElement("li", null,
                                                React.createElement("a", { href: "/admin/proceedings-proposal" }, "Proposals")),
                                            React.createElement("li", null,
                                                React.createElement("a", { href: "/admin/report/doi_resolution" }, "DOI resolution status")))),
                                isAllowedScope("users") &&
                                    React.createElement("div", { className: "panelItem" },
                                        React.createElement("h2", null, "User management"),
                                        React.createElement("ul", null,
                                            React.createElement("li", null,
                                                React.createElement("a", { href: "/admin/users" }, "Users")))),
                                isAllowedScope("stats") &&
                                    React.createElement("div", { className: "panelItem" },
                                        React.createElement("h2", null, "Metrics and statistics"),
                                        React.createElement("ul", null,
                                            React.createElement("li", null,
                                                React.createElement("a", { href: "/admin/stats" }, "Download statistics")))),
                                isAllowedScope("alerts") &&
                                    React.createElement("div", { className: "panelItem" },
                                        React.createElement("h2", null, "Content Alerts"),
                                        React.createElement("ul", null,
                                            React.createElement("li", null,
                                                React.createElement("a", { href: "/admin/alerts" }, "Alerts")))),
                                isAllowedScope("docs") &&
                                    React.createElement("div", { className: "panelItem" },
                                        React.createElement("h2", null, "Documentation"),
                                        React.createElement("ul", null,
                                            React.createElement("li", null,
                                                React.createElement("a", { href: "/admin/docs" }, "Technical Documentation")),
                                            React.createElement("li", null,
                                                React.createElement("a", { href: "/admin/docs/components" }, "Component Library")),
                                            React.createElement("li", null,
                                                React.createElement("a", { href: "/admin/docs/privilege-matrix" }, "Rights and Roles")))),
                                isAllowedScope("system") &&
                                    React.createElement("div", { className: "panelItem" },
                                        React.createElement("h2", null, "System"),
                                        React.createElement("ul", null,
                                            React.createElement("li", null,
                                                React.createElement("a", { href: "/admin/health" }, "Health")),
                                            React.createElement("li", null,
                                                React.createElement("a", { href: "/admin/health/linkchecker" }, "Website Links Status"))))))));
                };
                return AdminPage;
            }(BaseComponent));
            exports_83("default", AdminPage);
        }
    };
});
System.register("pages/ArticleListPage", ["layouts/Default", "components/Search/Pagination/index", "components/Content/index", "domain/article"], function (exports_84, context_84) {
    "use strict";
    var Default_5, Pagination_2, Content_5, article_5, ArticleListPage;
    var __moduleName = context_84 && context_84.id;
    return {
        setters: [
            function (Default_5_1) {
                Default_5 = Default_5_1;
            },
            function (Pagination_2_1) {
                Pagination_2 = Pagination_2_1;
            },
            function (Content_5_1) {
                Content_5 = Content_5_1;
            },
            function (article_5_1) {
                article_5 = article_5_1;
            }
        ],
        execute: function () {
            ArticleListPage = (function (_super) {
                __extends(ArticleListPage, _super);
                function ArticleListPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ArticleListPage.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            "Articles published in ",
                            props.year,
                            " | ",
                            defaults.title)
                    ];
                };
                ArticleListPage.prototype.render = function () {
                    var _a = this.props, itemsPerPage = _a.itemsPerPage, totalItems = _a.totalItems, currentPage = _a.currentPage, items = _a.items, year = _a.year, currentPath = _a.currentPath;
                    var baseUrl = "/year/" + year;
                    return (React.createElement(Default_5.default, { title: "Articles published in " + year, currentPath: currentPath },
                        React.createElement(Content_5.ContentWithoutSideBar, { title: React.createElement("h1", null,
                                "Articles published in ",
                                year), content: React.createElement("div", null,
                                React.createElement("ul", { className: "textContent" }, items.map(function (article) { return (React.createElement("li", null,
                                    React.createElement("a", { style: { color: "black" }, href: article_5.articleUrl(article), dangerouslySetInnerHTML: { __html: article.title } }))); })),
                                React.createElement(Pagination_2.default, { totalItems: totalItems, currentPage: currentPage, itemsPerPage: itemsPerPage, baseUrl: baseUrl })) })));
                };
                return ArticleListPage;
            }(React.Component));
            exports_84("default", ArticleListPage);
        }
    };
});
System.register("pages/ArticleViewerPage", ["layouts/Default", "components/Nav", "components/Content/index", "components/article"], function (exports_85, context_85) {
    "use strict";
    var Default_6, Nav_2, index_8, article_6, Figures, Tables, ArticleViewerPage, JournalArticleViewerPage;
    var __moduleName = context_85 && context_85.id;
    return {
        setters: [
            function (Default_6_1) {
                Default_6 = Default_6_1;
            },
            function (Nav_2_1) {
                Nav_2 = Nav_2_1;
            },
            function (index_8_1) {
                index_8 = index_8_1;
            },
            function (article_6_1) {
                article_6 = article_6_1;
            }
        ],
        execute: function () {
            exports_85("Figures", Figures = function (_a) {
                var figures = _a.figures;
                var allFigures = figures.filter(function (figure) { return !!figure.label; });
                if (allFigures.length === 0) {
                    return null;
                }
                var id;
                if (typeof window === "undefined") {
                    id = globals.registerClientSideComponent("pages/ArticleViewerPage", "Figures", { figures: figures });
                }
                return (React.createElement("div", { id: id },
                    React.createElement(Nav_2.ToggleBlock, { title: "Figures" },
                        React.createElement(Nav_2.FiguresNav, { figures: allFigures }))));
            });
            exports_85("Tables", Tables = function (_a) {
                var idx = _a.idx, title = _a.title, tables = _a.tables;
                var allTables = tables.filter(function (table) { return !!table.label; });
                if (allTables.length === 0) {
                    return null;
                }
                var nodes = allTables.map(function (table) { return ({
                    link: {
                        title: table.label.replace(/[\:\.]$/g, "").replace(/<[^>]+>/g, ""),
                        href: "#table-" + table.id
                    }
                }); });
                var id;
                if (typeof window === "undefined") {
                    id = globals.registerClientSideComponent("pages/ArticleViewerPage", "Tables", { idx: idx, title: title, tables: tables });
                }
                return (React.createElement("div", { id: id },
                    React.createElement(Nav_2.ToggleBlock, { title: title },
                        React.createElement(Nav_2.SubNav, { id: "articleTableNav_" + idx, items: nodes }))));
            });
            ArticleViewerPage = (function (_super) {
                __extends(ArticleViewerPage, _super);
                function ArticleViewerPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ArticleViewerPage.prototype.groupIssuesByVolume = function (xs) {
                    return xs.reduce(function (rv, x) {
                        (rv[x.volume.toString()] = rv[x.volume] || []).push(x);
                        return rv;
                    }, {});
                };
                ArticleViewerPage.prototype.addSectionsToNav = function (links, sections) {
                    var e_18, _a;
                    try {
                        for (var sections_1 = __values(sections), sections_1_1 = sections_1.next(); !sections_1_1.done; sections_1_1 = sections_1.next()) {
                            var section = sections_1_1.value;
                            if (section.type === "Section" && section.href !== "#") {
                                var node = {
                                    link: {
                                        title: section.titleHtml
                                            ? (section.label || "") + " " + section.titleHtml
                                            : (section.label || "") + " " + section.title,
                                        href: section.href,
                                        isHtml: !!section.titleHtml
                                    }
                                };
                                if (section.children &&
                                    section.children.filter(function (child) {
                                        return child.type === "Section" &&
                                            child.href !== "#";
                                    }).length) {
                                    var children = [];
                                    this.addSectionsToNav(children, section.children);
                                    node.children = children;
                                }
                                links.push(node);
                            }
                        }
                    }
                    catch (e_18_1) { e_18 = { error: e_18_1 }; }
                    finally {
                        try {
                            if (sections_1_1 && !sections_1_1.done && (_a = sections_1.return)) _a.call(sections_1);
                        }
                        finally { if (e_18) throw e_18.error; }
                    }
                };
                ArticleViewerPage.prototype.createNavigationTree = function () {
                    var links = [];
                    links.push({ link: { title: "abstract", href: "#abstract" } });
                    var sections = this.props.sections;
                    if (sections) {
                        this.addSectionsToNav(links, sections);
                    }
                    var references = this.props.references;
                    if (references && references.length) {
                        links.push({ link: { title: "references", href: "#references" } });
                    }
                    return links;
                };
                ArticleViewerPage.prototype.render = function () {
                    var _a = this.props, id = _a.id, journal = _a.journal, currentPath = _a.currentPath, tables = _a.tables, figures = _a.figures;
                    var sectionsMenu = this.createNavigationTree();
                    var groupedByLabels = [];
                    try {
                        tables
                            .filter(function (table) { return !!table.label; })
                            .forEach(function (table) {
                            var match = table.label.match(/^(Table|Algorithm)/);
                            if (!match) {
                                throw Error("Doesn't match naming convention: `" + table.label + "` ; aborting: ");
                            }
                            var groupTitle = match[1] + "s";
                            var existingGroup = groupedByLabels.find(function (g) { return g.group === groupTitle; });
                            if (existingGroup) {
                                existingGroup.tables.push(table);
                            }
                            else {
                                groupedByLabels.push({
                                    group: groupTitle,
                                    tables: [table]
                                });
                            }
                        });
                    }
                    catch (anyFailure) {
                        groupedByLabels = [{ group: "Tables", tables: tables }];
                    }
                    var order = ["Tables", "Algorithms"];
                    groupedByLabels.sort(function (a, b) { return order.indexOf(a.group) - order.indexOf(b.group); });
                    return (React.createElement(Default_6.default, { id: id, currentPath: currentPath },
                        React.createElement(index_8.ContentWithSideBar, { title: React.createElement("h1", null, journal.name), content: React.createElement("div", null, this.props.children), sidebar: React.createElement("div", { id: "stickyNav" },
                                React.createElement("div", null,
                                    React.createElement(Nav_2.SubNav, { isSticky: false, id: "articleNav", items: sectionsMenu })),
                                React.createElement("div", null,
                                    React.createElement(Figures, { figures: figures })),
                                groupedByLabels.map(function (group, k) { return (React.createElement("div", { key: k },
                                    React.createElement(Tables, { idx: k, title: group.group, tables: group.tables }))); })) })));
                };
                return ArticleViewerPage;
            }(React.Component));
            exports_85("ArticleViewerPage", ArticleViewerPage);
            JournalArticleViewerPage = (function (_super) {
                __extends(JournalArticleViewerPage, _super);
                function JournalArticleViewerPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                JournalArticleViewerPage.head = function (props, defaults) {
                    return article_6.ArticleViewer.getMetaTags(props.article, defaults);
                };
                JournalArticleViewerPage.prototype.render = function () {
                    var _a = this.props, article = _a.article, revision = _a.revision, journal = _a.journal, footNotes = _a.footNotes, currentPath = _a.currentPath, sections = _a.sections, references = _a.references, metaData = _a.metaData, tables = _a.tables, figures = _a.figures;
                    return (React.createElement(ArticleViewerPage, { currentPath: currentPath, tab: "preface", journal: journal, references: references, sections: sections, tables: tables, figures: figures },
                        React.createElement(article_6.ArticleViewer, { revision: revision, article: article, sections: sections, footNotes: footNotes, references: references, previousArticle: this.props.previousArticle, nextArticle: this.props.nextArticle, metaData: metaData })));
                };
                return JournalArticleViewerPage;
            }(React.Component));
            exports_85("JournalArticleViewerPage", JournalArticleViewerPage);
        }
    };
});
System.register("pages/BookSeriesPage", ["layouts/Default", "utils/utils", "components/Markdown", "components/Series/SeriesHeader", "components/Content/index", "components/listings", "pages/util", "components/Nav"], function (exports_86, context_86) {
    "use strict";
    var Default_7, utils_19, Markdown_4, SeriesHeader_1, Content_6, listings_4, util_6, Nav_3, BookSeriesPage;
    var __moduleName = context_86 && context_86.id;
    return {
        setters: [
            function (Default_7_1) {
                Default_7 = Default_7_1;
            },
            function (utils_19_1) {
                utils_19 = utils_19_1;
            },
            function (Markdown_4_1) {
                Markdown_4 = Markdown_4_1;
            },
            function (SeriesHeader_1_1) {
                SeriesHeader_1 = SeriesHeader_1_1;
            },
            function (Content_6_1) {
                Content_6 = Content_6_1;
            },
            function (listings_4_1) {
                listings_4 = listings_4_1;
            },
            function (util_6_1) {
                util_6 = util_6_1;
            },
            function (Nav_3_1) {
                Nav_3 = Nav_3_1;
            }
        ],
        execute: function () {
            BookSeriesPage = (function (_super) {
                __extends(BookSeriesPage, _super);
                function BookSeriesPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                BookSeriesPage.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.series.fields.title,
                            " | ",
                            defaults.title),
                        props.series.fields.metaDescription &&
                            React.createElement("meta", { name: "description", content: props.series.fields.metaDescription }),
                    ];
                };
                BookSeriesPage.prototype.jsonLD = function () {
                    var series = this.props.series;
                    return {
                        "@type": "CreativeWorkSeries",
                        "name": series.fields.title,
                        "description": series.fields.description,
                        "hasPart": series.fields.books.map(function (book) { return ({
                            "position": book.fields.volumeNumber || undefined,
                            "url": "/books/" + book.fields.isbn,
                            "@id": "/books/" + book.fields.isbn + "#book",
                        }); }),
                    };
                };
                BookSeriesPage.prototype.render = function () {
                    var _a = this.props, series = _a.series, currentPath = _a.currentPath;
                    utils_19.collectJsonLD(this.jsonLD());
                    var items = util_6.extractLocalNav(series.fields.body, "all");
                    return (React.createElement(Default_7.default, { currentPath: currentPath, title: "Series" },
                        React.createElement(Content_6.ContentWithSideBar, { title: React.createElement("h1", null, series.fields.title), sidebar: items.length > 0
                                ? React.createElement(Nav_3.SubNav, { isDefaultToFirst: true, id: "bookSeriesNav", items: items })
                                : undefined, content: React.createElement("div", null,
                                React.createElement("div", null,
                                    React.createElement(SeriesHeader_1.SeriesHeader, { cover: series.fields.cover, content: Markdown_4.renderMarkdown(series.fields.intro), subscriptionTopic: series.fields.id.toUpperCase(), introTitle: "Series Editor(s):", introLink: undefined, eIssn: series.fields.eIssn, pIssn: series.fields.pIssn })),
                                React.createElement(Markdown_4.default, { className: "textContent", source: series.fields.body }),
                                React.createElement("div", null,
                                    series.fields.bookListTitle && React.createElement("h2", null, series.fields.bookListTitle),
                                    React.createElement(listings_4.ListWithImages, { items: series.fields.books, imageRenderer: function (item) {
                                            return React.createElement("img", { src: item.fields.cover.fields.file.url + "?w=500", alt: item.fields.title, width: "300" });
                                        }, contentRenderer: function (item) { return (React.createElement(Markdown_4.default, { className: "textContent", source: item.fields.description })); } }))) })));
                };
                return BookSeriesPage;
            }(React.Component));
            exports_86("default", BookSeriesPage);
        }
    };
});
System.register("pages/JournalListPage", ["layouts/Default", "components/Markdown", "utils/utils", "components/Content/index", "pages/util", "components/Nav"], function (exports_87, context_87) {
    "use strict";
    var Default_8, Markdown_5, utils_20, Content_7, util_7, Nav_4, JournalListPage;
    var __moduleName = context_87 && context_87.id;
    return {
        setters: [
            function (Default_8_1) {
                Default_8 = Default_8_1;
            },
            function (Markdown_5_1) {
                Markdown_5 = Markdown_5_1;
            },
            function (utils_20_1) {
                utils_20 = utils_20_1;
            },
            function (Content_7_1) {
                Content_7 = Content_7_1;
            },
            function (util_7_1) {
                util_7 = util_7_1;
            },
            function (Nav_4_1) {
                Nav_4 = Nav_4_1;
            }
        ],
        execute: function () {
            JournalListPage = (function (_super) {
                __extends(JournalListPage, _super);
                function JournalListPage() {
                    var _this = _super !== null && _super.apply(this, arguments) || this;
                    _this.jsonLD = function () { return ({
                        "@type": "ItemList",
                        "itemListElement": _this.props.journals.map(function (journal, i) { return ({
                            "@type": "ListItem",
                            "position": i + 1,
                            "url": "/journals/" + journal._source.fields.id,
                            "@id": "/journals/" + journal._source.fields.id + "#journal",
                        }); }),
                    }); };
                    return _this;
                }
                JournalListPage.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.page.fields.title,
                            " | ",
                            defaults.title),
                        React.createElement("meta", { name: "description", content: props.page.fields.metaDescription }),
                    ];
                };
                JournalListPage.prototype.render = function () {
                    var _a = this.props, page = _a.page, currentPath = _a.currentPath;
                    utils_20.collectJsonLD(this.jsonLD());
                    return (React.createElement(Default_8.default, { currentPath: currentPath },
                        React.createElement(Content_7.ContentWithSideBar, { title: React.createElement("h1", null, "Journals"), sidebar: React.createElement(Nav_4.SubNav, { isDefaultToFirst: true, id: "journalsNav", items: util_7.extractLocalNav(page.fields.body, "listings") }), content: React.createElement("div", null,
                                React.createElement(Content_7.Intro, { intro: page.fields.intro }),
                                React.createElement(Markdown_5.default, { className: "textContent", source: page.fields.body })) })));
                };
                return JournalListPage;
            }(React.Component));
            exports_87("default", JournalListPage);
        }
    };
});
System.register("pages/JournalPage", ["layouts/Default", "utils/utils", "components/Content/index", "components/Nav"], function (exports_88, context_88) {
    "use strict";
    var Default_9, utils_21, Content_8, Nav_5, JournalPage;
    var __moduleName = context_88 && context_88.id;
    return {
        setters: [
            function (Default_9_1) {
                Default_9 = Default_9_1;
            },
            function (utils_21_1) {
                utils_21 = utils_21_1;
            },
            function (Content_8_1) {
                Content_8 = Content_8_1;
            },
            function (Nav_5_1) {
                Nav_5 = Nav_5_1;
            }
        ],
        execute: function () {
            JournalPage = (function (_super) {
                __extends(JournalPage, _super);
                function JournalPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                JournalPage.prototype.groupIssuesByVolume = function (xs) {
                    return xs.reduce(function (rv, x) {
                        (rv[x.volume.toString()] = rv[x.volume] || []).push(x);
                        return rv;
                    }, {});
                };
                JournalPage.prototype.createNavigationTree = function () {
                    var _this = this;
                    var links = [];
                    var _a = this.props, journal = _a.journal, issues = _a.issues, journalContent = _a.journalContent;
                    var volumes = this.groupIssuesByVolume(issues);
                    links.push({ link: { title: "Journal Home", href: "/journals/" + journal.code } });
                    var volumeLinks = Object.keys(volumes).reverse().map(function (key) {
                        var children = volumes[key]
                            .sort(function (a, b) { return (a.issueNumber || 0) - (b.issueNumber || 0); })
                            .map(function (issue) { return ({
                            link: {
                                title: "issue " + (issue.issueDescription || issue.issueNumber),
                                href: "/journals/" + journal.code + "/issue/" + issue.id,
                                isDefaultActive: !!(_this.props.article && _this.props.article.proofingState === "FINAL" && _this.props.article.journal_issue_id === issue.id)
                            }
                        }); });
                        return {
                            link: {
                                title: "volume " + key,
                                href: "#volume-" + key,
                            },
                            children: children,
                        };
                    });
                    volumeLinks.unshift({ link: { title: "Articles in press", href: "/journals/" + journal.code + "/articles-in-press", isDefaultActive: !!(this.props.article && this.props.article.proofingState !== "FINAL") }, children: [] });
                    links.push({ link: { title: "Volumes", href: "#volumes" }, children: volumeLinks });
                    links.push({ link: { title: "search", href: "/journals/" + journal.code + "/articles" } });
                    var textPages = [
                        { contentField: "aimsAndScope", label: "Aims & scope" },
                        { contentField: "editorialBoard", label: "Editorial board" },
                        { contentField: "submitYourPaper", label: "Submit your paper" },
                        { contentField: "authorGuidelines", label: "Author guidelines" },
                        { contentField: "publishingInfo", label: "Publishing info" },
                        { contentField: "metrics", label: "Journal Metrics" },
                        { contentField: "news", label: "Journal News" },
                    ];
                    textPages.map(function (page) {
                        if (journalContent.fields[page.contentField]) {
                            links.push({
                                link: {
                                    title: page.label,
                                    href: "/journals/" + journal.code + "/" + utils_21.camelCaseToHyphens(page.contentField)
                                }
                            });
                        }
                    });
                    return links;
                };
                JournalPage.prototype.render = function () {
                    var _a = this.props, id = _a.id, journal = _a.journal, currentPath = _a.currentPath;
                    var tree = this.createNavigationTree();
                    return (React.createElement(Default_9.default, { id: id, currentPath: currentPath },
                        React.createElement(Content_8.ContentWithSideBar, { title: React.createElement("h1", null, journal.name), content: React.createElement("div", null, this.props.children), sidebar: React.createElement(Nav_5.SubNav, { items: tree, id: "pageNav" }) })));
                };
                return JournalPage;
            }(React.Component));
            exports_88("default", JournalPage);
        }
    };
});
System.register("pages/OrganisationListPage", ["layouts/Default", "components/Markdown", "components/Content/index", "components/listings", "pages/util", "components/Nav"], function (exports_89, context_89) {
    "use strict";
    var Default_10, Markdown_6, Content_9, listings_5, util_8, Nav_6, OrganisationListPage;
    var __moduleName = context_89 && context_89.id;
    return {
        setters: [
            function (Default_10_1) {
                Default_10 = Default_10_1;
            },
            function (Markdown_6_1) {
                Markdown_6 = Markdown_6_1;
            },
            function (Content_9_1) {
                Content_9 = Content_9_1;
            },
            function (listings_5_1) {
                listings_5 = listings_5_1;
            },
            function (util_8_1) {
                util_8 = util_8_1;
            },
            function (Nav_6_1) {
                Nav_6 = Nav_6_1;
            }
        ],
        execute: function () {
            OrganisationListPage = (function (_super) {
                __extends(OrganisationListPage, _super);
                function OrganisationListPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                OrganisationListPage.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.content.fields.title,
                            " | ",
                            defaults.title),
                        React.createElement("meta", { name: "description", content: props.content.fields.metaDescription }),
                    ];
                };
                OrganisationListPage.prototype.render = function () {
                    var _a = this.props, content = _a.content, pageParent = _a.pageParent, currentPath = _a.currentPath;
                    var navRoot = pageParent ? pageParent : content;
                    return (React.createElement(Default_10.default, { currentPath: currentPath },
                        React.createElement(Content_9.ContentWithSideBar, { title: React.createElement("h1", null, content.fields.title), sidebar: (content.fields.subPages || pageParent) && React.createElement(Nav_6.SubNav, { id: "subPages", items: util_8.extractSubNav(navRoot) }), content: React.createElement("div", null,
                                React.createElement(Content_9.Intro, { intro: content.fields.intro }),
                                React.createElement(Markdown_6.default, { className: "textContent", source: content.fields.body }),
                                content.fields.organisations &&
                                    React.createElement(listings_5.ListWithImages, { items: content.fields.organisations, imageRenderer: function (organisation) {
                                            var img = (React.createElement("img", { src: organisation.fields.logo.fields.file.url + "?w=500", alt: organisation.fields.name, width: "300" }));
                                            if (organisation.fields.link) {
                                                return (React.createElement("a", { href: organisation.fields.link, target: "_blank" }, img));
                                            }
                                            return img;
                                        }, contentRenderer: function (organisation) { return (React.createElement("div", null,
                                            organisation.fields.name && React.createElement("h1", null, organisation.fields.name),
                                            organisation.fields.description &&
                                                React.createElement(Markdown_6.default, { className: "textContent", source: organisation.fields.description }))); } })) })));
                };
                return OrganisationListPage;
            }(React.Component));
            exports_89("default", OrganisationListPage);
        }
    };
});
System.register("pages/ProceedingsListAllPage", ["layouts/Default", "components/Markdown", "components/Content/index", "components/article", "components/listings"], function (exports_90, context_90) {
    "use strict";
    var Default_11, Markdown_7, Content_10, article_7, listings_6, ProceedingsListAllPage;
    var __moduleName = context_90 && context_90.id;
    return {
        setters: [
            function (Default_11_1) {
                Default_11 = Default_11_1;
            },
            function (Markdown_7_1) {
                Markdown_7 = Markdown_7_1;
            },
            function (Content_10_1) {
                Content_10 = Content_10_1;
            },
            function (article_7_1) {
                article_7 = article_7_1;
            },
            function (listings_6_1) {
                listings_6 = listings_6_1;
            }
        ],
        execute: function () {
            ProceedingsListAllPage = (function (_super) {
                __extends(ProceedingsListAllPage, _super);
                function ProceedingsListAllPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ProceedingsListAllPage.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.page.fields.title,
                            " | ",
                            defaults.title),
                        props.page.fields.metaDescription && React.createElement("meta", { name: "description", content: props.page.fields.metaDescription }),
                    ];
                };
                ProceedingsListAllPage.prototype.render = function () {
                    var _a = this.props, page = _a.page, publications = _a.publications, currentPath = _a.currentPath;
                    return (React.createElement(Default_11.default, { currentPath: currentPath, title: "Series" },
                        React.createElement(Content_10.ContentWithoutSideBar, { title: React.createElement("h1", null, page.fields.title), content: React.createElement("div", null,
                                React.createElement(Content_10.Intro, { intro: page.fields.intro }),
                                React.createElement(Markdown_7.default, { className: "textContent", source: page.fields.body }),
                                React.createElement(listings_6.ProceedingsList, { isShowVolumes: false, publications: publications }),
                                React.createElement(article_7.SmallCounter, null, publications.length)) })));
                };
                return ProceedingsListAllPage;
            }(React.Component));
            exports_90("default", ProceedingsListAllPage);
        }
    };
});
System.register("pages/ProceedingsSeriesListPage", ["layouts/Default", "components/Markdown", "components/Content/index", "pages/util", "components/Nav"], function (exports_91, context_91) {
    "use strict";
    var Default_12, Markdown_8, Content_11, util_9, Nav_7, ProceedingsSeriesListPage;
    var __moduleName = context_91 && context_91.id;
    return {
        setters: [
            function (Default_12_1) {
                Default_12 = Default_12_1;
            },
            function (Markdown_8_1) {
                Markdown_8 = Markdown_8_1;
            },
            function (Content_11_1) {
                Content_11 = Content_11_1;
            },
            function (util_9_1) {
                util_9 = util_9_1;
            },
            function (Nav_7_1) {
                Nav_7 = Nav_7_1;
            }
        ],
        execute: function () {
            ProceedingsSeriesListPage = (function (_super) {
                __extends(ProceedingsSeriesListPage, _super);
                function ProceedingsSeriesListPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ProceedingsSeriesListPage.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.page.fields.title,
                            " | ",
                            defaults.title),
                        React.createElement("meta", { name: "description", content: props.page.fields.metaDescription }),
                    ];
                };
                ProceedingsSeriesListPage.prototype.render = function () {
                    var _a = this.props, series = _a.series, page = _a.page, currentPath = _a.currentPath;
                    return (React.createElement(Default_12.default, { currentPath: currentPath },
                        React.createElement(Content_11.ContentWithSideBar, { title: React.createElement("h1", null, "Proceedings"), sidebar: React.createElement(Nav_7.SubNav, { id: "proceedingsNav", isDefaultToFirst: true, items: util_9.extractLocalNav(page.fields.body, "listings") }), content: React.createElement("div", null,
                                React.createElement(Content_11.Intro, { intro: page.fields.intro }),
                                React.createElement(Markdown_8.default, { className: "textContent", source: page.fields.body })) })));
                };
                return ProceedingsSeriesListPage;
            }(React.Component));
            exports_91("default", ProceedingsSeriesListPage);
        }
    };
});
System.register("pages/ProceedingsSeriesPage", ["layouts/Default", "components/Markdown", "utils/utils", "domain/publication", "components/Series/SeriesHeader", "components/Tabs/index", "components/listings.css", "components/Content/index", "components/Search/index", "components/listings", "components/Nav"], function (exports_92, context_92) {
    "use strict";
    var Default_13, Markdown_9, utils_22, publication_2, SeriesHeader_2, Tabs_2, listings_css_3, Content_12, Search_1, listings_7, Nav_8, ProceedingsSeriesTabs, SeriesHome, SeriesPage;
    var __moduleName = context_92 && context_92.id;
    return {
        setters: [
            function (Default_13_1) {
                Default_13 = Default_13_1;
            },
            function (Markdown_9_1) {
                Markdown_9 = Markdown_9_1;
            },
            function (utils_22_1) {
                utils_22 = utils_22_1;
            },
            function (publication_2_1) {
                publication_2 = publication_2_1;
            },
            function (SeriesHeader_2_1) {
                SeriesHeader_2 = SeriesHeader_2_1;
            },
            function (Tabs_2_1) {
                Tabs_2 = Tabs_2_1;
            },
            function (listings_css_3_1) {
                listings_css_3 = listings_css_3_1;
            },
            function (Content_12_1) {
                Content_12 = Content_12_1;
            },
            function (Search_1_1) {
                Search_1 = Search_1_1;
            },
            function (listings_7_1) {
                listings_7 = listings_7_1;
            },
            function (Nav_8_1) {
                Nav_8 = Nav_8_1;
            }
        ],
        execute: function () {
            exports_92("ProceedingsSeriesTabs", ProceedingsSeriesTabs = function (props) {
                var id;
                if (typeof window === "undefined") {
                    id = globals.registerClientSideComponent("pages/ProceedingsSeriesPage", "ProceedingsSeriesTabs", props);
                }
                return (React.createElement("div", { id: id },
                    React.createElement(Tabs_2.default, { tabs: [
                            "Latest Volumes",
                            "Most Downloaded",
                            "Most Cited",
                            "Upcoming Volumes",
                        ] },
                        React.createElement(Tabs_2.ConditionalOverride, { override: props.recentVolumesOverride, moreLink: props.recentVolumesOverrideReadMore &&
                                React.createElement("a", { href: "/proceedings/series/" + props.code + "/recent-volumes" }, "View More Latest Volumes") },
                            React.createElement(listings_7.VolumeListing, { volumes: props.recentVolumes.slice(0, 3) }),
                            props.recentVolumes.length > 3 &&
                                React.createElement("p", { className: "textContent" },
                                    React.createElement("a", { href: "/proceedings/series/" + props.code + "/recent-volumes" }, "View More Latest Volumes"))),
                        React.createElement(Tabs_2.ConditionalOverride, { override: props.mostDownloadedOverride, moreLink: props.mostDownloadedOverrideReadMore &&
                                React.createElement("a", { href: "/proceedings/series/" + props.code + "/most-downloaded" }, "View More Most Downloaded Articles") },
                            React.createElement(listings_7.ProceedingsArticleListing, { articles: props.mostDownloaded.slice(0, 3) }),
                            props.mostDownloaded.length > 3 &&
                                React.createElement("p", { className: "textContent" },
                                    React.createElement("a", { href: "/proceedings/series/" + props.code + "/most-downloaded" }, "View More Most Downloaded Articles"))),
                        React.createElement(Tabs_2.ConditionalOverride, { override: props.mostCitedArticlesOverride, moreLink: props.mostCitedArticlesOverrideReadMore &&
                                React.createElement("a", { href: "/proceedings/series/" + props.code + "/most-cited" }, "View More Most Cited Articles") }, "/* Not yet implemented */[n/a]"),
                        React.createElement(Tabs_2.ConditionalOverride, { override: props.upcomingVolumesOverride, moreLink: props.upcomingVolumesOverrideReadMore &&
                                React.createElement("a", { href: "/proceedings/series/" + props.code + "/upcoming-volumes" }, "View More Upcoming Volumes") },
                            React.createElement(listings_7.VolumeListing, { volumes: props.upcomingVolumes.slice(0, 3) }),
                            props.upcomingVolumes.length > 3 &&
                                React.createElement("p", { className: "textContent" },
                                    React.createElement("a", { href: "/proceedings/series/" + props.code + "/upcoming-volumes" }, "View More Upcoming Volumes"))))));
            });
            SeriesHome = function (props) { return (React.createElement("div", null,
                React.createElement("div", null,
                    React.createElement(SeriesHeader_2.SeriesHeader, { cover: props.series.fields.cover, content: Markdown_9.renderMarkdown(props.series.fields.intro), subscriptionTopic: props.series.fields.id.toUpperCase(), introTitle: "Series Editor(s):", eIssn: props.series.fields.eIssn, pIssn: props.series.fields.pIssn, introLink: props.series.fields.intro.match(/vacant/i)
                            ? undefined
                            : {
                                href: "/proceedings/series/" + props.series.fields.id + "/publishing-info#series-editors",
                                text: "View Editor Information"
                            } })),
                React.createElement(Markdown_9.default, { className: "textContent", source: props.series.fields.body }),
                React.createElement("div", null,
                    React.createElement(ProceedingsSeriesTabs, { code: props.series.fields.id, mostDownloaded: props.mostDownloaded, mostDownloadedOverride: Markdown_9.renderMarkdown(props.series.fields.mostDownloadedOverride), mostDownloadedOverrideReadMore: props.series.fields.mostDownloadedOverrideReadMore, upcomingVolumes: props.upcomingVolumes, upcomingVolumesOverride: Markdown_9.renderMarkdown(props.series.fields.upcomingVolumesOverride), upcomingVolumesOverrideReadMore: props.series.fields.upcomingVolumesOverrideReadMore, recentVolumes: props.recentVolumes, recentVolumesOverride: Markdown_9.renderMarkdown(props.series.fields.latestVolumesOverride), recentVolumesOverrideReadMore: props.series.fields.latestVolumesOverrideReadMore, mostCitedArticles: props.mostCitedArticles, mostCitedArticlesOverride: Markdown_9.renderMarkdown(props.series.fields.mostCitedOverride), mostCitedArticlesOverrideReadMore: props.series.fields.mostCitedOverrideReadMore })))); };
            SeriesPage = (function (_super) {
                __extends(SeriesPage, _super);
                function SeriesPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                SeriesPage.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.series.fields.title,
                            " | ",
                            defaults.title),
                        props.series.fields.metaDescription &&
                            React.createElement("meta", { name: "description", content: props.series.fields.metaDescription }),
                    ];
                };
                SeriesPage.prototype.jsonLD = function () {
                    var _a = this.props, series = _a.series, publications = _a.publications;
                    return {
                        "@type": "CreativeWorkSeries",
                        "name": series.fields.title,
                        "description": series.fields.body,
                        "hasPart": publication_2.filterByStatus(publications, publication_2.PubState.PUBLISHED).map(function (p) { return ({
                            "position": p.seriesVolume || undefined,
                            "url": "/proceedings/" + p.code,
                            "@id": "/proceedings/" + p.code + "#proceedings",
                        }); }),
                    };
                };
                SeriesPage.prototype.createNav = function () {
                    var links = [];
                    links.push({ link: { title: "Series Home", href: "/proceedings/series/" + this.props.series.fields.id } });
                    links.push({ link: { title: "Volumes", href: "/proceedings/series/" + this.props.series.fields.id + "/volumes" } });
                    links.push({ link: { title: "Search", href: "/proceedings/series/" + this.props.series.fields.id + "/search" } });
                    if (this.props.series.fields.aimsAndScope) {
                        links.push({
                            link: {
                                title: "Aims & scope",
                                href: "/proceedings/series/" + this.props.series.fields.id + "/aims-and-scope"
                            }
                        });
                    }
                    if (this.props.series.fields.publishingInfo) {
                        links.push({
                            link: {
                                title: "Publishing Info",
                                href: "/proceedings/series/" + this.props.series.fields.id + "/publishing-info"
                            }
                        });
                    }
                    return links;
                };
                SeriesPage.prototype.render = function () {
                    var _a = this.props, series = _a.series, publications = _a.publications, currentPath = _a.currentPath, subPage = _a.subPage, page = _a.page, formValues = _a.formValues;
                    utils_22.collectJsonLD(this.jsonLD());
                    var content;
                    switch (subPage) {
                        case "aims-and-scope":
                            content = React.createElement(Markdown_9.default, { className: "textContent", source: this.props.series.fields.aimsAndScope });
                            break;
                        case "publishing-info":
                            content = React.createElement(Markdown_9.default, { className: "textContent", source: this.props.series.fields.publishingInfo });
                            break;
                        case "volumes":
                            content = (React.createElement("div", null,
                                React.createElement("h1", null, "Volumes in this Series"),
                                React.createElement(listings_7.ProceedingsListTitles, { isShowVolumes: true, proceedings: publication_2.filterByStatus(this.props.publications, publication_2.PubState.PUBLISHED) })));
                            break;
                        case "recent-volumes":
                            if (this.props.series.fields.latestVolumesOverrideReadMore) {
                                content = (React.createElement(Markdown_9.default, { className: "textContent " + listings_css_3.default.overrideContent, source: this.props.series.fields.latestVolumesOverrideReadMore }));
                            }
                            else {
                                content = (React.createElement("div", null,
                                    React.createElement("h1", null, "Latest Volumes"),
                                    React.createElement(listings_7.VolumeListing, { volumes: this.props.recentVolumes })));
                            }
                            break;
                        case "upcoming-volumes":
                            if (this.props.series.fields.upcomingVolumesOverrideReadMore) {
                                content = React.createElement(Markdown_9.default, { className: "textContent " + listings_css_3.default.overrideContent, source: this.props.series.fields.upcomingVolumesOverrideReadMore });
                            }
                            else {
                                content = (React.createElement("div", null,
                                    React.createElement("h1", null, "Upcoming Volumes"),
                                    React.createElement(listings_7.VolumeListing, { volumes: this.props.upcomingVolumes })));
                            }
                            break;
                        case "most-downloaded":
                            if (this.props.series.fields.mostDownloadedOverrideReadMore) {
                                content = React.createElement(Markdown_9.default, { className: "textContent " + listings_css_3.default.overrideContent, source: this.props.series.fields.mostDownloadedOverrideReadMore });
                            }
                            else {
                                content = (React.createElement("div", null,
                                    React.createElement("h1", null, "Most Downloaded Articles"),
                                    React.createElement(listings_7.ProceedingsArticleListing, { articles: this.props.mostDownloaded })));
                            }
                            break;
                        case "most-cited":
                            content = React.createElement(Markdown_9.default, { className: "textContent " + listings_css_3.default.overrideContent, source: this.props.series.fields.mostCitedOverrideReadMore });
                            break;
                        case "search":
                            content = React.createElement(Search_1.default, { page: page, searchValues: formValues, itemsPerPage: 50, immutableFilters: [{ term: { "proceedings.proceedings_series_id": this.props.proceedingsSeries.id } }], showAdvanced: true, baseUrl: "/proceedings/series/" + series.fields.id + "/search", context: "proceedings" });
                            break;
                        default:
                            content = React.createElement(SeriesHome, __assign({}, this.props));
                    }
                    return (React.createElement(Default_13.default, { currentPath: currentPath, title: "Series" },
                        React.createElement(Content_12.ContentWithSideBar, { title: React.createElement("h1", null, series.fields.title), sidebar: React.createElement(Nav_8.SubNav, { id: "seriesNav", items: this.createNav() }), content: content })));
                };
                return SeriesPage;
            }(React.Component));
            exports_92("default", SeriesPage);
        }
    };
});
System.register("pages/SearchPage", ["layouts/Default", "components/Search/index", "components/Content/index"], function (exports_93, context_93) {
    "use strict";
    var Default_14, index_9, index_10, SearchPage;
    var __moduleName = context_93 && context_93.id;
    return {
        setters: [
            function (Default_14_1) {
                Default_14 = Default_14_1;
            },
            function (index_9_1) {
                index_9 = index_9_1;
            },
            function (index_10_1) {
                index_10 = index_10_1;
            }
        ],
        execute: function () {
            SearchPage = (function (_super) {
                __extends(SearchPage, _super);
                function SearchPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                SearchPage.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            "Search articles | ",
                            defaults.title),
                    ];
                };
                SearchPage.prototype.render = function () {
                    var _a = this.props, formValues = _a.formValues, page = _a.page, filterValues = _a.filterValues, order = _a.order, orderBy = _a.orderBy;
                    return (React.createElement(Default_14.default, { currentPath: this.props.currentPath },
                        React.createElement(index_10.ContentWithoutSideBar, { title: React.createElement("h1", null, "Search all articles"), content: React.createElement(index_9.default, { order: order, orderBy: orderBy, searchValues: formValues, filterValues: filterValues, itemsPerPage: 50, page: page, baseUrl: "/search", showAdvanced: true, showFilter: true }) })));
                };
                return SearchPage;
            }(React.Component));
            exports_93("default", SearchPage);
        }
    };
});
System.register("pages/TextPage", ["layouts/Default", "components/Markdown", "components/Content/index", "pages/util", "components/Nav"], function (exports_94, context_94) {
    "use strict";
    var Default_15, Markdown_10, Content_13, util_10, Nav_9, TextPage;
    var __moduleName = context_94 && context_94.id;
    return {
        setters: [
            function (Default_15_1) {
                Default_15 = Default_15_1;
            },
            function (Markdown_10_1) {
                Markdown_10 = Markdown_10_1;
            },
            function (Content_13_1) {
                Content_13 = Content_13_1;
            },
            function (util_10_1) {
                util_10 = util_10_1;
            },
            function (Nav_9_1) {
                Nav_9 = Nav_9_1;
            }
        ],
        execute: function () {
            TextPage = (function (_super) {
                __extends(TextPage, _super);
                function TextPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                TextPage.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.content.fields.title,
                            " | ",
                            defaults.title),
                        props.content.fields.metaDescription &&
                            React.createElement("meta", { name: "description", content: props.content.fields.metaDescription }),
                    ];
                };
                TextPage.prototype.render = function () {
                    var _a = this.props, content = _a.content, pageParent = _a.pageParent, currentPath = _a.currentPath;
                    var navRoot = pageParent ? pageParent : content;
                    if (content.fields.title === "Books") {
                        return (React.createElement(Default_15.default, { currentPath: currentPath },
                            React.createElement(Content_13.ContentWithSideBar, { title: React.createElement("h1", null, content.fields.title), sidebar: React.createElement(Nav_9.SubNav, { id: "booksnav", isDefaultToFirst: true, items: util_10.extractLocalNav(content.fields.body, "listings") }), content: React.createElement("div", null,
                                    React.createElement(Content_13.Intro, { intro: content.fields.intro }),
                                    React.createElement(Markdown_10.default, { className: "textContent", source: content.fields.body })) })));
                    }
                    return (React.createElement(Default_15.default, { currentPath: currentPath },
                        React.createElement(Content_13.ContentWithSideBar, { title: React.createElement("h1", null, content.fields.title), sidebar: (content.fields.subPages || pageParent) && React.createElement(Nav_9.SubNav, { id: "subPages", items: util_10.extractSubNav(navRoot) }), content: React.createElement("div", null,
                                React.createElement(Content_13.Intro, { intro: content.fields.intro }),
                                React.createElement(Markdown_10.default, { className: "textContent", source: content.fields.body })) })));
                };
                return TextPage;
            }(React.Component));
            exports_94("default", TextPage);
        }
    };
});
System.register("pages/YearListPage", ["layouts/Default", "components/Content/index", "components/listings"], function (exports_95, context_95) {
    "use strict";
    var Default_16, index_11, listings_8, YearListPage;
    var __moduleName = context_95 && context_95.id;
    return {
        setters: [
            function (Default_16_1) {
                Default_16 = Default_16_1;
            },
            function (index_11_1) {
                index_11 = index_11_1;
            },
            function (listings_8_1) {
                listings_8 = listings_8_1;
            }
        ],
        execute: function () {
            YearListPage = (function (_super) {
                __extends(YearListPage, _super);
                function YearListPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                YearListPage.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            "Articles by publication year | ",
                            defaults.title),
                    ];
                };
                YearListPage.prototype.render = function () {
                    var years = [];
                    var thisYear = new Date().getFullYear();
                    var firstYear = 1994;
                    for (var i = thisYear; i >= firstYear; i--) {
                        years.push(i);
                    }
                    return (React.createElement(Default_16.default, { currentPath: this.props.currentPath, title: "Series" },
                        React.createElement(index_11.ContentWithoutSideBar, { title: React.createElement("h1", null, "Articles by publication year"), content: React.createElement(listings_8.LinkList, { items: years.map(function (year) { return React.createElement("a", { href: "/year/" + year },
                                    "Articles published in ",
                                    year); }) }) })));
                };
                return YearListPage;
            }(React.Component));
            exports_95("default", YearListPage);
        }
    };
});
System.register("pages/system", ["layouts/Default", "components/Markdown", "components/Content/index"], function (exports_96, context_96) {
    "use strict";
    var Default_17, Markdown_11, Content_14, SystemPage;
    var __moduleName = context_96 && context_96.id;
    return {
        setters: [
            function (Default_17_1) {
                Default_17 = Default_17_1;
            },
            function (Markdown_11_1) {
                Markdown_11 = Markdown_11_1;
            },
            function (Content_14_1) {
                Content_14 = Content_14_1;
            }
        ],
        execute: function () {
            SystemPage = (function (_super) {
                __extends(SystemPage, _super);
                function SystemPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                SystemPage.head = function (_a, defaults) {
                    var title = _a.title;
                    return [
                        React.createElement("title", null,
                            defaults.title,
                            " - ",
                            title),
                    ];
                };
                SystemPage.prototype.render = function () {
                    var _a = this.props, message = _a.message, title = _a.title, currentPath = _a.currentPath;
                    return (React.createElement(Default_17.default, { currentPath: currentPath },
                        React.createElement(Content_14.ContentWithoutSideBar, { title: React.createElement("h1", null, title), content: React.createElement(Markdown_11.default, { className: "textContent", source: message }) })));
                };
                return SystemPage;
            }(React.Component));
            exports_96("SystemPage", SystemPage);
        }
    };
});
System.register("pages/AccountPage/ProceedingsArticleDetailsPage", ["components/Form/index.css", "components/Logs", "utils/adminmethods", "components/Form/message", "layouts/dashboards"], function (exports_97, context_97) {
    "use strict";
    var index_css_34, Logs_1, adminmethods_6, message_4, dashboards_3, ProceedingsArticleDetailsPage;
    var __moduleName = context_97 && context_97.id;
    return {
        setters: [
            function (index_css_34_1) {
                index_css_34 = index_css_34_1;
            },
            function (Logs_1_1) {
                Logs_1 = Logs_1_1;
            },
            function (adminmethods_6_1) {
                adminmethods_6 = adminmethods_6_1;
            },
            function (message_4_1) {
                message_4 = message_4_1;
            },
            function (dashboards_3_1) {
                dashboards_3 = dashboards_3_1;
            }
        ],
        execute: function () {
            ProceedingsArticleDetailsPage = (function (_super) {
                __extends(ProceedingsArticleDetailsPage, _super);
                function ProceedingsArticleDetailsPage(a, b) {
                    var _this = _super.call(this, a, b) || this;
                    _this.props.data.publicationDate = _this.props.data.publicationDate ? new Date(_this.props.data.publicationDate) : null;
                    return _this;
                }
                ProceedingsArticleDetailsPage.prototype.goBack = function () {
                    window.location.href = "/account/proceedings/" + this.props.data.proceedings_id;
                };
                ProceedingsArticleDetailsPage.prototype.render = function () {
                    var _this = this;
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AccountPage/ProceedingsArticleDetailsPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_3.Account, { id: elementId, title: "Article Details", back: {
                            href: "/account/proceedings/" + this.props.data.proceedings_id,
                            title: "Back to article overview"
                        } },
                        adminmethods_6.proceedingsArticleOrganiserEditable(this.props.data.state) ?
                            React.createElement("div", null,
                                React.createElement("a", { href: "/account/proceedings/" + this.props.data.proceedings_id + "/article-edit/" + this.props.data.id, className: index_css_34.default.button }, "Edit this article"))
                            :
                                React.createElement(message_4.Message, { type: "notice" }, "This article is not editable. Only articles with a status \"DRAFT\" or \"NEEDS_REVISION\" are editable. Please contact your Atlantis Press to request an edit."),
                        React.createElement(dashboards_3.Section, { title: "Article details" },
                            React.createElement("div", { className: index_css_34.default.element },
                                React.createElement("span", { className: index_css_34.default.label }, "Title"),
                                React.createElement("div", null, this.props.data.title)),
                            React.createElement("div", { className: index_css_34.default.element },
                                React.createElement("span", { className: index_css_34.default.label }, "Status"),
                                React.createElement("div", null, adminmethods_6.proceedingsArticleStateTranslations[this.props.data.state] || "")),
                            React.createElement("div", { className: index_css_34.default.element },
                                React.createElement("span", { className: index_css_34.default.label }, "Authors"),
                                React.createElement("div", null,
                                    React.createElement("ul", { className: index_css_34.default.list }, this.props.authors.map(function (author) {
                                        return React.createElement("li", null,
                                            author.firstName + " " + author.lastName,
                                            " ",
                                            author.correspondingAuthor && "*");
                                    })))),
                            React.createElement("div", { className: index_css_34.default.element },
                                React.createElement("span", { className: index_css_34.default.label }, "Summary"),
                                React.createElement("div", null, this.props.data.summary)),
                            React.createElement("div", { className: index_css_34.default.element },
                                React.createElement("span", { className: index_css_34.default.label }, "Keywords"),
                                React.createElement("div", null, this.props.data.keywords)),
                            React.createElement("div", { className: index_css_34.default.element },
                                React.createElement("span", { className: index_css_34.default.label }, "Session"),
                                React.createElement("div", null, this.props.sessions && this.props.sessions.map(function (s) { return s.id === _this.props.data.proceedings_session_id ? s.name : null; }))),
                            this.props.data.file &&
                                React.createElement("div", { className: index_css_34.default.element },
                                    React.createElement("span", { className: index_css_34.default.label }, "File"),
                                    React.createElement("div", null,
                                        React.createElement("a", { href: "/admin/article-pdf/" + this.props.data.id, className: index_css_34.default.buttonSecondary }, "Download article PDF")))),
                        React.createElement(dashboards_3.Section, { title: "Article log" },
                            React.createElement(Logs_1.Logs, { articleId: this.props.data.id, logs: this.props.logs, writable: true }))));
                };
                return ProceedingsArticleDetailsPage;
            }(BaseComponent));
            exports_97("default", ProceedingsArticleDetailsPage);
        }
    };
});
System.register("pages/AccountPage/ProceedingsArticleEditPage", ["utils/utils", "components/ProceedingsArticleForm", "utils/adminmethods", "components/Form/message", "layouts/dashboards"], function (exports_98, context_98) {
    "use strict";
    var utils_23, ProceedingsArticleForm_1, adminmethods_7, message_5, dashboards_4, ProceedingsArticleEditPage;
    var __moduleName = context_98 && context_98.id;
    return {
        setters: [
            function (utils_23_1) {
                utils_23 = utils_23_1;
            },
            function (ProceedingsArticleForm_1_1) {
                ProceedingsArticleForm_1 = ProceedingsArticleForm_1_1;
            },
            function (adminmethods_7_1) {
                adminmethods_7 = adminmethods_7_1;
            },
            function (message_5_1) {
                message_5 = message_5_1;
            },
            function (dashboards_4_1) {
                dashboards_4 = dashboards_4_1;
            }
        ],
        execute: function () {
            ProceedingsArticleEditPage = (function (_super) {
                __extends(ProceedingsArticleEditPage, _super);
                function ProceedingsArticleEditPage(a, b) {
                    var _this = _super.call(this, a, b) || this;
                    _this.props.data.publicationDate = _this.props.data.publicationDate ? new Date(_this.props.data.publicationDate) : null;
                    return _this;
                }
                ProceedingsArticleEditPage.prototype.submit = function () {
                    var _this = this;
                    utils_23.callServer("/account/save-article", {
                        data: this.props.data,
                        authors: this.props.authors,
                        uploadedFileName: this.uploadedFileName
                    })
                        .then(function () {
                        _this.goBack();
                    })
                        .catch(function (e) {
                        console.log(e);
                        alert("An error occurred while connecting to the server");
                    });
                };
                ProceedingsArticleEditPage.prototype.onUpload = function (fileName) {
                    this.uploadedFileName = fileName;
                };
                ProceedingsArticleEditPage.prototype.goBack = function () {
                    window.location.href = "/account/proceedings/" + this.props.data.proceedings_id;
                };
                ProceedingsArticleEditPage.prototype.render = function () {
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AccountPage/ProceedingsArticleEditPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_4.Account, { id: elementId, title: "Proceedings article", back: { href: "/account/proceedings/" + this.props.data.proceedings_id, title: "Back to proceedings" } }, adminmethods_7.proceedingsArticleOrganiserEditable(this.props.data.state) ?
                        React.createElement(ProceedingsArticleForm_1.default, { data: this.props.data, authors: this.props.authors, sessions: this.props.sessions, onSave: this.submit, onCancel: this.goBack, isAdmin: false, onUpload: this.onUpload, pdfUrl: this.props.data.file ? "/account/article-pdf/" + this.props.data.id : null })
                        :
                            React.createElement(message_5.Message, { type: "notice" }, "This article is not editable. Only articles with a status \"DRAFT\" or \"NEEDS_REVISION\" are editable. Please contact your Atlantis Press to request an edit.")));
                };
                return ProceedingsArticleEditPage;
            }(BaseComponent));
            exports_98("default", ProceedingsArticleEditPage);
        }
    };
});
System.register("pages/AccountPage/ProceedingsBulkMetaPage", ["components/Import/ArticleImport", "layouts/dashboards"], function (exports_99, context_99) {
    "use strict";
    var ArticleImport_1, dashboards_5, ProceedingsBulkMetaPage;
    var __moduleName = context_99 && context_99.id;
    return {
        setters: [
            function (ArticleImport_1_1) {
                ArticleImport_1 = ArticleImport_1_1;
            },
            function (dashboards_5_1) {
                dashboards_5 = dashboards_5_1;
            }
        ],
        execute: function () {
            ProceedingsBulkMetaPage = (function (_super) {
                __extends(ProceedingsBulkMetaPage, _super);
                function ProceedingsBulkMetaPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ProceedingsBulkMetaPage.prototype.render = function () {
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AccountPage/ProceedingsBulkMetaPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_5.Account, { id: elementId, title: "Bulk upload article metadata", back: { href: "/account/proceedings/" + this.props.record.id, title: "Back to proceedings" } },
                        React.createElement("p", null,
                            "To start uploading a new set of articles, ",
                            React.createElement("a", { href: "/account/proceedings/" + this.props.record.id + "/generate-table/ArticleImport" }, "download an Excel template"),
                            " and fill in the fields. If you don't use Excel but Open/Libre Office, Apple Number of Google Sheets we have also a ",
                            React.createElement("a", { href: "/files/proceedings_template_test.xlsx" }, "fallback template"),
                            " (For testing, this is a non-dynamic template)."),
                        React.createElement(ArticleImport_1.default, { returnUrl: "/account/proceedings/" + this.props.record.id, saveUrl: "/account/proceedings/" + this.props.record.id + "/save-bulk/ArticleImport" })));
                };
                return ProceedingsBulkMetaPage;
            }(BaseComponent));
            exports_99("default", ProceedingsBulkMetaPage);
        }
    };
});
System.register("pages/AccountPage/ProceedingsBulkUploadPage", ["components/BulkUploadForm/index", "layouts/dashboards"], function (exports_100, context_100) {
    "use strict";
    var BulkUploadForm_1, dashboards_6, ProceedingsBulkUploadPage;
    var __moduleName = context_100 && context_100.id;
    return {
        setters: [
            function (BulkUploadForm_1_1) {
                BulkUploadForm_1 = BulkUploadForm_1_1;
            },
            function (dashboards_6_1) {
                dashboards_6 = dashboards_6_1;
            }
        ],
        execute: function () {
            ProceedingsBulkUploadPage = (function (_super) {
                __extends(ProceedingsBulkUploadPage, _super);
                function ProceedingsBulkUploadPage(a, b) {
                    return _super.call(this, a, b) || this;
                }
                ProceedingsBulkUploadPage.prototype.render = function () {
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AccountPage/ProceedingsBulkUploadPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_6.Account, { id: elementId, title: "Proceedings Bulk Upload", back: {
                            href: "/account/proceedings/" + this.props.record.id, title: "Back to proceedings"
                        } },
                        React.createElement("p", null, "The following articles are either in need of revision or still in draft state. Use the form below to replace these articles' PDF's."),
                        React.createElement(BulkUploadForm_1.default, { record: this.props.record, articles: this.props.articles, targetState: "SUBMITTED_FOR_REVIEW" })));
                };
                return ProceedingsBulkUploadPage;
            }(BaseComponent));
            exports_100("default", ProceedingsBulkUploadPage);
        }
    };
});
System.register("pages/AccountPage/ProceedingsOrganizersBulkUploadPage", ["components/Import/OrganizerImport", "layouts/dashboards"], function (exports_101, context_101) {
    "use strict";
    var OrganizerImport_1, dashboards_7, ProceedingsOrganizersBulkUploadPage;
    var __moduleName = context_101 && context_101.id;
    return {
        setters: [
            function (OrganizerImport_1_1) {
                OrganizerImport_1 = OrganizerImport_1_1;
            },
            function (dashboards_7_1) {
                dashboards_7 = dashboards_7_1;
            }
        ],
        execute: function () {
            ProceedingsOrganizersBulkUploadPage = (function (_super) {
                __extends(ProceedingsOrganizersBulkUploadPage, _super);
                function ProceedingsOrganizersBulkUploadPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ProceedingsOrganizersBulkUploadPage.prototype.render = function () {
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AccountPage/ProceedingsOrganizersBulkUploadPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_7.Account, { id: elementId, title: "Bulk upload organizers", back: { href: "/account/proceedings/" + this.props.record.id, title: "Back to proceedings" } },
                        React.createElement("p", null,
                            "Use ",
                            React.createElement("a", { href: "/account/proceedings/" + this.props.record.id + "/generate-table/OrganizerImport" }, "this template"),
                            " as a basis."),
                        React.createElement(OrganizerImport_1.default, { returnUrl: "/account/proceedings/" + this.props.record.id + "/organizers", saveUrl: "/account/proceedings/" + this.props.record.id + "/save-bulk/OrganizerImport" })));
                };
                return ProceedingsOrganizersBulkUploadPage;
            }(BaseComponent));
            exports_101("default", ProceedingsOrganizersBulkUploadPage);
        }
    };
});
System.register("pages/AccountPage/ProceedingsOrganizersPage", ["components/ProceedingsOrganizerForm", "layouts/dashboards"], function (exports_102, context_102) {
    "use strict";
    var ProceedingsOrganizerForm_1, dashboards_8, ProceedingsOrganizersPage;
    var __moduleName = context_102 && context_102.id;
    return {
        setters: [
            function (ProceedingsOrganizerForm_1_1) {
                ProceedingsOrganizerForm_1 = ProceedingsOrganizerForm_1_1;
            },
            function (dashboards_8_1) {
                dashboards_8 = dashboards_8_1;
            }
        ],
        execute: function () {
            ProceedingsOrganizersPage = (function (_super) {
                __extends(ProceedingsOrganizersPage, _super);
                function ProceedingsOrganizersPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ProceedingsOrganizersPage.prototype.render = function () {
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AccountPage/ProceedingsOrganizersPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_8.Account, { id: elementId, title: this.props.data.title + " - Organizers", back: {
                            href: "/account/proceedings/" + this.props.data.id,
                            title: "Back to proceedings"
                        } },
                        React.createElement(dashboards_8.ActionNav, { links: [
                                { href: "/account/proceedings/" + this.props.data.id + "/import-organizers", title: "Upload organizer list" }
                            ] }),
                        React.createElement(ProceedingsOrganizerForm_1.default, { proceedings: this.props.data, organizers: this.props.organizers, submitUrl: "/account/save-organizer", changeOrderUrl: "/account/save-organizer-order", deleteUrl: "/account/delete-organizer" })));
                };
                return ProceedingsOrganizersPage;
            }(BaseComponent));
            exports_102("default", ProceedingsOrganizersPage);
        }
    };
});
System.register("pages/AccountPage/ProceedingsPage", ["utils/adminmethods", "components/Form/index.css", "components/Table", "components/BulkActionForm", "layouts/dashboards", "domain/formatting"], function (exports_103, context_103) {
    "use strict";
    var adminmethods_8, index_css_35, Table_3, BulkActionForm_1, dashboards_9, formatting_8, ProceedingsPage;
    var __moduleName = context_103 && context_103.id;
    return {
        setters: [
            function (adminmethods_8_1) {
                adminmethods_8 = adminmethods_8_1;
            },
            function (index_css_35_1) {
                index_css_35 = index_css_35_1;
            },
            function (Table_3_1) {
                Table_3 = Table_3_1;
            },
            function (BulkActionForm_1_1) {
                BulkActionForm_1 = BulkActionForm_1_1;
            },
            function (dashboards_9_1) {
                dashboards_9 = dashboards_9_1;
            },
            function (formatting_8_1) {
                formatting_8 = formatting_8_1;
            }
        ],
        execute: function () {
            ProceedingsPage = (function (_super) {
                __extends(ProceedingsPage, _super);
                function ProceedingsPage() {
                    var _this = _super !== null && _super.apply(this, arguments) || this;
                    _this.state = {
                        bulkAction: null,
                        selectedArticleIds: [],
                        selectedSessionId: null
                    };
                    return _this;
                }
                ProceedingsPage.prototype.getSessionName = function (sessionId) {
                    var result = this.props.sessions.filter(function (session) {
                        return (session.id === sessionId);
                    });
                    return result[0] && result[0].name;
                };
                ProceedingsPage.prototype.formatDate = function (date) {
                    return date ? formatting_8.formatDate(date + "") : "-";
                };
                ProceedingsPage.prototype.getForm = function () {
                    var data = this.props.data;
                    return (React.createElement("div", null,
                        React.createElement("div", { className: index_css_35.default.element },
                            React.createElement("span", { className: index_css_35.default.label }, "Code"),
                            React.createElement("div", null, data.code)),
                        React.createElement("div", { className: index_css_35.default.element },
                            React.createElement("span", { className: index_css_35.default.label }, "Delivery date"),
                            React.createElement("div", null, this.formatDate(data.closureDate)))));
                };
                ProceedingsPage.prototype.render = function () {
                    var _this = this;
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AccountPage/ProceedingsPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_9.Account, { id: elementId, title: this.props.data.title, back: {
                            href: "/account",
                            title: "Back to overview"
                        } },
                        React.createElement(dashboards_9.Section, { title: "Proceedings details" }, this.getForm()),
                        React.createElement(dashboards_9.Section, { title: "Articles" },
                            React.createElement(dashboards_9.ActionNav, { links: [
                                    { href: "/account/proceedings/" + this.props.data.id + "/article-edit", title: "Add article" },
                                    { href: "/account/proceedings/" + this.props.data.id + "/bulk", title: "Add articles in bulk (Excel)" },
                                    { href: "/account/proceedings/" + this.props.data.id + "/upload-bulk", title: "Upload article PDF's in bulk" },
                                    { href: "/account/proceedings/" + this.props.data.id + "/sessions", title: "Manage sessions" },
                                    { href: "/account/proceedings/" + this.props.data.id + "/organizers", title: "Manage organizers" },
                                ] }),
                            React.createElement(Table_3.Table, { className: index_css_35.default.table, cols: [
                                    React.createElement("th", { className: index_css_35.default.tableColumnCheckbox },
                                        React.createElement("input", { type: "checkbox", onChange: function (e) {
                                                _this.toggleAll(e.currentTarget.checked);
                                            } })),
                                    ["ID", "id", index_css_35.default.tableColumnId],
                                    ["Title", "title", undefined],
                                    ["Session", "session", undefined],
                                    ["Status", "state", undefined],
                                    ["File", "file", undefined],
                                    ["Updated at", "date", index_css_35.default.tableColumnRight],
                                ], row: function (article) {
                                    var editPreviewLink = adminmethods_8.proceedingsArticleOrganiserEditable(article.state) ? "/account/proceedings/" + _this.props.data.id + "/article-edit/" + article.id : "/account/proceedings/" + _this.props.data.id + "/article/" + article.id;
                                    return (React.createElement("tr", { key: article.id + "_article", className: index_css_35.default.tableRow },
                                        React.createElement("td", { className: index_css_35.default.tableCell },
                                            React.createElement("input", { type: "checkbox", checked: _this.state.selectedArticleIds.indexOf(article.id) >= 0, onClick: function () { return _this.toggleArticleId(article.id); } })),
                                        React.createElement("td", { className: index_css_35.default.tableCell },
                                            React.createElement("a", { href: editPreviewLink }, article.id)),
                                        React.createElement("td", { className: index_css_35.default.tableCell },
                                            React.createElement("a", { href: editPreviewLink }, article.title)),
                                        React.createElement("td", { className: index_css_35.default.tableCell }, article.proceedings_session_id && _this.getSessionName(article.proceedings_session_id)),
                                        React.createElement("td", { className: index_css_35.default.tableCell }, adminmethods_8.proceedingsArticleStateTranslations[article.state]),
                                        React.createElement("td", { className: index_css_35.default.tableCell }, article.file &&
                                            React.createElement("a", { href: "/account/article-pdf/" + article.id }, "Download")),
                                        React.createElement("td", { className: index_css_35.default.tableCellRight },
                                            React.createElement("div", { className: index_css_35.default.tableCellTitleDateWrapper }, formatting_8.formatDateTime(article.updatedAt)))));
                                }, items: this.props.articles, url: "/account:proceedings_article:" + this.props.data.id }),
                            React.createElement(BulkActionForm_1.default, { actions: ["update_session", "submit_for_review", "delete"], updateUrl: "/account/bulk-update", sessions: this.props.sessions, ids: this.state.selectedArticleIds }))));
                };
                ProceedingsPage.prototype.toggleArticleId = function (id) {
                    var newArticleIds = this.state.selectedArticleIds.indexOf(id) >= 0
                        ? this.state.selectedArticleIds.filter(function (otherId) { return otherId !== id; })
                        : __spread(this.state.selectedArticleIds, [id]);
                    this.setState(__assign({}, this.state, { selectedArticleIds: newArticleIds }));
                };
                ProceedingsPage.prototype.toggleAll = function (checked) {
                    if (checked) {
                        this.setState(__assign({}, this.state, { selectedArticleIds: this.props.articles.map(function (a) { return a.id; }) }));
                    }
                    else {
                        this.setState(__assign({}, this.state, { selectedArticleIds: [] }));
                    }
                };
                return ProceedingsPage;
            }(BaseComponent));
            exports_103("default", ProceedingsPage);
        }
    };
});
System.register("pages/AccountPage/ProceedingsProposalPage", ["components/ProceedingsProposalForm", "layouts/dashboards"], function (exports_104, context_104) {
    "use strict";
    var ProceedingsProposalForm_1, dashboards_10, ProceedingProposalPage;
    var __moduleName = context_104 && context_104.id;
    return {
        setters: [
            function (ProceedingsProposalForm_1_1) {
                ProceedingsProposalForm_1 = ProceedingsProposalForm_1_1;
            },
            function (dashboards_10_1) {
                dashboards_10 = dashboards_10_1;
            }
        ],
        execute: function () {
            ProceedingProposalPage = (function (_super) {
                __extends(ProceedingProposalPage, _super);
                function ProceedingProposalPage(a, b) {
                    return _super.call(this, a, b) || this;
                }
                ProceedingProposalPage.prototype.render = function () {
                    return (React.createElement(dashboards_10.Account, { title: "Proceedings proposal", back: { href: "/account", title: "Back to overview" } },
                        React.createElement(ProceedingsProposalForm_1.default, null)));
                };
                return ProceedingProposalPage;
            }(BaseComponent));
            exports_104("default", ProceedingProposalPage);
        }
    };
});
System.register("pages/AccountPage/ProceedingsSessionsPage", ["components/ProceedingsSessionForm", "layouts/dashboards"], function (exports_105, context_105) {
    "use strict";
    var ProceedingsSessionForm_1, dashboards_11, ProceedingsSessionsPage;
    var __moduleName = context_105 && context_105.id;
    return {
        setters: [
            function (ProceedingsSessionForm_1_1) {
                ProceedingsSessionForm_1 = ProceedingsSessionForm_1_1;
            },
            function (dashboards_11_1) {
                dashboards_11 = dashboards_11_1;
            }
        ],
        execute: function () {
            ProceedingsSessionsPage = (function (_super) {
                __extends(ProceedingsSessionsPage, _super);
                function ProceedingsSessionsPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ProceedingsSessionsPage.prototype.render = function () {
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AccountPage/ProceedingsSessionsPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_11.Account, { id: elementId, title: this.props.data.title + " - Sessions", back: { href: "/account/proceedings/" + this.props.data.id, title: "Back to proceedings" } },
                        React.createElement(ProceedingsSessionForm_1.default, { proceedings: this.props.data, sessions: this.props.sessions, submitUrl: "/account/save-session", changeOrderUrl: "/account/save-session-order", deleteUrl: "/account/delete-session" })));
                };
                return ProceedingsSessionsPage;
            }(BaseComponent));
            exports_105("default", ProceedingsSessionsPage);
        }
    };
});
System.register("pages/AdminPage/AdminJournalArticleEditPage", ["utils/utils", "components/JournalArticleForm", "layouts/dashboards"], function (exports_106, context_106) {
    "use strict";
    var utils_24, JournalArticleForm_1, dashboards_12, AdminJournalArticleEditPage;
    var __moduleName = context_106 && context_106.id;
    return {
        setters: [
            function (utils_24_1) {
                utils_24 = utils_24_1;
            },
            function (JournalArticleForm_1_1) {
                JournalArticleForm_1 = JournalArticleForm_1_1;
            },
            function (dashboards_12_1) {
                dashboards_12 = dashboards_12_1;
            }
        ],
        execute: function () {
            AdminJournalArticleEditPage = (function (_super) {
                __extends(AdminJournalArticleEditPage, _super);
                function AdminJournalArticleEditPage(a, b) {
                    var _this = _super.call(this, a, b) || this;
                    _this.props.data.publicationDate = _this.props.data.publicationDate ? new Date(_this.props.data.publicationDate) : null;
                    return _this;
                }
                AdminJournalArticleEditPage.prototype.submit = function () {
                    var _this = this;
                    utils_24.callServer("/admin/save/JournalArticle", {
                        data: this.props.data,
                        revision: this.props.revision,
                        uploadedFileName: this.uploadedFileName
                    })
                        .then(function () {
                        _this.goBack();
                    })
                        .catch(function () {
                        alert("An error occurred while connecting to the server");
                    });
                };
                AdminJournalArticleEditPage.prototype.onUpload = function (fileName) {
                    this.uploadedFileName = fileName;
                };
                AdminJournalArticleEditPage.prototype.goBack = function () {
                    window.location.href = (this.props.data.id
                        ? (this.props.revision
                            ? "/admin/journals/" + this.props.data.journal_id + "/article/" + this.props.data.id + "/revisions"
                            : "/admin/journals/" + this.props.data.journal_id + "/article/" + this.props.data.id + "/edit") : "/admin/journals/" + this.props.data.journal_id + "/articles");
                };
                AdminJournalArticleEditPage.prototype.render = function () {
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AdminPage/AdminJournalArticleEditPage", "default", this.props);
                    }
                    var article = this.props.data;
                    return (React.createElement(dashboards_12.Admin, { id: elementId, title: "Journal article", back: this.props.revision
                            ? {
                                href: "/admin/journals/" + this.props.data.journal_id + "/article/" + this.props.data.id + "/revisions",
                                title: "Back to article revisions"
                            } : {
                            href: "/admin/journals/" + this.props.data.journal_id + "/articles",
                            title: "Back to article overview"
                        } },
                        article.id &&
                            React.createElement(dashboards_12.ActionNav, { links: [{ href: "/admin/journals/" + article.journal_id + "/article/" + article.id + "/revisions", title: "Article revisions" }] }),
                        React.createElement(JournalArticleForm_1.default, { mode: this.props.mode, data: this.props.data, revision: this.props.revision, authors: this.props.authors, issues: this.props.issues, onSave: this.submit, onCancel: this.goBack, isAdmin: true, onUpload: this.onUpload })));
                };
                return AdminJournalArticleEditPage;
            }(BaseComponent));
            exports_106("default", AdminJournalArticleEditPage);
        }
    };
});
System.register("pages/AdminPage/AdminJournalArticleListPage", ["components/Form/index.css", "components/Table", "layouts/dashboards", "domain/formatting", "utils/utils"], function (exports_107, context_107) {
    "use strict";
    var index_css_36, Table_4, dashboards_13, formatting_9, utils_25, AdminJournalArticleListPage;
    var __moduleName = context_107 && context_107.id;
    return {
        setters: [
            function (index_css_36_1) {
                index_css_36 = index_css_36_1;
            },
            function (Table_4_1) {
                Table_4 = Table_4_1;
            },
            function (dashboards_13_1) {
                dashboards_13 = dashboards_13_1;
            },
            function (formatting_9_1) {
                formatting_9 = formatting_9_1;
            },
            function (utils_25_1) {
                utils_25 = utils_25_1;
            }
        ],
        execute: function () {
            AdminJournalArticleListPage = (function (_super) {
                __extends(AdminJournalArticleListPage, _super);
                function AdminJournalArticleListPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                AdminJournalArticleListPage.prototype.render = function () {
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AdminPage/AdminJournalArticleListPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_13.Admin, { id: elementId, title: "Journal Articles - " + (this.props.record.code || "(uncoded)"), back: this.props.issue
                            ? { href: "/admin/journals/" + this.props.record.id + "/issues", title: "Back to issues" }
                            : { href: "/admin/journals", title: "Back to journals overview" } },
                        React.createElement(dashboards_13.Section, { title: "Articles" },
                            React.createElement("a", { className: index_css_36.default.buttonLink, href: "/admin/journals/" + this.props.record.id + "/article/edit" + (this.props.issue ? "?issue_id=" + this.props.issue.id : "") }, "+ Add article"),
                            this.props.issue && React.createElement("a", { className: index_css_36.default.buttonLink, href: "/admin/doi?code=" + this.props.record.code + "&issue_id=" + this.props.issue.id + "&mode=CNKI" }, "+ Download CNKI XML"),
                            this.props.issue && React.createElement("a", { className: index_css_36.default.buttonLink, href: "/admin/doi?code=" + this.props.record.code + "&issue_id=" + this.props.issue.id }, "+ Download DOI XML"),
                            this.props.issue && React.createElement("a", { className: index_css_36.default.buttonLink, href: "/admin/doi?code=" + this.props.record.code + "&issue_id=" + this.props.issue.id + "&update=1" }, "+ Download DOI XML (and update missing)"),
                            !this.props.issue && React.createElement("a", { className: index_css_36.default.buttonLink, href: "/admin/doi?code=" + this.props.record.code + "&issue_id=0" }, "+ Download DOI XML for articles without issue"),
                            !this.props.issue && React.createElement("a", { className: index_css_36.default.buttonLink, href: "/admin/doi?code=" + this.props.record.code + "&issue_id=0&update=1" }, "+ Download DOI XML for articles without issue (and update missing)"),
                            React.createElement(Table_4.Table, { className: index_css_36.default.table, cols: [
                                    ["ID", "id", undefined],
                                    ["Title", "title", undefined],
                                    ["PDF", "file", undefined],
                                    ["Issue", "issue", undefined],
                                    ["First page", "firstPage", undefined],
                                    ["Updated", "date", index_css_36.default.tableColumnRight],
                                    React.createElement("th", null)
                                ], row: function (article) { return (React.createElement("tr", { className: index_css_36.default.tableRow, key: article.id + "_article" },
                                    React.createElement("td", { className: index_css_36.default.tableCell },
                                        React.createElement("a", { href: "/admin/journals/" + article.journal_id + "/article/" + article.id + "/edit" }, article.id)),
                                    React.createElement("td", { className: index_css_36.default.tableCell },
                                        React.createElement("a", { href: "/admin/journals/" + article.journal_id + "/article/" + article.id + "/edit" }, article.title)),
                                    React.createElement("td", { className: index_css_36.default.tableCell }, article.file ? React.createElement("a", { href: "/article/" + article.id + ".pdf" }, "Yes") : "No"),
                                    React.createElement("td", null, article.issue && article.issue.issueDescription),
                                    React.createElement("td", null, article.firstPageInPublication),
                                    React.createElement("td", { className: index_css_36.default.tableCellRight },
                                        React.createElement("div", { className: index_css_36.default.tableCellTitleDateWrapper },
                                            React.createElement("a", { href: "/admin/journals/" + article.journal_id + "/article/" + article.id }, formatting_9.formatDateTime(article.updatedAt)))),
                                    React.createElement("td", { className: index_css_36.default.tableCell },
                                        React.createElement("a", { href: "/admin/journals/" + article.journal_id + "/article/" + article.id + "/revisions" }, "Revisions")),
                                    React.createElement("td", { className: index_css_36.default.tableCell },
                                        React.createElement("a", { href: "/admin/journals/" + article.journal_id + "/article/" + article.id + "/edit" }, "Edit")),
                                    React.createElement("td", { className: index_css_36.default.tableCell },
                                        React.createElement("a", { href: "#", onClick: function (e) {
                                                e.preventDefault();
                                                if (confirm("Are you sure you want to delete this record?")) {
                                                    utils_25.callServer("/admin/journals/" + article.journal_id + "/article/" + article.id + "/delete", null)
                                                        .then(function () {
                                                        window.location.reload();
                                                    })
                                                        .catch(function (e) {
                                                        alert(e);
                                                    });
                                                }
                                            } }, "Delete")))); }, items: this.props.articles, url: "/admin:journal_article:" + this.props.record.id }))));
                };
                return AdminJournalArticleListPage;
            }(BaseComponent));
            exports_107("default", AdminJournalArticleListPage);
        }
    };
});
System.register("pages/AdminPage/AdminJournalArticleListRevisionsPage", ["components/Form/index.css", "components/Table", "layouts/dashboards", "utils/utils"], function (exports_108, context_108) {
    "use strict";
    var index_css_37, Table_5, dashboards_14, utils_26, AdminJournalArticleListRevisionsPage;
    var __moduleName = context_108 && context_108.id;
    return {
        setters: [
            function (index_css_37_1) {
                index_css_37 = index_css_37_1;
            },
            function (Table_5_1) {
                Table_5 = Table_5_1;
            },
            function (dashboards_14_1) {
                dashboards_14 = dashboards_14_1;
            },
            function (utils_26_1) {
                utils_26 = utils_26_1;
            }
        ],
        execute: function () {
            AdminJournalArticleListRevisionsPage = (function (_super) {
                __extends(AdminJournalArticleListRevisionsPage, _super);
                function AdminJournalArticleListRevisionsPage(props) {
                    var _this = _super.call(this, props) || this;
                    _this.state = {
                        updateActiveRevisionId: null,
                        updateState: null
                    };
                    _this.state.updateActiveRevisionId = props.article.active_revision_id;
                    _this.state.updateState = props.article.state;
                    return _this;
                }
                AdminJournalArticleListRevisionsPage.prototype.render = function () {
                    var _this = this;
                    var article = this.props.article;
                    return (React.createElement(dashboards_14.Admin, { id: utils_26.registerClientsideComponent("pages/AdminPage/AdminJournalArticleListRevisionsPage", "default", this.props), title: "Article Revisions", back: undefined },
                        React.createElement("p", null,
                            "Article is",
                            " ",
                            React.createElement("select", { onChange: function (e) {
                                    _this.setState({ updateState: e.target.value });
                                }, value: this.state.updateState },
                                React.createElement("option", { value: "PUBLISHED" }, "published on the platform"),
                                React.createElement("option", { value: "DRAFT" }, "in draft")),
                            ".",
                            " ",
                            React.createElement("input", { type: "button", style: { width: "auto" }, disabled: article.state === this.state.updateState, value: "Update state", onClick: function () {
                                    utils_26.callServer("/admin/journals/setArticleState", {
                                        id: article.id,
                                        state: _this.state.updateState
                                    }).then(function () {
                                        alert("Article updated");
                                        window.location.reload();
                                    }).catch(function (e) {
                                        alert(e);
                                    });
                                } }),
                            "."),
                        this.props.records.length > 0 &&
                            React.createElement("div", null,
                                React.createElement(Table_5.Table, { className: index_css_37.default.table, cols: [
                                        ["Active revision", "", undefined],
                                        ["ID", "id", undefined],
                                        ["Created", "createdAt", undefined],
                                        ["Updated", "updatedAt", undefined],
                                        ["PDF", "file", undefined],
                                        ["Proofing State", "proofingState", undefined],
                                        ["Volume/Issue", undefined, undefined],
                                        ["Pages", undefined, undefined],
                                        React.createElement("th", { colSpan: 4 })
                                    ], row: function (revision) { return (React.createElement("tr", { className: index_css_37.default.tableRow, key: revision.id, style: _this.props.article.active_revision_id === revision.id ? { backgroundColor: "#ddffdd" } : {} },
                                        React.createElement("td", null,
                                            React.createElement("input", { type: "radio", value: revision.id, checked: _this.state.updateActiveRevisionId === revision.id, name: "active_revision_id", onChange: function (e) {
                                                    _this.setState({ updateActiveRevisionId: revision.id });
                                                } })),
                                        React.createElement("td", { className: index_css_37.default.tableCell }, revision.id),
                                        React.createElement("td", { className: index_css_37.default.tableCell }, "" + revision.createdAt),
                                        React.createElement("td", { className: index_css_37.default.tableCell }, "" + revision.updatedAt),
                                        React.createElement("td", { className: index_css_37.default.tableCell }, revision.file ? React.createElement("a", { href: "/article/" + revision.article_id + ".pdf?revision_id=" + revision.id }, "Yes") : "No"),
                                        React.createElement("td", { className: index_css_37.default.tableCell }, revision.proofingState),
                                        React.createElement("td", { className: index_css_37.default.tableCell }, revision.journal_issue_id && (function (issue) { return issue.volume + "." + (issue.issueDescription || issue.issueNumber); })(_this.props.issues.find(function (issue) { return issue.id === revision.journal_issue_id; }))),
                                        React.createElement("td", { className: index_css_37.default.tableCell }, revision.firstPageInPublication && revision.lastPageInPublication && revision.firstPageInPublication + "-" + revision.lastPageInPublication || "n/a"),
                                        React.createElement("td", { className: index_css_37.default.tableCell }, article.active_revision_id !== revision.id &&
                                            React.createElement("a", { href: "#", onClick: function (e) {
                                                    e.preventDefault();
                                                    if (confirm("Are you sure you want to delete this record?")) {
                                                        utils_26.callServer("/admin/journals/" + article.journal_id + "/article/" + article.id + "/revision/" + revision.id + "/delete", null)
                                                            .then(function () {
                                                            window.location.reload();
                                                        })
                                                            .catch(function (err) {
                                                            alert(err);
                                                        });
                                                    }
                                                } }, "Delete")),
                                        React.createElement("td", null,
                                            React.createElement("a", { href: "/admin/journals/" + article.journal_id + "/article/" + article.id + "/revision/" + revision.id + "/edit?mode=update_revision" }, "Edit")),
                                        React.createElement("td", null,
                                            React.createElement("a", { href: "/admin/journals/" + article.journal_id + "/article/" + article.id + "/revision/" + revision.id + "/edit?mode=create_revision" }, "Create new revision")),
                                        React.createElement("td", null, article.active_revision_id !== revision.id
                                            ? React.createElement("a", { href: "/journals/" + article.journal.code + "/" + article.id + "?revision_id=" + revision.id }, "Preview this revision")
                                            : React.createElement("a", { href: "/journals/" + article.journal.code + "/" + article.id, target: "_blank" }, "View active revision")))); }, items: this.props.records, url: undefined }),
                                React.createElement("p", null,
                                    React.createElement("input", { type: "button", value: "Update active revision", disabled: !(this.state.updateActiveRevisionId && this.state.updateActiveRevisionId !== article.active_revision_id), onClick: function () {
                                            utils_26.callServer("/admin/journals/setActiveRevision", {
                                                article_id: article.id,
                                                active_revision_id: _this.state.updateActiveRevisionId
                                            }).then(function () {
                                                alert("Article updated");
                                                window.location.reload();
                                            }).catch(function (e) {
                                                alert(e);
                                            });
                                        } })))));
                };
                return AdminJournalArticleListRevisionsPage;
            }(BaseComponent));
            exports_108("default", AdminJournalArticleListRevisionsPage);
        }
    };
});
System.register("pages/AdminPage/AdminJournalEditPage", ["utils/utils", "components/Form/index.css", "components/Form/index", "layouts/dashboards"], function (exports_109, context_109) {
    "use strict";
    var utils_27, index_css_38, Form_7, dashboards_15, AdminJournalEditPage;
    var __moduleName = context_109 && context_109.id;
    return {
        setters: [
            function (utils_27_1) {
                utils_27 = utils_27_1;
            },
            function (index_css_38_1) {
                index_css_38 = index_css_38_1;
            },
            function (Form_7_1) {
                Form_7 = Form_7_1;
            },
            function (dashboards_15_1) {
                dashboards_15 = dashboards_15_1;
            }
        ],
        execute: function () {
            AdminJournalEditPage = (function (_super) {
                __extends(AdminJournalEditPage, _super);
                function AdminJournalEditPage(a, b) {
                    var _this = _super.call(this, a, b) || this;
                    _this.validations = new Form_7.Form.Validations();
                    _this.props.record.publicationDate = _this.props.record && _this.props.record.publicationDate ? new Date(_this.props.record.publicationDate) : null;
                    return _this;
                }
                AdminJournalEditPage.prototype.save = function () {
                    if (this.validate()) {
                        utils_27.callServer("/admin/save/Journal", { data: this.props.record })
                            .then(function (result) {
                            window.location.href = "/admin/journals";
                        })
                            .catch(function (e) {
                            alert("An error occurred while connecting to the server");
                        });
                    }
                };
                AdminJournalEditPage.prototype.validate = function () {
                    this.validations.clear();
                    if (!this.props.record.name) {
                        this.validations.addValidation("name", "Field can not be empty");
                    }
                    if (!this.props.record.code) {
                        this.validations.addValidation("code", "Field can not be empty");
                    }
                    this.forceUpdate();
                    return this.validations.isValid();
                };
                AdminJournalEditPage.prototype.getForm = function () {
                    var data = this.props.record;
                    return (React.createElement("div", null,
                        React.createElement("h2", null, data.name),
                        React.createElement("div", { className: index_css_38.default.element },
                            React.createElement("span", { className: index_css_38.default.label }, "Name"),
                            React.createElement(Form_7.Form.Textbox, { data: data, name: "name", validation: this.validations, className: index_css_38.default.textLong })),
                        React.createElement("div", { className: index_css_38.default.element },
                            React.createElement("span", { className: index_css_38.default.label }, "Code"),
                            React.createElement(Form_7.Form.Textbox, { data: data, name: "code", validation: this.validations })),
                        React.createElement("div", { className: index_css_38.default.element },
                            React.createElement("span", { className: index_css_38.default.label }, "Title"),
                            React.createElement(Form_7.Form.Textbox, { data: data, name: "title", validation: this.validations })),
                        React.createElement("div", { className: index_css_38.default.element },
                            React.createElement("span", { className: index_css_38.default.label }, "Publication date"),
                            React.createElement(Form_7.Form.Datebox, { data: data, name: "publicationDate", placeHolder: "date as dd-mm-yyyy", validation: this.validations })),
                        React.createElement("div", { className: index_css_38.default.element },
                            React.createElement("label", null,
                                React.createElement(Form_7.Form.Checkbox, { data: data, name: "print", validation: this.validations, className: index_css_38.default.checkboxInline }),
                                React.createElement("span", { className: index_css_38.default.labelCheckbox }, "Print"))),
                        React.createElement("div", { className: index_css_38.default.element },
                            React.createElement("span", { className: index_css_38.default.label }, "DOI prefix"),
                            React.createElement(Form_7.Form.Textbox, { data: data, name: "doiPrefix", validation: this.validations })),
                        React.createElement("div", { className: index_css_38.default.element },
                            React.createElement("span", { className: index_css_38.default.label }, "ISSN"),
                            React.createElement(Form_7.Form.Textbox, { data: data, name: "issn", validation: this.validations })),
                        React.createElement("div", null,
                            React.createElement("a", { href: "/admin/journals", className: index_css_38.default.buttonSecondary }, "Cancel"),
                            React.createElement("button", { onClick: this.save, className: index_css_38.default.button }, "Save"))));
                };
                AdminJournalEditPage.prototype.render = function () {
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AdminPage/AdminJournalEditPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_15.Admin, { id: elementId, title: "Journal Details", back: {
                            href: "/admin/journals",
                            title: "Back to journals overview"
                        } }, this.getForm()));
                };
                return AdminJournalEditPage;
            }(BaseComponent));
            exports_109("default", AdminJournalEditPage);
        }
    };
});
System.register("pages/AdminPage/AdminJournalIssueEditPage", ["utils/utils", "components/Form/index", "layouts/dashboards", "components/Form/form"], function (exports_110, context_110) {
    "use strict";
    var utils_28, Form_8, dashboards_16, form_1, AdminJournalIssueEditPage;
    var __moduleName = context_110 && context_110.id;
    return {
        setters: [
            function (utils_28_1) {
                utils_28 = utils_28_1;
            },
            function (Form_8_1) {
                Form_8 = Form_8_1;
            },
            function (dashboards_16_1) {
                dashboards_16 = dashboards_16_1;
            },
            function (form_1_1) {
                form_1 = form_1_1;
            }
        ],
        execute: function () {
            AdminJournalIssueEditPage = (function (_super) {
                __extends(AdminJournalIssueEditPage, _super);
                function AdminJournalIssueEditPage() {
                    var _this = _super !== null && _super.apply(this, arguments) || this;
                    _this.validations = new Form_8.Form.Validations();
                    return _this;
                }
                AdminJournalIssueEditPage.prototype.save = function () {
                    if (this.validate()) {
                        utils_28.callServer("/admin/save/JournalIssue", { data: this.props.record })
                            .then(function (result) {
                            window.location.href = "/admin/journals";
                        })
                            .catch(function (e) {
                            alert("An error occurred while connecting to the server");
                        });
                    }
                };
                AdminJournalIssueEditPage.prototype.validate = function () {
                    this.validations.clear();
                    if (!this.props.record.issueNumber) {
                        this.validations.addValidation("issueNumber", "Field can not be empty");
                    }
                    else if (isNaN(parseInt("" + this.props.record.issueNumber, 10))) {
                        this.validations.addValidation("issueNumber", "Issue number must be a number. Use issue description if you require different formatting");
                    }
                    if (!this.props.record.issueDescription) {
                        this.validations.addValidation("issueDescription", "Field can not be empty");
                    }
                    this.forceUpdate();
                    return this.validations.isValid();
                };
                AdminJournalIssueEditPage.prototype.render = function () {
                    var _this = this;
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AdminPage/AdminJournalIssueEditPage", "default", this.props);
                    }
                    var data = this.props.record;
                    return (React.createElement(dashboards_16.Admin, { id: elementId, title: "Journal Issue Details", back: {
                            href: "/admin/journals",
                            title: "Back to journals overview"
                        } },
                        React.createElement("h2", null,
                            data.volume,
                            " - ",
                            data.issueNumber),
                        React.createElement(form_1.GenericForm, { data: data, validation: this.validations, fields: [
                                ["volume"],
                                ["issueNumber"],
                                ["issueDescription", Form_8.Form.Textbox, "Issue description", "Use this for alternative issue naming, such as combined issues."],
                                ["isbn"],
                                ["isRolling", Form_8.Form.Checkbox, "Is this a rolling issue?"],
                                ["issueDate", Form_8.Form.Datebox, "Issue date", "Note that only the month and year are shown. For rolling issues, only the year is shown."],
                                ["isSupplement", Form_8.Form.Checkbox, "Is this a suppplement issue?"],
                                ["supplementTitle"],
                                ["supplementSubtitle"],
                            ], cancelUrl: "/admin/journals", onSubmit: function () { return _this.save(); } })));
                };
                return AdminJournalIssueEditPage;
            }(React.Component));
            exports_110("default", AdminJournalIssueEditPage);
        }
    };
});
System.register("pages/AdminPage/AdminJournalIssueListPage", ["components/Form/index.css", "components/Table", "layouts/dashboards", "domain/formatting"], function (exports_111, context_111) {
    "use strict";
    var index_css_39, Table_6, dashboards_17, formatting_10, formatYear, AdminJournalIssueListPage;
    var __moduleName = context_111 && context_111.id;
    return {
        setters: [
            function (index_css_39_1) {
                index_css_39 = index_css_39_1;
            },
            function (Table_6_1) {
                Table_6 = Table_6_1;
            },
            function (dashboards_17_1) {
                dashboards_17 = dashboards_17_1;
            },
            function (formatting_10_1) {
                formatting_10 = formatting_10_1;
            }
        ],
        execute: function () {
            formatYear = function (date) {
                if (typeof date === "string") {
                    try {
                        return formatYear(new Date(date));
                    }
                    catch (e) {
                        return "";
                    }
                }
                if (!date) {
                    return "";
                }
                return "" + date.getFullYear();
            };
            AdminJournalIssueListPage = (function (_super) {
                __extends(AdminJournalIssueListPage, _super);
                function AdminJournalIssueListPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                AdminJournalIssueListPage.prototype.render = function () {
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AdminPage/AdminJournalIssueListPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_17.Admin, { id: elementId, title: "Journal Issues - " + (this.props.record.code || "(uncoded)"), back: {
                            href: "/admin/journals",
                            title: "Back to journals overview"
                        } },
                        React.createElement(dashboards_17.Section, { title: "Issues" },
                            React.createElement("a", { className: index_css_39.default.buttonLink, href: "/admin/journals/" + this.props.record.id + "/issue/edit" }, "+ Add issue"),
                            React.createElement(Table_6.Table, { className: index_css_39.default.table, cols: [
                                    ["ID", undefined, undefined],
                                    ["Year", undefined, undefined],
                                    ["Volume", undefined, undefined],
                                    ["Issue number", undefined, undefined],
                                    ["Description", undefined, undefined],
                                    ["Date", undefined, index_css_39.default.tableCellRight],
                                    React.createElement("th", null),
                                    React.createElement("th", null)
                                ], row: function (issue) {
                                    var href = "/admin/journals/" + issue.journal_id + "/issue/" + issue.id + "/edit";
                                    return (React.createElement("tr", { className: index_css_39.default.tableRow, key: issue.id + "_issue" },
                                        React.createElement("td", { className: index_css_39.default.tableCell },
                                            React.createElement("a", { href: href }, issue.id)),
                                        React.createElement("td", null, formatYear(issue.issueDate)),
                                        React.createElement("td", null, issue.volume),
                                        React.createElement("td", { className: index_css_39.default.tableCell },
                                            React.createElement("a", { href: href }, issue.issueNumber)),
                                        React.createElement("td", { className: index_css_39.default.tableCell },
                                            React.createElement("a", { href: href }, issue.issueDescription)),
                                        React.createElement("td", { className: index_css_39.default.tableCellRight },
                                            React.createElement("a", { href: href }, formatting_10.formatDateTime(issue.issueDate))),
                                        React.createElement("td", null,
                                            React.createElement("a", { href: "/admin/journals/" + issue.journal_id + "/articles?issue_id=" + issue.id }, "Articles")),
                                        React.createElement("td", { className: index_css_39.default.tableCell },
                                            React.createElement("a", { href: href }, "Edit"))));
                                }, items: this.props.articles, url: "/admin:journal_article:" + this.props.record.id }))));
                };
                return AdminJournalIssueListPage;
            }(BaseComponent));
            exports_111("default", AdminJournalIssueListPage);
        }
    };
});
System.register("pages/AdminPage/AdminJournalPage", ["components/Table", "components/Form/index.css", "layouts/dashboards", "components/JournalArticleImportForm"], function (exports_112, context_112) {
    "use strict";
    var Table_7, index_css_40, dashboards_18, JournalArticleImportForm_1, ImportXmlPage, AdminJournalPage;
    var __moduleName = context_112 && context_112.id;
    return {
        setters: [
            function (Table_7_1) {
                Table_7 = Table_7_1;
            },
            function (index_css_40_1) {
                index_css_40 = index_css_40_1;
            },
            function (dashboards_18_1) {
                dashboards_18 = dashboards_18_1;
            },
            function (JournalArticleImportForm_1_1) {
                JournalArticleImportForm_1 = JournalArticleImportForm_1_1;
            }
        ],
        execute: function () {
            ImportXmlPage = (function (_super) {
                __extends(ImportXmlPage, _super);
                function ImportXmlPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ImportXmlPage.prototype.render = function () {
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AdminPage/AdminJournalPage", "ImportXmlPage", this.props);
                    }
                    return (React.createElement(dashboards_18.Admin, { id: elementId, title: "Import journal article" },
                        React.createElement(JournalArticleImportForm_1.JournalArticleImportForm, null)));
                };
                return ImportXmlPage;
            }(React.Component));
            exports_112("ImportXmlPage", ImportXmlPage);
            AdminJournalPage = (function (_super) {
                __extends(AdminJournalPage, _super);
                function AdminJournalPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                AdminJournalPage.prototype.render = function () {
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AdminPage/AdminJournalPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_18.Admin, { id: elementId, title: "Journals" },
                        React.createElement(dashboards_18.ActionNav, { links: [
                                { href: "/admin/journals/edit", title: "New Journal" },
                                { href: "/admin/journals/import", title: "Import article XML" }
                            ] }),
                        React.createElement(Table_7.Table, { className: index_css_40.default.table, cols: [
                                ["code", undefined, undefined],
                                ["name", undefined, undefined],
                                React.createElement("th", { colSpan: 3 })
                            ], row: function (journal) { return (React.createElement("tr", { className: index_css_40.default.tableRow, key: journal.id },
                                React.createElement("td", { className: index_css_40.default.tableCell }, journal.code),
                                React.createElement("td", { className: index_css_40.default.tableCell }, journal.name),
                                React.createElement("td", { className: index_css_40.default.tableCell },
                                    React.createElement("a", { href: "/admin/journals/edit/" + journal.id }, "Edit")),
                                React.createElement("td", { className: index_css_40.default.tableCell },
                                    React.createElement("a", { href: "/admin/journals/" + journal.id + "/issues" }, "Issues")),
                                React.createElement("td", { className: index_css_40.default.tableCell },
                                    React.createElement("a", { href: "/admin/journals/" + journal.id + "/articles" }, "Articles")))); }, items: this.props.journals })));
                };
                return AdminJournalPage;
            }(React.Component));
            exports_112("default", AdminJournalPage);
        }
    };
});
System.register("pages/AdminPage/AdminProceedingsArticleDetailsPage", ["components/Logs", "components/Form/index.css", "utils/adminmethods", "layouts/dashboards"], function (exports_113, context_113) {
    "use strict";
    var Logs_2, index_css_41, adminmethods_9, dashboards_19, AdminProceedingsArticleDetailsPage;
    var __moduleName = context_113 && context_113.id;
    return {
        setters: [
            function (Logs_2_1) {
                Logs_2 = Logs_2_1;
            },
            function (index_css_41_1) {
                index_css_41 = index_css_41_1;
            },
            function (adminmethods_9_1) {
                adminmethods_9 = adminmethods_9_1;
            },
            function (dashboards_19_1) {
                dashboards_19 = dashboards_19_1;
            }
        ],
        execute: function () {
            AdminProceedingsArticleDetailsPage = (function (_super) {
                __extends(AdminProceedingsArticleDetailsPage, _super);
                function AdminProceedingsArticleDetailsPage(a, b) {
                    var _this = _super.call(this, a, b) || this;
                    _this.props.data.publicationDate = _this.props.data.publicationDate ? new Date(_this.props.data.publicationDate) : null;
                    return _this;
                }
                AdminProceedingsArticleDetailsPage.prototype.render = function () {
                    var _this = this;
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AdminPage/AdminProceedingsArticleDetailsPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_19.Admin, { id: elementId, title: "Article Details", back: {
                            href: "/admin/proceedings/" + this.props.data.proceedings_id + "/articles",
                            title: "Back to article overview"
                        } },
                        React.createElement("div", null,
                            React.createElement("a", { href: "/admin/proceedings/" + this.props.data.proceedings_id + "/article-edit/" + this.props.data.id, className: index_css_41.default.button }, "Edit this article")),
                        React.createElement(dashboards_19.Section, { title: "Article details" },
                            React.createElement(dashboards_19.Details, null,
                                React.createElement("div", { className: index_css_41.default.element },
                                    React.createElement("span", { className: index_css_41.default.label }, "Title"),
                                    React.createElement("div", null, this.props.data.title)),
                                React.createElement("div", { className: index_css_41.default.element },
                                    React.createElement("span", { className: index_css_41.default.label }, "Status"),
                                    React.createElement("div", null, adminmethods_9.proceedingsArticleStateTranslations[this.props.data.state] || "")),
                                React.createElement("div", { className: index_css_41.default.element },
                                    React.createElement("span", { className: index_css_41.default.label }, "Authors"),
                                    React.createElement("div", null,
                                        React.createElement("ul", { className: index_css_41.default.list }, this.props.authors.map(function (author, index) {
                                            return React.createElement("li", { key: index },
                                                author.firstName + " " + author.lastName,
                                                " ",
                                                author.correspondingAuthor && "*");
                                        })))),
                                React.createElement("div", { className: index_css_41.default.element },
                                    React.createElement("span", { className: index_css_41.default.label }, "Summary"),
                                    React.createElement("div", null, this.props.data.summary)),
                                React.createElement("div", { className: index_css_41.default.element },
                                    React.createElement("span", { className: index_css_41.default.label }, "Keywords"),
                                    React.createElement("div", null, this.props.data.keywords)),
                                React.createElement("div", { className: index_css_41.default.element },
                                    React.createElement("span", { className: index_css_41.default.label }, "Session"),
                                    React.createElement("div", null, this.props.sessions && this.props.sessions.map(function (s) { return s.id === _this.props.data.proceedings_session_id ? s.name : null; }))),
                                this.props.data.file &&
                                    React.createElement("div", { className: index_css_41.default.element },
                                        React.createElement("span", { className: index_css_41.default.label }, "File"),
                                        React.createElement("div", null,
                                            React.createElement("a", { href: "/admin/article-pdf/" + this.props.data.id, className: index_css_41.default.buttonSecondary }, "Download article PDF"))))),
                        React.createElement(dashboards_19.Section, { title: "Article Log" },
                            React.createElement(Logs_2.Logs, { writable: true, articleId: this.props.data.id, logs: this.props.logs }))));
                };
                return AdminProceedingsArticleDetailsPage;
            }(BaseComponent));
            exports_113("default", AdminProceedingsArticleDetailsPage);
        }
    };
});
System.register("pages/AdminPage/AdminProceedingsArticleEditPage", ["utils/utils", "components/ProceedingsArticleForm", "layouts/dashboards"], function (exports_114, context_114) {
    "use strict";
    var utils_29, ProceedingsArticleForm_2, dashboards_20, AdminProceedingsArticleEditPage;
    var __moduleName = context_114 && context_114.id;
    return {
        setters: [
            function (utils_29_1) {
                utils_29 = utils_29_1;
            },
            function (ProceedingsArticleForm_2_1) {
                ProceedingsArticleForm_2 = ProceedingsArticleForm_2_1;
            },
            function (dashboards_20_1) {
                dashboards_20 = dashboards_20_1;
            }
        ],
        execute: function () {
            AdminProceedingsArticleEditPage = (function (_super) {
                __extends(AdminProceedingsArticleEditPage, _super);
                function AdminProceedingsArticleEditPage(a, b) {
                    var _this = _super.call(this, a, b) || this;
                    _this.props.data.publicationDate = _this.props.data.publicationDate ? new Date(_this.props.data.publicationDate) : null;
                    return _this;
                }
                AdminProceedingsArticleEditPage.prototype.submit = function () {
                    var _this = this;
                    utils_29.callServer("/admin/save-article", {
                        data: this.props.data,
                        authors: this.props.authors,
                        uploadedFileName: this.uploadedFileName
                    })
                        .then(function () {
                        _this.goBack();
                    })
                        .catch(function () {
                        alert("An error occurred while connecting to the server");
                    });
                };
                AdminProceedingsArticleEditPage.prototype.onUpload = function (fileName) {
                    this.uploadedFileName = fileName;
                };
                AdminProceedingsArticleEditPage.prototype.goBack = function () {
                    window.location.href = (this.props.data.id
                        ? "/admin/proceedings/" + this.props.data.proceedings_id + "/article/" + this.props.data.id
                        : "/admin/proceedings/" + this.props.data.proceedings_id + "/articles");
                };
                AdminProceedingsArticleEditPage.prototype.render = function () {
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AdminPage/AdminProceedingsArticleEditPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_20.Admin, { id: elementId, title: "Proceedings article", back: {
                            href: "/admin/proceedings/" + this.props.data.proceedings_id + "/articles",
                            title: "Back to article overview"
                        } },
                        React.createElement(ProceedingsArticleForm_2.default, { data: this.props.data, authors: this.props.authors, sessions: this.props.sessions, onSave: this.submit, onCancel: this.goBack, isAdmin: true, onUpload: this.onUpload, pdfUrl: (this.props.data.brandedFile || this.props.data.file) ? "/admin/article-pdf/" + this.props.data.id : null })));
                };
                return AdminProceedingsArticleEditPage;
            }(BaseComponent));
            exports_114("default", AdminProceedingsArticleEditPage);
        }
    };
});
System.register("pages/AdminPage/AdminProceedingsArticleListPage", ["components/Form/index.css", "utils/adminmethods", "components/Table", "components/BulkActionForm", "layouts/dashboards", "domain/formatting"], function (exports_115, context_115) {
    "use strict";
    var index_css_42, adminmethods_10, Table_8, BulkActionForm_2, dashboards_21, formatting_11, AdminProceedingsArticleListPage;
    var __moduleName = context_115 && context_115.id;
    return {
        setters: [
            function (index_css_42_1) {
                index_css_42 = index_css_42_1;
            },
            function (adminmethods_10_1) {
                adminmethods_10 = adminmethods_10_1;
            },
            function (Table_8_1) {
                Table_8 = Table_8_1;
            },
            function (BulkActionForm_2_1) {
                BulkActionForm_2 = BulkActionForm_2_1;
            },
            function (dashboards_21_1) {
                dashboards_21 = dashboards_21_1;
            },
            function (formatting_11_1) {
                formatting_11 = formatting_11_1;
            }
        ],
        execute: function () {
            AdminProceedingsArticleListPage = (function (_super) {
                __extends(AdminProceedingsArticleListPage, _super);
                function AdminProceedingsArticleListPage(a, b) {
                    var _this = _super.call(this, a, b) || this;
                    _this.state = {
                        selectedArticleIds: [],
                    };
                    return _this;
                }
                AdminProceedingsArticleListPage.prototype.render = function () {
                    var _this = this;
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AdminPage/AdminProceedingsArticleListPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_21.Admin, { id: elementId, title: "Proceedings Articles - " + (this.props.record.code || "(uncoded)"), back: {
                            href: "/admin/proceedings/" + this.props.record.id,
                            title: "Back to proceedings details"
                        } },
                        React.createElement(dashboards_21.Section, { title: "Articles" },
                            React.createElement(dashboards_21.ActionNav, { links: [
                                    { href: "/admin/proceedings/" + this.props.record.id + "/article-edit", title: "Add article" },
                                    { href: "/admin/proceedings/" + this.props.record.id + "/bulk", title: "Upload article metadata" },
                                    { href: "/admin/proceedings/" + this.props.record.id + "/upload-bulk", title: "Upload batch of production-ready PDF's" },
                                    { href: "/admin/doi?code=" + this.props.record.code + "&mode=CNKI", title: "Download CNKI XML" },
                                    { href: "/admin/doi?code=" + this.props.record.code, title: "Download DOI XML preview" },
                                    { href: "/admin/doi?code=" + this.props.record.code + "&update=1", title: "Download DOI XML (and update missing)" },
                                ] }),
                            React.createElement(Table_8.Table, { className: index_css_42.default.table, cols: [
                                    React.createElement("th", { className: index_css_42.default.tableColumnCheckbox },
                                        React.createElement("input", { type: "checkbox", onClick: function (e) { return _this.toggleAll(e.currentTarget.checked); } })),
                                    ["ID", "id", undefined],
                                    ["Title", "title", undefined],
                                    ["Session", "session", undefined],
                                    ["Status", "state", undefined],
                                    ["PDF", "file", undefined],
                                    ["Updated", "date", index_css_42.default.tableColumnRight]
                                ], row: function (article) { return (React.createElement("tr", { className: index_css_42.default.tableRow, key: article.id + "_article" },
                                    React.createElement("td", { className: index_css_42.default.tableCell },
                                        React.createElement("input", { type: "checkbox", checked: _this.state.selectedArticleIds.indexOf(article.id) >= 0, onClick: function () { return _this.toggleArticleId(article.id); } })),
                                    React.createElement("td", { className: index_css_42.default.tableCell },
                                        React.createElement("a", { href: "/admin/proceedings/" + article.proceedings_id + "/article/" + article.id }, article.id)),
                                    React.createElement("td", { className: index_css_42.default.tableCell },
                                        React.createElement("a", { href: "/admin/proceedings/" + article.proceedings_id + "/article/" + article.id }, article.title)),
                                    React.createElement("td", null, article.proceedings_session_id && _this.props.sessions.find(function (s) { return s.id === article.proceedings_session_id; }).name),
                                    React.createElement("td", { className: index_css_42.default.tableCell },
                                        React.createElement("a", { href: "/admin/proceedings/" + article.proceedings_id + "/article/" + article.id }, adminmethods_10.proceedingsArticleStateTranslations[article.state])),
                                    React.createElement("td", { className: index_css_42.default.tableCell }, (article.file || article.brandedFile) ?
                                        React.createElement("a", { href: "/account/article-pdf/" + article.id },
                                            "Yes",
                                            article.brandedFile && "*") : "No"),
                                    React.createElement("td", { className: index_css_42.default.tableCellRight },
                                        React.createElement("div", { className: index_css_42.default.tableCellTitleDateWrapper },
                                            React.createElement("a", { href: "/admin/proceedings/" + article.proceedings_id + "/article/" + article.id }, formatting_11.formatDateTime(article.updatedAt)))),
                                    React.createElement("td", { className: index_css_42.default.tableCell },
                                        React.createElement("a", { href: "/admin/proceedings/" + article.proceedings_id + "/article-edit/" + article.id }, "Edit")))); }, items: this.props.articles, url: "/admin:proceedings_article:" + this.props.record.id }),
                            React.createElement(BulkActionForm_2.default, { ids: this.state.selectedArticleIds, updateUrl: "/admin/bulk-update", actions: ["update_session", "update_state", "download_files", "delete"], sessions: this.props.sessions }))));
                };
                AdminProceedingsArticleListPage.prototype.toggleArticleId = function (id) {
                    var newArticleIds = this.state.selectedArticleIds.indexOf(id) >= 0
                        ? this.state.selectedArticleIds.filter(function (otherId) { return otherId !== id; })
                        : __spread(this.state.selectedArticleIds, [id]);
                    this.setState(__assign({}, this.state, { selectedArticleIds: newArticleIds }));
                };
                AdminProceedingsArticleListPage.prototype.toggleAll = function (checked) {
                    if (checked) {
                        this.setState(__assign({}, this.state, { selectedArticleIds: this.props.articles.map(function (a) { return a.id; }) }));
                    }
                    else {
                        this.setState(__assign({}, this.state, { selectedArticleIds: [] }));
                    }
                };
                return AdminProceedingsArticleListPage;
            }(BaseComponent));
            exports_115("default", AdminProceedingsArticleListPage);
        }
    };
});
System.register("pages/AdminPage/AdminProceedingsBulkMetaPage", ["components/Import/ArticleImport", "layouts/dashboards"], function (exports_116, context_116) {
    "use strict";
    var ArticleImport_2, dashboards_22, ProceedingsBulkMetaPage;
    var __moduleName = context_116 && context_116.id;
    return {
        setters: [
            function (ArticleImport_2_1) {
                ArticleImport_2 = ArticleImport_2_1;
            },
            function (dashboards_22_1) {
                dashboards_22 = dashboards_22_1;
            }
        ],
        execute: function () {
            ProceedingsBulkMetaPage = (function (_super) {
                __extends(ProceedingsBulkMetaPage, _super);
                function ProceedingsBulkMetaPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ProceedingsBulkMetaPage.prototype.render = function () {
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AdminPage/AdminProceedingsBulkMetaPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_22.Admin, { id: elementId, title: "Bulk upload article metadata - " + (this.props.record.code || "(uncoded)"), back: { href: "/admin/proceedings/" + this.props.record.id, title: "Back to article overview" } },
                        React.createElement("p", null,
                            "Use ",
                            React.createElement("a", { href: "/admin/proceedings/" + this.props.record.id + "/generate-table/ArticleImport" }, "this template"),
                            " as a basis."),
                        React.createElement(ArticleImport_2.default, { returnUrl: "/admin/proceedings/" + this.props.record.id + "/articles", saveUrl: "/admin/proceedings/" + this.props.record.id + "/save-bulk/ArticleImport" })));
                };
                return ProceedingsBulkMetaPage;
            }(BaseComponent));
            exports_116("default", ProceedingsBulkMetaPage);
        }
    };
});
System.register("pages/AdminPage/AdminProceedingsBulkUploadPage", ["components/BulkUploadForm/index", "layouts/dashboards"], function (exports_117, context_117) {
    "use strict";
    var BulkUploadForm_2, dashboards_23, AdminProceedingsBulkUploadPage;
    var __moduleName = context_117 && context_117.id;
    return {
        setters: [
            function (BulkUploadForm_2_1) {
                BulkUploadForm_2 = BulkUploadForm_2_1;
            },
            function (dashboards_23_1) {
                dashboards_23 = dashboards_23_1;
            }
        ],
        execute: function () {
            AdminProceedingsBulkUploadPage = (function (_super) {
                __extends(AdminProceedingsBulkUploadPage, _super);
                function AdminProceedingsBulkUploadPage(a, b) {
                    return _super.call(this, a, b) || this;
                }
                AdminProceedingsBulkUploadPage.prototype.render = function () {
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AdminPage/AdminProceedingsBulkUploadPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_23.Admin, { id: elementId, title: "Proceedings Branded Bulk Upload - " + (this.props.record.code || "(uncoded)"), back: {
                            href: "/admin/proceedings/" + this.props.record.id + "/articles",
                            title: "Back to article overview"
                        } }, this.props.articles.length === 0
                        ? React.createElement("p", null, "There are currently no articles in Approved state.")
                        : (React.createElement("div", null,
                            React.createElement("p", null, "Use the following form to add branded production PDF's to the articles."),
                            React.createElement(BulkUploadForm_2.default, { mode: "branded", record: this.props.record, articles: this.props.articles })))));
                };
                return AdminProceedingsBulkUploadPage;
            }(BaseComponent));
            exports_117("default", AdminProceedingsBulkUploadPage);
        }
    };
});
System.register("pages/AdminPage/AdminProceedingsDetailsPage", ["components/Form/index.css", "components/Logs", "components/ProceedingsSessionForm", "utils/adminmethods", "layouts/dashboards", "domain/formatting"], function (exports_118, context_118) {
    "use strict";
    var index_css_43, Logs_3, ProceedingsSessionForm_2, adminmethods_11, dashboards_24, formatting_12, AdminProceedingsDetailsPage;
    var __moduleName = context_118 && context_118.id;
    return {
        setters: [
            function (index_css_43_1) {
                index_css_43 = index_css_43_1;
            },
            function (Logs_3_1) {
                Logs_3 = Logs_3_1;
            },
            function (ProceedingsSessionForm_2_1) {
                ProceedingsSessionForm_2 = ProceedingsSessionForm_2_1;
            },
            function (adminmethods_11_1) {
                adminmethods_11 = adminmethods_11_1;
            },
            function (dashboards_24_1) {
                dashboards_24 = dashboards_24_1;
            },
            function (formatting_12_1) {
                formatting_12 = formatting_12_1;
            }
        ],
        execute: function () {
            AdminProceedingsDetailsPage = (function (_super) {
                __extends(AdminProceedingsDetailsPage, _super);
                function AdminProceedingsDetailsPage(a, b) {
                    var _this = _super.call(this, a, b) || this;
                    _this.props.record.conferenceStartDate = _this.props.record.conferenceStartDate ? new Date(_this.props.record.conferenceStartDate) : null;
                    _this.props.record.conferenceEndDate = _this.props.record.conferenceEndDate ? new Date(_this.props.record.conferenceEndDate) : null;
                    _this.props.record.publicationDate = _this.props.record.publicationDate ? new Date(_this.props.record.publicationDate) : null;
                    _this.props.record.closureDate = _this.props.record.closureDate ? new Date(_this.props.record.closureDate) : null;
                    return _this;
                }
                AdminProceedingsDetailsPage.prototype.formatDate = function (date) {
                    return date ? formatting_12.formatDate(date + "") : "-";
                };
                AdminProceedingsDetailsPage.prototype.getLogEntryDescription = function (data) {
                    var e_19, _a;
                    var description = data.description + "";
                    try {
                        for (var _b = __values(Object.keys(adminmethods_11.proceedingsStateTranslations)), _c = _b.next(); !_c.done; _c = _b.next()) {
                            var state = _c.value;
                            description = description.replace("{ProceedingsState." + state + "}", "\"" + adminmethods_11.proceedingsStateTranslations[state] + "\"");
                        }
                    }
                    catch (e_19_1) { e_19 = { error: e_19_1 }; }
                    finally {
                        try {
                            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                        }
                        finally { if (e_19) throw e_19.error; }
                    }
                    return description;
                };
                AdminProceedingsDetailsPage.prototype.render = function () {
                    var e_20, _a, e_21, _b;
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AdminPage/AdminProceedingsDetailsPage", "default", this.props);
                    }
                    var data = this.props.record;
                    var stateOptions = [];
                    try {
                        for (var _c = __values(Object.keys(adminmethods_11.proceedingsStateTranslations)), _d = _c.next(); !_d.done; _d = _c.next()) {
                            var key = _d.value;
                            stateOptions.push({ displayName: adminmethods_11.proceedingsStateTranslations[key], value: key });
                        }
                    }
                    catch (e_20_1) { e_20 = { error: e_20_1 }; }
                    finally {
                        try {
                            if (_d && !_d.done && (_a = _c.return)) _a.call(_c);
                        }
                        finally { if (e_20) throw e_20.error; }
                    }
                    var productionStateOptions = [];
                    try {
                        for (var _e = __values(Object.keys(adminmethods_11.proceedingsProductionStateStateTranslations)), _f = _e.next(); !_f.done; _f = _e.next()) {
                            var key = _f.value;
                            productionStateOptions.push({ displayName: adminmethods_11.proceedingsProductionStateStateTranslations[key], value: key });
                        }
                    }
                    catch (e_21_1) { e_21 = { error: e_21_1 }; }
                    finally {
                        try {
                            if (_f && !_f.done && (_b = _e.return)) _b.call(_e);
                        }
                        finally { if (e_21) throw e_21.error; }
                    }
                    return (React.createElement(dashboards_24.Admin, { id: elementId, title: "Proceedings Details - " + (this.props.record.code || "(uncoded)"), back: {
                            href: "/admin/proceedings",
                            title: "Back to proceedings overview"
                        } },
                        React.createElement(dashboards_24.ActionNav, { links: [
                                { href: "/admin/proceedings/" + this.props.record.id + "/articles", title: "Articles" },
                                { href: "/admin/proceedings-edit/" + data.id, title: "Edit this proceedings" },
                                { href: "/admin/proceedings/" + data.id + "/organizers", title: "Manage organizers" },
                            ] }),
                        React.createElement(dashboards_24.Section, { title: "Details" },
                            React.createElement("div", { className: index_css_43.default.details },
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "Name"),
                                    React.createElement("div", null, data.name)),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "Code"),
                                    React.createElement("div", null, data.code)),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "Assigned to"),
                                    React.createElement("div", null, data.assignee || "None")),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "Status"),
                                    React.createElement("div", null, data.state ? stateOptions.filter(function (e) { return e.value === data.state; }).map(function (e) { return (e.displayName); }) : "-")),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "Production state"),
                                    React.createElement("div", null, data.productionState ? productionStateOptions.filter(function (e) { return e.value === data.productionState; }).map(function (e) { return (e.displayName); }) : "-")),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "Delivery date"),
                                    React.createElement("div", null, this.formatDate(data.closureDate))),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "Send reminder email (automatically send 5 days after closure date)"),
                                    React.createElement("div", null, data.sendReminder ? "yes" : "no")),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "Reminder email sent"),
                                    React.createElement("div", null, data.reminderSent ? "yes" : "no")),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "Send invoice"),
                                    React.createElement("div", null, data.sendInvoice ? "yes" : "no")),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "Invoice sent"),
                                    React.createElement("div", null, data.invoiceSent ? "yes" : "no")),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "Title"),
                                    React.createElement("div", null, data.title)),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "Editors"),
                                    React.createElement("div", null, data.editors)),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "Logo url"),
                                    React.createElement("div", null, data.logoUrl)),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "Series"),
                                    React.createElement("div", null, this.props.series.filter(function (series) { return series.id === data.proceedings_series_id; }).map(function (series) { return series.name; }))),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "Series volume number"),
                                    React.createElement("div", null, data.seriesVolume)),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "Publication date"),
                                    React.createElement("div", null, this.formatDate(data.publicationDate))),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "Conference start date"),
                                    React.createElement("div", null, this.formatDate(data.conferenceStartDate))),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "Conference end date"),
                                    React.createElement("div", null, this.formatDate(data.conferenceEndDate))),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "Conference location"),
                                    React.createElement("div", null, data.conferenceLocation)),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "Conference url"),
                                    React.createElement("div", null, data.conferenceUrl)),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "Print"),
                                    React.createElement("div", null, data.print ? "yes" : "no")),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "Needs plagiarism check"),
                                    React.createElement("div", null, data.plagiarismCheck ? "yes" : "no")),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "Order info"),
                                    React.createElement("div", null, data.orderInfo)),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "DOI prefix"),
                                    React.createElement("div", null, data.doiPrefix)),
                                React.createElement("div", { className: index_css_43.default.item },
                                    React.createElement("span", { className: index_css_43.default.label }, "ISBN"),
                                    React.createElement("div", null, data.isbn)))),
                        React.createElement(ProceedingsSessionForm_2.default, { proceedings: this.props.record, sessions: this.props.sessions, submitUrl: "/admin/save-session", changeOrderUrl: "/admin/save-session-order", deleteUrl: "/admin/delete-session" }),
                        React.createElement(dashboards_24.Section, { title: "Proceedings texts" },
                            React.createElement("div", { className: index_css_43.default.item },
                                React.createElement("span", { className: index_css_43.default.label }, "Preface text"),
                                React.createElement("div", null, data.prefaceText)),
                            React.createElement("div", { className: index_css_43.default.item },
                                React.createElement("span", { className: index_css_43.default.label }, "Welcome text"),
                                React.createElement("div", null, data.welcomeText))),
                        data.proceedings_proposal_id &&
                            React.createElement(dashboards_24.Section, { title: "Original proposal form" },
                                React.createElement("a", { href: "/admin/proceedings-proposal/" + data.proceedings_proposal_id, className: index_css_43.default.buttonLink }, "Proceedings proposal")),
                        React.createElement(dashboards_24.Section, { title: "E-mail" },
                            React.createElement("a", { className: index_css_43.default.buttonLink, href: "/admin/proceedings-email/" + this.props.record.id }, "+ Send e-mail")),
                        React.createElement(dashboards_24.Section, { title: "History" },
                            React.createElement(Logs_3.Logs, { writable: true, proceedingsId: this.props.record.id, logs: this.props.logs }))));
                };
                return AdminProceedingsDetailsPage;
            }(BaseComponent));
            exports_118("default", AdminProceedingsDetailsPage);
        }
    };
});
System.register("pages/AdminPage/AdminProceedingsEditPage", ["utils/utils", "components/Form/index.css", "utils/adminmethods", "components/Form/index", "layouts/dashboards"], function (exports_119, context_119) {
    "use strict";
    var utils_30, index_css_44, adminmethods_12, Form_9, dashboards_25, AdminProceedingsEditPage;
    var __moduleName = context_119 && context_119.id;
    return {
        setters: [
            function (utils_30_1) {
                utils_30 = utils_30_1;
            },
            function (index_css_44_1) {
                index_css_44 = index_css_44_1;
            },
            function (adminmethods_12_1) {
                adminmethods_12 = adminmethods_12_1;
            },
            function (Form_9_1) {
                Form_9 = Form_9_1;
            },
            function (dashboards_25_1) {
                dashboards_25 = dashboards_25_1;
            }
        ],
        execute: function () {
            AdminProceedingsEditPage = (function (_super) {
                __extends(AdminProceedingsEditPage, _super);
                function AdminProceedingsEditPage(a, b) {
                    var _this = _super.call(this, a, b) || this;
                    _this.validations = new Form_9.Form.Validations();
                    _this.props.record.conferenceStartDate = _this.props.record.conferenceStartDate ? new Date(_this.props.record.conferenceStartDate) : null;
                    _this.props.record.conferenceEndDate = _this.props.record.conferenceEndDate ? new Date(_this.props.record.conferenceEndDate) : null;
                    _this.props.record.publicationDate = _this.props.record.publicationDate ? new Date(_this.props.record.publicationDate) : null;
                    _this.props.record.closureDate = _this.props.record.closureDate ? new Date(_this.props.record.closureDate) : null;
                    return _this;
                }
                AdminProceedingsEditPage.prototype.save = function () {
                    if (this.validate()) {
                        utils_30.callServer("/admin/save-proceedings", { data: this.props.record })
                            .then(function (result) {
                            window.location.href = "/admin/proceedings/" + result.id;
                        })
                            .catch(function (e) {
                            alert("An error occurred while connecting to the server");
                        });
                    }
                };
                AdminProceedingsEditPage.prototype.validate = function () {
                    this.validations.clear();
                    if (!this.props.record.name) {
                        this.validations.addValidation("name", "Field can not be empty");
                    }
                    if (!this.props.record.code) {
                        this.validations.addValidation("code", "Field can not be empty");
                    }
                    this.forceUpdate();
                    return this.validations.isValid();
                };
                AdminProceedingsEditPage.prototype.getForm = function () {
                    var e_22, _a, e_23, _b, e_24, _c;
                    var stateOptions = [];
                    try {
                        for (var _d = __values(Object.keys(adminmethods_12.proceedingsStateTranslations)), _e = _d.next(); !_e.done; _e = _d.next()) {
                            var key = _e.value;
                            stateOptions.push({ displayName: adminmethods_12.proceedingsStateTranslations[key], value: key });
                        }
                    }
                    catch (e_22_1) { e_22 = { error: e_22_1 }; }
                    finally {
                        try {
                            if (_e && !_e.done && (_a = _d.return)) _a.call(_d);
                        }
                        finally { if (e_22) throw e_22.error; }
                    }
                    var productionStateOptions = [];
                    try {
                        for (var _f = __values(Object.keys(adminmethods_12.proceedingsProductionStateStateTranslations)), _g = _f.next(); !_g.done; _g = _f.next()) {
                            var key = _g.value;
                            productionStateOptions.push({ displayName: adminmethods_12.proceedingsProductionStateStateTranslations[key], value: key });
                        }
                    }
                    catch (e_23_1) { e_23 = { error: e_23_1 }; }
                    finally {
                        try {
                            if (_g && !_g.done && (_b = _f.return)) _b.call(_f);
                        }
                        finally { if (e_23) throw e_23.error; }
                    }
                    var data = this.props.record;
                    var series = [];
                    try {
                        for (var _h = __values(this.props.series), _j = _h.next(); !_j.done; _j = _h.next()) {
                            var seriesItem = _j.value;
                            series.push({ displayName: seriesItem.name, value: seriesItem.id });
                        }
                    }
                    catch (e_24_1) { e_24 = { error: e_24_1 }; }
                    finally {
                        try {
                            if (_j && !_j.done && (_c = _h.return)) _c.call(_h);
                        }
                        finally { if (e_24) throw e_24.error; }
                    }
                    return (React.createElement("div", null,
                        React.createElement("h2", null, data.name),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("span", { className: index_css_44.default.label }, "Name"),
                            React.createElement(Form_9.Form.Textbox, { data: data, name: "name", validation: this.validations, className: index_css_44.default.textLong })),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("span", { className: index_css_44.default.label }, "Code"),
                            React.createElement(Form_9.Form.Textbox, { data: data, name: "code", validation: this.validations })),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("span", { className: index_css_44.default.label }, "Production team member"),
                            React.createElement(Form_9.Form.Select, { data: data, name: "production_team_auth0_id", options: this.props.users.production_team.map(function (r) { return ({
                                    value: r.user_id,
                                    displayName: r.email
                                }); }), validation: this.validations })),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("span", { className: index_css_44.default.label }, "Organizer account"),
                            React.createElement(Form_9.Form.Select, { data: data, name: "organizer_auth0_id", options: this.props.users.organizers.map(function (r) { return ({
                                    value: r.user_id,
                                    displayName: r.email
                                }); }), validation: this.validations })),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("span", { className: index_css_44.default.label }, "Status"),
                            React.createElement(Form_9.Form.RadioGroup, { data: data, name: "state", options: stateOptions, validation: this.validations, className: index_css_44.default.radioGroup })),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("span", { className: index_css_44.default.label }, "Production state"),
                            React.createElement(Form_9.Form.RadioGroup, { data: data, name: "productionState", options: productionStateOptions, validation: this.validations, className: index_css_44.default.radioGroup })),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("span", { className: index_css_44.default.label }, "Closure date / Expected delivery date"),
                            React.createElement(Form_9.Form.Datebox, { data: data, name: "closureDate", placeHolder: "date as dd-mm-yyyy", validation: this.validations })),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("label", null,
                                React.createElement(Form_9.Form.Checkbox, { data: data, name: "sendReminder", validation: this.validations, className: index_css_44.default.checkboxInline }),
                                React.createElement("span", { className: index_css_44.default.labelCheckbox }, "Send reminder email (automatically send 5 days after closure date)"))),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("label", null,
                                React.createElement(Form_9.Form.Checkbox, { data: data, name: "reminderSent", validation: this.validations, className: index_css_44.default.checkboxInline }),
                                React.createElement("span", { className: index_css_44.default.labelCheckbox }, "Reminder email sent"))),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("label", null,
                                React.createElement(Form_9.Form.Checkbox, { data: data, name: "sendInvoice", validation: this.validations, className: index_css_44.default.checkboxInline }),
                                React.createElement("span", { className: index_css_44.default.labelCheckbox }, "Send invoice"))),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("label", null,
                                React.createElement(Form_9.Form.Checkbox, { data: data, name: "invoiceSent", validation: this.validations, className: index_css_44.default.checkboxInline }),
                                React.createElement("span", { className: index_css_44.default.labelCheckbox }, "Invoice sent"))),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("span", { className: index_css_44.default.label }, "Title"),
                            React.createElement(Form_9.Form.Textbox, { data: data, name: "title", validation: this.validations })),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("span", { className: index_css_44.default.label }, "Editors"),
                            React.createElement(Form_9.Form.Textbox, { data: data, name: "editors", textArea: true, validation: this.validations, className: index_css_44.default.textareaMedium })),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("span", { className: index_css_44.default.label }, "Preface text"),
                            React.createElement(Form_9.Form.Textbox, { data: data, name: "prefaceText", textArea: true, validation: this.validations, className: index_css_44.default.textareaLong })),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("span", { className: index_css_44.default.label }, "Welcome text"),
                            React.createElement(Form_9.Form.Textbox, { data: data, name: "welcomeText", textArea: true, validation: this.validations, className: index_css_44.default.textareaLong })),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("span", { className: index_css_44.default.label }, "Logo url"),
                            React.createElement(Form_9.Form.Textbox, { data: data, name: "logoUrl", validation: this.validations })),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("span", { className: index_css_44.default.label }, "Series"),
                            React.createElement(Form_9.Form.Select, { data: data, name: "proceedings_series_id", options: series, validation: this.validations })),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("span", { className: index_css_44.default.label }, "Series volume number"),
                            React.createElement(Form_9.Form.Numberbox, { data: data, name: "seriesVolume", validation: this.validations })),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("span", { className: index_css_44.default.label }, "Publication date"),
                            React.createElement(Form_9.Form.Datebox, { data: data, name: "publicationDate", placeHolder: "date as dd-mm-yyyy", validation: this.validations })),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("span", { className: index_css_44.default.label }, "Conference start date"),
                            React.createElement(Form_9.Form.Datebox, { data: data, name: "conferenceStartDate", placeHolder: "date as dd-mm-yyyy", validation: this.validations })),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("span", { className: index_css_44.default.label }, "Conference end date"),
                            React.createElement(Form_9.Form.Datebox, { data: data, name: "conferenceEndDate", placeHolder: "date as dd-mm-yyyy", validation: this.validations })),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("span", { className: index_css_44.default.label }, "Conference url"),
                            React.createElement(Form_9.Form.Textbox, { data: data, name: "conferenceUrl", validation: this.validations })),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("span", { className: index_css_44.default.label }, "Conference location"),
                            React.createElement(Form_9.Form.Textbox, { data: data, name: "conferenceLocation", validation: this.validations })),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("label", null,
                                React.createElement(Form_9.Form.Checkbox, { data: data, name: "print", validation: this.validations, className: index_css_44.default.checkboxInline }),
                                React.createElement("span", { className: index_css_44.default.labelCheckbox }, "Print"))),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("label", null,
                                React.createElement(Form_9.Form.Checkbox, { data: data, name: "plagiarismCheck", validation: this.validations, className: index_css_44.default.checkboxInline }),
                                React.createElement("span", { className: index_css_44.default.labelCheckbox }, "Needs plagiarism check"))),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("span", { className: index_css_44.default.label }, "Order info"),
                            React.createElement(Form_9.Form.Textbox, { data: data, name: "orderInfo", textArea: true, validation: this.validations })),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("span", { className: index_css_44.default.label }, "DOI prefix"),
                            React.createElement(Form_9.Form.Textbox, { data: data, name: "doiPrefix", validation: this.validations })),
                        React.createElement("div", { className: index_css_44.default.element },
                            React.createElement("span", { className: index_css_44.default.label }, "isbn"),
                            React.createElement(Form_9.Form.Textbox, { data: data, name: "isbn", validation: this.validations })),
                        React.createElement("div", { className: index_css_44.default.buttonContainer },
                            React.createElement("a", { href: data.id ? "/admin/proceedings/" + data.id : "/admin/proceedings", className: index_css_44.default.buttonSecondary }, "Cancel"),
                            React.createElement("button", { onClick: this.save, className: index_css_44.default.button }, "Save"))));
                };
                AdminProceedingsEditPage.prototype.render = function () {
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AdminPage/AdminProceedingsEditPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_25.Admin, { id: elementId, title: "Proceedings Details - " + (this.props.record && this.props.record.code || "(uncoded)"), back: {
                            href: (this.props.record && this.props.record.id) ? "/admin/proceedings/" + this.props.record.id : "/admin/proceedings/",
                            title: "Back to proceedings overview"
                        } }, this.getForm()));
                };
                return AdminProceedingsEditPage;
            }(BaseComponent));
            exports_119("default", AdminProceedingsEditPage);
        }
    };
});
System.register("pages/AdminPage/AdminProceedingsEmailPage", ["utils/utils", "components/Form/index.css", "components/Form/index", "layouts/dashboards"], function (exports_120, context_120) {
    "use strict";
    var utils_31, index_css_45, Form_10, dashboards_26, AdminProceedingsEmailPage;
    var __moduleName = context_120 && context_120.id;
    return {
        setters: [
            function (utils_31_1) {
                utils_31 = utils_31_1;
            },
            function (index_css_45_1) {
                index_css_45 = index_css_45_1;
            },
            function (Form_10_1) {
                Form_10 = Form_10_1;
            },
            function (dashboards_26_1) {
                dashboards_26 = dashboards_26_1;
            }
        ],
        execute: function () {
            AdminProceedingsEmailPage = (function (_super) {
                __extends(AdminProceedingsEmailPage, _super);
                function AdminProceedingsEmailPage(a, b) {
                    var _this = _super.call(this, a, b) || this;
                    _this.validations = new Form_10.Form.Validations();
                    _this.data = {
                        from: "",
                        to: "",
                        subject: "",
                        message: "",
                        proceedingsId: 0,
                    };
                    _this.data.proceedingsId = _this.props.record.id;
                    return _this;
                }
                AdminProceedingsEmailPage.prototype.send = function () {
                    var _this = this;
                    if (this.validate()) {
                        utils_31.callServer("/admin/send-email", this.data)
                            .then(function (result) {
                            if (result.success) {
                                alert("Email sent");
                                window.location.href = "/admin/proceedings/" + _this.props.record.id;
                            }
                            else {
                                alert("An error occurred while sending the email.");
                            }
                        })
                            .catch(function () {
                            alert("An error occurred while connecting to the server");
                        });
                    }
                };
                AdminProceedingsEmailPage.prototype.validate = function () {
                    this.validations.clear();
                    if (!this.data.message) {
                        this.validations.addValidation("message", "Field can not be empty");
                    }
                    if (!this.data.from || !/\S+@\S+/.test(this.data.from)) {
                        this.validations.addValidation("from", "Invalid email address");
                    }
                    if (!this.data.to || !/\S+@\S+/.test(this.data.to)) {
                        this.validations.addValidation("to", "Invalid email address");
                    }
                    this.forceUpdate();
                    return this.validations.isValid();
                };
                AdminProceedingsEmailPage.prototype.render = function () {
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AdminPage/AdminProceedingsEmailPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_26.Admin, { id: elementId },
                        React.createElement("div", { className: index_css_45.default.element },
                            React.createElement("span", { className: index_css_45.default.label }, "From"),
                            React.createElement(Form_10.Form.Textbox, { data: this.data, name: "from", validation: this.validations })),
                        React.createElement("div", { className: index_css_45.default.element },
                            React.createElement("span", { className: index_css_45.default.label }, "To"),
                            React.createElement(Form_10.Form.Textbox, { data: this.data, name: "to", validation: this.validations })),
                        React.createElement("div", { className: index_css_45.default.element },
                            React.createElement("span", { className: index_css_45.default.label }, "Subject"),
                            React.createElement(Form_10.Form.Textbox, { data: this.data, name: "subject" })),
                        React.createElement("div", { className: index_css_45.default.element },
                            React.createElement("span", { className: index_css_45.default.label }, "Message"),
                            React.createElement(Form_10.Form.Textbox, { textArea: true, data: this.data, name: "message", validation: this.validations })),
                        React.createElement("div", { className: index_css_45.default.element },
                            React.createElement("a", { href: this.props.record.id ? "/admin/proceedings/" + this.props.record.id : "/admin/proceedings", className: index_css_45.default.button }, "Cancel"),
                            React.createElement("button", { className: index_css_45.default.button, onClick: this.send }, "Send"))));
                };
                return AdminProceedingsEmailPage;
            }(BaseComponent));
            exports_120("default", AdminProceedingsEmailPage);
        }
    };
});
System.register("pages/AdminPage/AdminProceedingsOrganizersBulkMetaPage", ["components/Import/OrganizerImport", "layouts/dashboards"], function (exports_121, context_121) {
    "use strict";
    var OrganizerImport_2, dashboards_27, ProceedingsBulkMetaPage;
    var __moduleName = context_121 && context_121.id;
    return {
        setters: [
            function (OrganizerImport_2_1) {
                OrganizerImport_2 = OrganizerImport_2_1;
            },
            function (dashboards_27_1) {
                dashboards_27 = dashboards_27_1;
            }
        ],
        execute: function () {
            ProceedingsBulkMetaPage = (function (_super) {
                __extends(ProceedingsBulkMetaPage, _super);
                function ProceedingsBulkMetaPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ProceedingsBulkMetaPage.prototype.render = function () {
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AdminPage/AdminProceedingsOrganizersBulkMetaPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_27.Admin, { id: elementId, title: "Bulk upload organizers - " + (this.props.record.code || "(uncoded)"), back: {
                            href: "/admin/proceedings/" + this.props.record.id,
                            title: "Back to proceedings"
                        } },
                        React.createElement("p", null,
                            "Use ",
                            React.createElement("a", { href: "/admin/proceedings/" + this.props.record.id + "/generate-table/OrganizerImport" }, "this template"),
                            " as a basis."),
                        React.createElement(OrganizerImport_2.default, { returnUrl: "/admin/proceedings/" + this.props.record.id + "/organizers", saveUrl: "/admin/proceedings/" + this.props.record.id + "/save-bulk/OrganizerImport" })));
                };
                return ProceedingsBulkMetaPage;
            }(BaseComponent));
            exports_121("default", ProceedingsBulkMetaPage);
        }
    };
});
System.register("pages/AdminPage/AdminProceedingsOrganizersPage", ["components/ProceedingsOrganizerForm", "layouts/dashboards"], function (exports_122, context_122) {
    "use strict";
    var ProceedingsOrganizerForm_2, dashboards_28, AdminProceedingsOrganizersPage;
    var __moduleName = context_122 && context_122.id;
    return {
        setters: [
            function (ProceedingsOrganizerForm_2_1) {
                ProceedingsOrganizerForm_2 = ProceedingsOrganizerForm_2_1;
            },
            function (dashboards_28_1) {
                dashboards_28 = dashboards_28_1;
            }
        ],
        execute: function () {
            AdminProceedingsOrganizersPage = (function (_super) {
                __extends(AdminProceedingsOrganizersPage, _super);
                function AdminProceedingsOrganizersPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                AdminProceedingsOrganizersPage.prototype.render = function () {
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AdminPage/AdminProceedingsOrganizersPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_28.Admin, { id: elementId, title: "Proceedings Organizers - " + (this.props.data.code || "(uncoded)"), back: {
                            href: "/admin/proceedings/" + this.props.data.id,
                            title: "Back to proceedings"
                        } },
                        React.createElement(dashboards_28.Section, { title: "Organizers" },
                            React.createElement(dashboards_28.ActionNav, { links: [
                                    { href: "/admin/proceedings/" + this.props.data.id + "/import-organizers", title: "Upload organizer list" },
                                ] }),
                            React.createElement(ProceedingsOrganizerForm_2.default, { proceedings: this.props.data, organizers: this.props.organizers, submitUrl: "/admin/save-organizer", changeOrderUrl: "/admin/save-organizer-order", deleteUrl: "/admin/delete-organizer" }))));
                };
                return AdminProceedingsOrganizersPage;
            }(BaseComponent));
            exports_122("default", AdminProceedingsOrganizersPage);
        }
    };
});
System.register("pages/AdminPage/AdminProceedingsPage", ["components/Form/index.css", "utils/adminmethods", "utils/utils", "components/Table", "components/Form/index", "layouts/dashboards", "domain/formatting"], function (exports_123, context_123) {
    "use strict";
    var index_css_46, adminmethods_13, utils_32, Table_9, Form_11, dashboards_29, formatting_13, AdminProceedingsPage;
    var __moduleName = context_123 && context_123.id;
    return {
        setters: [
            function (index_css_46_1) {
                index_css_46 = index_css_46_1;
            },
            function (adminmethods_13_1) {
                adminmethods_13 = adminmethods_13_1;
            },
            function (utils_32_1) {
                utils_32 = utils_32_1;
            },
            function (Table_9_1) {
                Table_9 = Table_9_1;
            },
            function (Form_11_1) {
                Form_11 = Form_11_1;
            },
            function (dashboards_29_1) {
                dashboards_29 = dashboards_29_1;
            },
            function (formatting_13_1) {
                formatting_13 = formatting_13_1;
            }
        ],
        execute: function () {
            AdminProceedingsPage = (function (_super) {
                __extends(AdminProceedingsPage, _super);
                function AdminProceedingsPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                AdminProceedingsPage.prototype.find = function (e) {
                    e.preventDefault();
                    utils_32.callServer("/admin/search-proceedings", { data: { value: this.searchText } })
                        .then(function (result) {
                        if (result.id) {
                            window.location.href = "/admin/proceedings/" + result.id;
                        }
                    })
                        .catch(function () {
                        alert("An error occurred while connecting to the server");
                    });
                };
                AdminProceedingsPage.prototype.render = function () {
                    var _this = this;
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AdminPage/AdminProceedingsPage", "default", this.props);
                    }
                    var proceedingsList = this.props.proceedings;
                    return (React.createElement(dashboards_29.Admin, { id: elementId, title: "Proceedings" },
                        React.createElement(dashboards_29.ActionNav, { links: [
                                { href: "/admin/new-proceedings", title: "New Proceedings" },
                                { href: "/admin/proceedings-proposal", title: "Proposals" },
                            ] }),
                        React.createElement(dashboards_29.Section, { title: "Proceedings" },
                            React.createElement("form", { className: index_css_46.default.quickSearch },
                                React.createElement("div", { className: index_css_46.default.labelTitle }, "Go to proceedings"),
                                React.createElement(Form_11.Form.Textbox, { data: this, name: "searchText", placeHolder: "Proceedings code" }),
                                React.createElement("button", { onClick: this.find, className: index_css_46.default.button }, "Go")),
                            React.createElement(Table_9.Table, { className: index_css_46.default.table, cols: [
                                    ["Code", "code", undefined],
                                    ["Location", "location", undefined],
                                    ["Status", "state", undefined],
                                    ["Print", "print", undefined],
                                    ["Plagiarism check", "plagiarismCheck", undefined],
                                    ["Assigned to", "assignee", undefined],
                                    ["Delivery date", "closureDate", undefined],
                                    ["Publication date", "publicationDate", undefined],
                                    ["Invoice", "invoiceSent", undefined],
                                    ["Reminder", "reminderSent", undefined],
                                    ["Edit", undefined, undefined],
                                    ["Articles", undefined, undefined],
                                ], row: function (proceedings) { return (React.createElement("tr", { className: index_css_46.default.tableRow, key: proceedings.id },
                                    React.createElement("td", { className: index_css_46.default.tableCell },
                                        React.createElement("a", { href: "/admin/proceedings/" + proceedings.id, title: proceedings.title }, proceedings.code || "(uncoded)")),
                                    React.createElement("td", { className: index_css_46.default.tableCell }, proceedings.conferenceLocation || "-"),
                                    React.createElement("td", { className: index_css_46.default.tableCell }, adminmethods_13.proceedingsStateTranslations[proceedings.state] + (proceedings.productionState ? " (" + adminmethods_13.proceedingsProductionStateStateTranslations[proceedings.productionState] + ")" : "")),
                                    React.createElement("td", { className: index_css_46.default.tableCell }, proceedings.print ? "Yes" : "No"),
                                    React.createElement("td", { className: index_css_46.default.tableCell }, proceedings.plagiarismCheck ? "Yes" : "No"),
                                    React.createElement("td", { className: index_css_46.default.tableCell }, (function () {
                                        var member = _this.props.production_team.find(function (a) { return a.user_id === proceedings.production_team_auth0_id; });
                                        if (member) {
                                            return member.name || member.email;
                                        }
                                        return "";
                                    })()),
                                    React.createElement("td", null, proceedings.closureDate && formatting_13.formatAdminDate(proceedings.closureDate)),
                                    React.createElement("td", null, proceedings.publicationDate && formatting_13.formatAdminDate(proceedings.publicationDate)),
                                    React.createElement("td", { className: index_css_46.default.tableCell }, proceedings.invoiceSent ? "Yes" : "No"),
                                    React.createElement("td", { className: index_css_46.default.tableCell }, proceedings.reminderSent ? "Yes" : "No"),
                                    React.createElement("td", { className: index_css_46.default.tableCell },
                                        React.createElement("a", { href: "/admin/proceedings-edit/" + proceedings.id }, "edit")),
                                    React.createElement("td", { className: index_css_46.default.tableCell },
                                        React.createElement("a", { href: "/admin/proceedings/" + proceedings.id + "/articles" }, "articles")))); }, filters: [
                                    ["Upcoming", "showupcoming"],
                                    ["Files received", "showfilesreceived"],
                                    ["Ready for production", "showproductionready"],
                                    ["Published", "showpublished"],
                                    ["Invoice to be sent", "showinvoice"],
                                    ["Finished", "showfinished"],
                                ], items: proceedingsList, url: "/admin:proceedings" }))));
                };
                return AdminProceedingsPage;
            }(BaseComponent));
            exports_123("default", AdminProceedingsPage);
        }
    };
});
System.register("pages/AdminPage/AdminProceedingsProposalDetailsPage", ["components/Form/index.css", "utils/utils", "utils/adminmethods", "components/Form/index", "layouts/dashboards", "domain/formatting"], function (exports_124, context_124) {
    "use strict";
    var index_css_47, utils_33, adminmethods_14, Form_12, dashboards_30, formatting_14, AdminProceedingsProposalDetailsPage;
    var __moduleName = context_124 && context_124.id;
    return {
        setters: [
            function (index_css_47_1) {
                index_css_47 = index_css_47_1;
            },
            function (utils_33_1) {
                utils_33 = utils_33_1;
            },
            function (adminmethods_14_1) {
                adminmethods_14 = adminmethods_14_1;
            },
            function (Form_12_1) {
                Form_12 = Form_12_1;
            },
            function (dashboards_30_1) {
                dashboards_30 = dashboards_30_1;
            },
            function (formatting_14_1) {
                formatting_14 = formatting_14_1;
            }
        ],
        execute: function () {
            AdminProceedingsProposalDetailsPage = (function (_super) {
                __extends(AdminProceedingsProposalDetailsPage, _super);
                function AdminProceedingsProposalDetailsPage(a, b) {
                    var _this = _super.call(this, a, b) || this;
                    _this.statusEditable = false;
                    return _this;
                }
                AdminProceedingsProposalDetailsPage.prototype.formatDate = function (date) {
                    return date ? formatting_14.formatDate(date + "") : "-";
                };
                AdminProceedingsProposalDetailsPage.prototype.createProceedings = function () {
                    utils_33.callServer("/admin/convert-proceedings-proposal", { data: this.props.record })
                        .then(function (result) {
                        window.location.href = "/admin/proceedings/" + result.proceedingsId;
                    })
                        .catch(function (e) {
                        console.log(e);
                        alert("An error occurred while connecting to the server");
                    });
                };
                AdminProceedingsProposalDetailsPage.prototype.saveState = function () {
                    utils_33.callServer("/admin/save-proceedings-proposal-state", { data: this.props.record })
                        .then(function () {
                        location.reload();
                    })
                        .catch(function (e) {
                        console.log(e);
                        alert("An error occurred while connecting to the server");
                    });
                };
                AdminProceedingsProposalDetailsPage.prototype.renderData = function () {
                    var _this = this;
                    var e_25, _a;
                    var data = this.props.record;
                    var stateOptions = [];
                    var states = adminmethods_14.proceedingsPropposalStateTranslations;
                    try {
                        for (var _b = __values(Object.keys(states)), _c = _b.next(); !_c.done; _c = _b.next()) {
                            var key = _c.value;
                            stateOptions.push({ displayName: states[key], value: key });
                        }
                    }
                    catch (e_25_1) { e_25 = { error: e_25_1 }; }
                    finally {
                        try {
                            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                        }
                        finally { if (e_25) throw e_25.error; }
                    }
                    return (React.createElement("div", null,
                        data.state !== "ARCHIVED" &&
                            React.createElement("div", null,
                                React.createElement("button", { onClick: this.createProceedings, className: index_css_47.default.buttonPrimary }, "Promote proposal to proceedings")),
                        React.createElement("div", { className: index_css_47.default.section },
                            !this.statusEditable &&
                                React.createElement("div", { className: index_css_47.default.element },
                                    React.createElement("label", { className: index_css_47.default.label }, "Status"),
                                    React.createElement("div", null, data.state ? stateOptions.filter(function (e) { return e.value === data.state; }).map(function (e) { return e.displayName; }) : "-"),
                                    React.createElement("a", { onClick: function () {
                                            _this.statusEditable = true;
                                            _this.forceUpdate();
                                        }, href: "#" }, "Change")),
                            this.statusEditable &&
                                React.createElement("div", { className: index_css_47.default.element },
                                    React.createElement("label", { className: index_css_47.default.label }, "Status"),
                                    React.createElement(Form_12.Form.RadioGroup, { data: data, name: "state", options: stateOptions }),
                                    React.createElement("button", { className: index_css_47.default.buttonSecondary, onClick: function () {
                                            _this.statusEditable = false;
                                            _this.forceUpdate();
                                        } }, "Cancel"),
                                    React.createElement("button", { className: index_css_47.default.button, onClick: this.saveState }, "Save status")),
                            React.createElement("h2", { className: index_css_47.default.sectionTitle }, "Your Credentials"),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("label", { className: index_css_47.default.label }, "Full Name"),
                                React.createElement("div", null, data.organizerFullName)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Title"),
                                React.createElement("div", null, data.organizerTitle)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Email address"),
                                React.createElement("div", null, data.organizerEmail)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Affiliation"),
                                React.createElement("div", null, data.organizerAffiliation)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Professional or university address"),
                                React.createElement("div", null, data.organizerAddress)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Phone number corresponding contact"),
                                React.createElement("div", null, data.organizerPhone))),
                        React.createElement("div", { className: index_css_47.default.section },
                            React.createElement("h2", { className: index_css_47.default.sectionTitle }, "Credentials of the person authorised to sign the publishing agreement"),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Full Name"),
                                React.createElement("div", null, data.authorisedFullName)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Title"),
                                React.createElement("div", null, data.authorisedTitle)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Email address"),
                                React.createElement("div", null, data.authorisedEmail)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Affiliation"),
                                React.createElement("div", null, data.authorisedAffiliation)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Professional or university address"),
                                React.createElement("div", null, data.authorisedAddress))),
                        React.createElement("div", { className: index_css_47.default.section },
                            React.createElement("h2", { className: index_css_47.default.sectionTitle }, "Event details"),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Name of the event (in English)"),
                                React.createElement("div", null, data.eventName)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Number of past editions of the proceedings"),
                                React.createElement("div", null, data.editionCount)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Full Name, title, email address (university or professional email required), affiliation and full address of at least three senior person(s) responsible for the review process of the conference (who can be contacted by us)."),
                                React.createElement("div", null, data.previousOrganizers)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Main Organizer (University, Institute or Society)"),
                                React.createElement("div", null, data.mainInstitute)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Other Organizers (if applicable)"),
                                React.createElement("div", null, data.otherInstitutes)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Sponsors (if applicable)"),
                                React.createElement("div", null, data.sponsors)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "City, Country"),
                                React.createElement("div", null, data.venue)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Start date"),
                                React.createElement("div", null, this.formatDate(data.startDate))),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "End date"),
                                React.createElement("div", null, this.formatDate(data.endDate))),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Conference website"),
                                React.createElement("div", null, data.website)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Websites of the past editions (last 3-5 years)"),
                                React.createElement("div", null, data.pastEditionsWebsites)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Web links to the proceedings of the past editions (last 3-5 years)"),
                                React.createElement("div", null, data.pastEditionProceedings)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Indexes: in which indexes have the proceedings of the past editions been indexed?"),
                                React.createElement("div", null, data.pastEditionProceedingsIndexes))),
                        React.createElement("div", { className: index_css_47.default.section },
                            React.createElement("h2", { className: index_css_47.default.sectionTitle }, "Audience"),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "For whom is the conference intended? Please indicate content level:"),
                                React.createElement("div", null, data.audienceType))),
                        React.createElement("div", { className: index_css_47.default.section },
                            React.createElement("h2", { className: index_css_47.default.sectionTitle }, "Editors and review"),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Editor-in-chief contact name"),
                                React.createElement("div", null, data.editorName)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Editor-in-chief e-mail address"),
                                React.createElement("div", null, data.editorEmail)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "For whom is the conference intended? Please indicate content level:"),
                                React.createElement("div", null, data.reviewType),
                                data.reviewType === "Other" && React.createElement("div", null, data.reviewTypeRemark))),
                        React.createElement("div", { className: index_css_47.default.section },
                            React.createElement("h2", { className: index_css_47.default.sectionTitle }, "Paper selection"),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "By how many reviewers will each paper be reviewed?"),
                                React.createElement("div", null, data.paperReviewersCount)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Expected number of paper submissions"),
                                React.createElement("div", null, data.paperSubmissionsCount)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Estimated number of accepted papers"),
                                React.createElement("div", null, data.paperAcceptedCount)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Estimated number of participants of the conference"),
                                React.createElement("div", null, data.participantsCount)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Number of submissions, acceptance rate, estimated number of participants for several past editions"),
                                React.createElement("div", null, data.previousPapersCount))),
                        React.createElement("div", { className: index_css_47.default.section },
                            React.createElement("h2", { className: index_css_47.default.sectionTitle }, "Scope and PC"),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Topics/link to CFP"),
                                React.createElement("div", null, data.topics)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Names and affiliations of people in the organizing and technical committee"),
                                React.createElement("div", null, data.committeeInfo)),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Brief introduction keynote speakers (mandatory) and keynote speeches (if applicable)"),
                                React.createElement("div", null, data.speechesInfo))),
                        React.createElement("div", { className: index_css_47.default.section },
                            React.createElement("h2", { className: index_css_47.default.sectionTitle }, "Print version (optional)"),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Print-ready files"),
                                React.createElement("div", null, data.printProceedings ? "Yes" : "No")),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Printed copies (minimum of 75)"),
                                React.createElement("div", null, data.printProceedingsCount))),
                        React.createElement("div", { className: index_css_47.default.section },
                            React.createElement("h2", { className: index_css_47.default.sectionTitle }, "Plagiarism check (optional)"),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "Do you wish that Atlantis Press carries out a plagiarism screening on your behalf ? In that case, you will also be provided with the test reports. (This service is charged at 1 euro / paper.)"),
                                React.createElement("div", null, data.plagiarismCheck ? "Yes" : "No"))),
                        React.createElement("div", { className: index_css_47.default.section },
                            React.createElement("h2", { className: index_css_47.default.sectionTitle }, "Various"),
                            React.createElement("div", { className: index_css_47.default.element },
                                React.createElement("span", { className: index_css_47.default.label }, "How did you learn of Atlantis Press?"),
                                React.createElement("div", null, data.knowledgeOfAtlantisPress),
                                data.knowledgeOfAtlantisPress && data.knowledgeOfAtlantisPress !== "Advertisement" && data.knowledgeOfAtlantisPress !== "Website" &&
                                    React.createElement("div", null, data.knowledgeOfAtlantisPressRemark)))));
                };
                AdminProceedingsProposalDetailsPage.prototype.render = function () {
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AdminPage/AdminProceedingsProposalDetailsPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_30.Admin, { id: elementId, title: "Proceedings Proposal Details", back: {
                            href: "/admin/proceedings",
                            title: "Back to proceedings overview"
                        } }, this.renderData()));
                };
                return AdminProceedingsProposalDetailsPage;
            }(BaseComponent));
            exports_124("default", AdminProceedingsProposalDetailsPage);
        }
    };
});
System.register("pages/AdminPage/AdminProceedingsProposalListPage", ["components/Form/index.css", "utils/adminmethods", "components/Table", "layouts/dashboards", "domain/formatting"], function (exports_125, context_125) {
    "use strict";
    var index_css_48, adminmethods_15, Table_10, dashboards_31, formatting_15, AdminProceedingsProposalListPage;
    var __moduleName = context_125 && context_125.id;
    return {
        setters: [
            function (index_css_48_1) {
                index_css_48 = index_css_48_1;
            },
            function (adminmethods_15_1) {
                adminmethods_15 = adminmethods_15_1;
            },
            function (Table_10_1) {
                Table_10 = Table_10_1;
            },
            function (dashboards_31_1) {
                dashboards_31 = dashboards_31_1;
            },
            function (formatting_15_1) {
                formatting_15 = formatting_15_1;
            }
        ],
        execute: function () {
            AdminProceedingsProposalListPage = (function (_super) {
                __extends(AdminProceedingsProposalListPage, _super);
                function AdminProceedingsProposalListPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                AdminProceedingsProposalListPage.prototype.render = function () {
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AdminPage/AdminProceedingsProposalListPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_31.Admin, { id: elementId, title: "Proposals", back: {
                            href: "/admin/proceedings",
                            title: "Back to proceedings overview"
                        } },
                        React.createElement(Table_10.Table, { className: index_css_48.default.table, cols: [
                                ["Conference name", "name", undefined],
                                ["Creation date", "date", undefined],
                                ["Organiser name", "organizer", undefined],
                                ["Conference start date", "startDate", undefined],
                                ["Status", "state", undefined],
                            ], row: function (proposal) { return (React.createElement("tr", { className: index_css_48.default.tableRow, key: proposal.id },
                                React.createElement("td", { className: index_css_48.default.tableCell },
                                    React.createElement("a", { href: "/admin/proceedings-proposal/" + proposal.id }, proposal.eventName)),
                                React.createElement("td", { className: index_css_48.default.tableCell }, formatting_15.formatDateTime(proposal.createdAt)),
                                React.createElement("td", { className: index_css_48.default.tableCell }, proposal.organizerFullName),
                                React.createElement("td", { className: index_css_48.default.tableCell }, formatting_15.formatAdminDate(proposal.startDate)),
                                React.createElement("td", { className: index_css_48.default.tableCell }, adminmethods_15.proceedingsPropposalStateTranslations[proposal.state] || "none"))); }, items: this.props.proposals, url: "/admin:proposals" })));
                };
                return AdminProceedingsProposalListPage;
            }(BaseComponent));
            exports_125("default", AdminProceedingsProposalListPage);
        }
    };
});
System.register("pages/AdminPage/AdminUserListPage", ["components/Table", "utils/utils", "components/Form/index.css", "layouts/dashboards"], function (exports_126, context_126) {
    "use strict";
    var Table_11, utils_34, index_css_49, dashboards_32, toggle, AdminUserListPage;
    var __moduleName = context_126 && context_126.id;
    return {
        setters: [
            function (Table_11_1) {
                Table_11 = Table_11_1;
            },
            function (utils_34_1) {
                utils_34 = utils_34_1;
            },
            function (index_css_49_1) {
                index_css_49 = index_css_49_1;
            },
            function (dashboards_32_1) {
                dashboards_32 = dashboards_32_1;
            }
        ],
        execute: function () {
            toggle = function (items, value) { return (items.indexOf(value) >= 0 ? items.filter(function (v) { return v !== value; }) : items.concat([value])); };
            AdminUserListPage = (function (_super) {
                __extends(AdminUserListPage, _super);
                function AdminUserListPage() {
                    var _this = _super !== null && _super.apply(this, arguments) || this;
                    _this.state = {
                        editId: null,
                        editRoles: []
                    };
                    return _this;
                }
                AdminUserListPage.prototype.render = function () {
                    var _this = this;
                    var id;
                    if (typeof window === "undefined") {
                        id = utils_34.registerClientsideComponent("pages/AdminPage/AdminUserListPage", "default", this.props);
                    }
                    return (React.createElement(dashboards_32.Admin, { id: id, title: "Users" },
                        React.createElement(Table_11.Table, { className: index_css_49.default.table, cols: [
                                ["name", undefined, undefined],
                                ["email", undefined, undefined],
                                ["roles", undefined, undefined],
                                this.props.selectableRoles.length && React.createElement("td", null) || null
                            ], row: function (r) { return (React.createElement("tr", { className: index_css_49.default.tableRow },
                                React.createElement("td", { className: index_css_49.default.tableCell }, r.name),
                                React.createElement("td", { className: index_css_49.default.tableCell }, r.email),
                                React.createElement("td", { className: index_css_49.default.tableCell }, _this.state.editId === r.user_id
                                    ? React.createElement("div", null,
                                        _this.props.selectableRoles.map(function (role) { return (React.createElement("label", null,
                                            React.createElement("input", { type: "checkbox", onChange: function () { return _this.setState({ editRoles: toggle(_this.state.editRoles, role) }); }, checked: _this.state.editRoles.indexOf(role) >= 0 }),
                                            " ",
                                            role,
                                            React.createElement("br", null))); }),
                                        React.createElement("button", { onClick: function (e) {
                                                e.preventDefault();
                                                _this.setState({ editId: null, editRoles: [] });
                                            } }, "Cancel"),
                                        React.createElement("button", { onClick: function (e) {
                                                e.preventDefault();
                                                _this.handleSave();
                                            } }, "Save"))
                                    : (r.app_metadata
                                        && r.app_metadata.roles
                                        && r.app_metadata.roles.map(function (role) { return React.createElement("li", null, role); }))),
                                _this.props.selectableRoles.length > 0 &&
                                    React.createElement("td", { className: index_css_49.default.tableCell }, r.email_verified &&
                                        React.createElement("a", { href: "#", onClick: function (e) {
                                                e.preventDefault();
                                                if (_this.state.editId === r.user_id) {
                                                    _this.setState({ editId: null, editRoles: [] });
                                                }
                                                else {
                                                    _this.setState({
                                                        editId: r.user_id,
                                                        editRoles: r.app_metadata && r.app_metadata.roles || []
                                                    });
                                                }
                                            } }, "Edit roles") || "Email not yet verified"))); }, items: this.props.users })));
                };
                AdminUserListPage.prototype.handleSave = function () {
                    utils_34.callServer("/admin/save-user-roles", {
                        id: this.state.editId,
                        roles: this.state.editRoles
                    }).then(function (e) {
                        if (!e.success) {
                            alert(e.error);
                        }
                        else {
                            location.reload();
                        }
                    }).catch(function (e) {
                        alert(e);
                    });
                };
                return AdminUserListPage;
            }(React.Component));
            exports_126("default", AdminUserListPage);
        }
    };
});
System.register("pages/AdminPage/alerts", ["components/Table", "components/Form/index.css", "layouts/dashboards"], function (exports_127, context_127) {
    "use strict";
    var Table_12, index_css_50, dashboards_33, AlertSubscriptionsPage;
    var __moduleName = context_127 && context_127.id;
    return {
        setters: [
            function (Table_12_1) {
                Table_12 = Table_12_1;
            },
            function (index_css_50_1) {
                index_css_50 = index_css_50_1;
            },
            function (dashboards_33_1) {
                dashboards_33 = dashboards_33_1;
            }
        ],
        execute: function () {
            AlertSubscriptionsPage = (function (_super) {
                __extends(AlertSubscriptionsPage, _super);
                function AlertSubscriptionsPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                AlertSubscriptionsPage.prototype.render = function () {
                    return (React.createElement(dashboards_33.Admin, { title: "Alerts" },
                        React.createElement(Table_12.Table, { className: index_css_50.default.table, cols: [
                                ["Code", undefined, undefined],
                                ["Number of alert subscribers", undefined, undefined],
                                React.createElement("td", null)
                            ], row: function (row, k) { return (React.createElement("tr", { className: index_css_50.default.tableRow },
                                React.createElement("td", { className: index_css_50.default.tableCell }, row.topic),
                                React.createElement("td", { className: index_css_50.default.tableCell }, row.numSubscriptions),
                                React.createElement("td", { className: index_css_50.default.tableCell },
                                    React.createElement("a", { href: "/admin/alerts/" + row.topic + "/download" }, "Download XLS")))); }, items: this.props.subscriptions })));
                };
                return AlertSubscriptionsPage;
            }(React.Component));
            exports_127("AlertSubscriptionsPage", AlertSubscriptionsPage);
        }
    };
});
System.register("pages/AdminPage/health", ["layouts/dashboards", "components/Nav", "utils/utils", "components/Table", "components/Form/index.css", "domain/formatting"], function (exports_128, context_128) {
    "use strict";
    var dashboards_34, Nav_10, utils_35, Table_13, index_css_51, formatting_16, HealthPage, LinkCheckerPage;
    var __moduleName = context_128 && context_128.id;
    return {
        setters: [
            function (dashboards_34_1) {
                dashboards_34 = dashboards_34_1;
            },
            function (Nav_10_1) {
                Nav_10 = Nav_10_1;
            },
            function (utils_35_1) {
                utils_35 = utils_35_1;
            },
            function (Table_13_1) {
                Table_13 = Table_13_1;
            },
            function (index_css_51_1) {
                index_css_51 = index_css_51_1;
            },
            function (formatting_16_1) {
                formatting_16 = formatting_16_1;
            }
        ],
        execute: function () {
            HealthPage = (function (_super) {
                __extends(HealthPage, _super);
                function HealthPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                HealthPage.prototype.render = function () {
                    var _a = this.props, redis = _a.redis, mysql = _a.mysql, linkchecker = _a.linkchecker;
                    return (React.createElement(dashboards_34.Admin, { id: utils_35.registerClientsideComponent("pages/AdminPage/health", "HealthPage", this.props) },
                        React.createElement("h1", null, "Health status"),
                        React.createElement("div", null,
                            React.createElement("div", { className: "panel" },
                                React.createElement("div", { className: "panelItem" },
                                    React.createElement("h2", null, "Redis"),
                                    React.createElement("p", null,
                                        "Key count: ",
                                        redis.dbsize),
                                    React.createElement(Nav_10.ToggleBlock, { title: "Redis INFO" },
                                        React.createElement("pre", null, redis.info))),
                                React.createElement("div", { className: "panelItem" },
                                    React.createElement("h2", null, "MySQL"),
                                    React.createElement("p", null,
                                        "Uptime: ",
                                        Math.floor(mysql.uptime / 3600),
                                        " hours")),
                                React.createElement("div", { className: "panelItem" },
                                    React.createElement("h2", null, "Linkchecker"),
                                    React.createElement("p", null,
                                        "Statuses since last run: ",
                                        React.createElement("a", { href: "/admin/health/linkchecker" }, Math.floor(linkchecker.statuses)),
                                        "."))))));
                };
                return HealthPage;
            }(React.Component));
            exports_128("HealthPage", HealthPage);
            LinkCheckerPage = (function (_super) {
                __extends(LinkCheckerPage, _super);
                function LinkCheckerPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                LinkCheckerPage.prototype.render = function () {
                    var _this = this;
                    return (React.createElement(dashboards_34.Admin, { back: { href: "/admin/health", title: "Health" } },
                        React.createElement("h1", null, "Link checker"),
                        this.props.timestamps.start && React.createElement("p", null,
                            "Last check started at ",
                            formatting_16.formatDateTime(this.props.timestamps.start),
                            " and ",
                            this.props.timestamps.stop ? "finished at " + formatting_16.formatDateTime(this.props.timestamps.stop) : "is still running"),
                        React.createElement("p", null,
                            "Total number of links checked: ",
                            this.props.stats.total,
                            ", currently ",
                            this.props.stats.queued,
                            " in queue."),
                        React.createElement("p", null, this.props.timestamps.stop ?
                            React.createElement("a", { href: "/admin/health/linkchecker/download" },
                                "Download error report for ",
                                this.props.stats.error,
                                " errors.")
                            : React.createElement("span", null, "Download not available while linkchecker in progress.")),
                        React.createElement(Table_13.Table, { className: index_css_51.default.table, items: Object.keys(this.props.statuses), cols: [
                                "Referring URLs",
                                "URL",
                                "Status"
                            ], row: function (url) {
                                return _this.props.referers[url].split("\n")
                                    .map(function (v) { return v.replace(/^http:\/\/atlantis-press-.*:8080/g, ""); })
                                    .map(function (referer) { return (React.createElement("tr", { className: index_css_51.default.tableRow },
                                    React.createElement("td", { className: index_css_51.default.tableCell },
                                        React.createElement("a", { href: referer }, referer)),
                                    React.createElement("td", { className: index_css_51.default.tableCell },
                                        React.createElement("a", { href: url }, url)),
                                    React.createElement("td", { className: index_css_51.default.tableCell }, parseInt(_this.props.statuses[url], 10) || "invalid"))); });
                            } })));
                };
                return LinkCheckerPage;
            }(React.Component));
            exports_128("LinkCheckerPage", LinkCheckerPage);
        }
    };
});
System.register("pages/AdminPage/proceedingsSeries", ["components/Form/index", "components/Table", "layouts/dashboards", "components/Form/index.css", "utils/utils"], function (exports_129, context_129) {
    "use strict";
    var Form_13, Table_14, dashboards_35, index_css_52, utils_36, EditForm, EditPage, ListPage;
    var __moduleName = context_129 && context_129.id;
    return {
        setters: [
            function (Form_13_1) {
                Form_13 = Form_13_1;
            },
            function (Table_14_1) {
                Table_14 = Table_14_1;
            },
            function (dashboards_35_1) {
                dashboards_35 = dashboards_35_1;
            },
            function (index_css_52_1) {
                index_css_52 = index_css_52_1;
            },
            function (utils_36_1) {
                utils_36 = utils_36_1;
            }
        ],
        execute: function () {
            EditForm = function (_a) {
                var data = _a.data, onSave = _a.onSave;
                var validations = new Form_13.Form.Validations();
                return (React.createElement("div", null,
                    React.createElement("h2", null,
                        data.name,
                        " (",
                        data.code,
                        ")"),
                    React.createElement("div", { className: index_css_52.default.element },
                        React.createElement("span", { className: index_css_52.default.label }, "Code"),
                        React.createElement(Form_13.Form.Textbox, { data: data, name: "code", validation: validations })),
                    React.createElement("div", { className: index_css_52.default.element },
                        React.createElement("span", { className: index_css_52.default.label }, "Name"),
                        React.createElement(Form_13.Form.Textbox, { data: data, name: "name", validation: validations })),
                    React.createElement("div", { className: index_css_52.default.element },
                        React.createElement("span", { className: index_css_52.default.label }, "ISSN"),
                        React.createElement(Form_13.Form.Textbox, { data: data, name: "issn", validation: validations })),
                    React.createElement("div", { className: index_css_52.default.buttonContainer },
                        React.createElement("a", { href: "/admin/proceedings/series", className: index_css_52.default.buttonSecondary }, "Cancel"),
                        React.createElement("button", { onClick: onSave, className: index_css_52.default.button }, "Save"))));
            };
            EditPage = (function (_super) {
                __extends(EditPage, _super);
                function EditPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                EditPage.prototype.submit = function () {
                    var _this = this;
                    utils_36.callServer("/admin/save/ProceedingsSeries", { data: this.props.data })
                        .then(function () {
                        _this.goBack();
                    })
                        .catch(function () {
                        alert("An error occurred while connecting to the server");
                    });
                };
                EditPage.prototype.goBack = function () {
                    window.location.href = "/admin/proceedings/series";
                };
                EditPage.prototype.render = function () {
                    var _this = this;
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AdminPage/proceedingsSeries", "EditPage", this.props);
                    }
                    return (React.createElement(dashboards_35.Admin, { id: elementId, title: "Proceedings Series", back: {
                            href: "/admin/proceedings/series",
                            title: "Back to proceedings series overview"
                        } },
                        React.createElement(EditForm, { data: this.props.data, onSave: function (e) { e.preventDefault(); _this.submit(); } })));
                };
                return EditPage;
            }(React.Component));
            exports_129("EditPage", EditPage);
            ListPage = (function (_super) {
                __extends(ListPage, _super);
                function ListPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ListPage.prototype.render = function () {
                    var elementId = "";
                    if (typeof window === "undefined") {
                        elementId = globals.registerClientSideComponent("pages/AdminPage/proceedingsSeries", "ListPage", this.props);
                    }
                    return (React.createElement(dashboards_35.Admin, { id: elementId, title: "Proceedings Series" },
                        React.createElement(dashboards_35.ActionNav, { links: [
                                { href: "/admin/proceedings/series/edit", title: "New Series" }
                            ] }),
                        React.createElement(Table_14.Table, { className: index_css_52.default.table, cols: [
                                ["code", undefined, undefined],
                                ["name", undefined, undefined],
                                React.createElement("th", { colSpan: 3 })
                            ], row: function (record) { return (React.createElement("tr", { className: index_css_52.default.tableRow, key: record.id },
                                React.createElement("td", { className: index_css_52.default.tableCell }, record.code),
                                React.createElement("td", { className: index_css_52.default.tableCell }, record.name),
                                React.createElement("td", { className: index_css_52.default.tableCell },
                                    React.createElement("a", { href: "/admin/proceedings/series/edit/" + record.id }, "Edit")))); }, items: this.props.records })));
                };
                return ListPage;
            }(React.Component));
            exports_129("ListPage", ListPage);
        }
    };
});
System.register("pages/AdminPage/report", ["components/Form/index.css", "layouts/dashboards", "components/Import/TableTemplate"], function (exports_130, context_130) {
    "use strict";
    var index_css_53, dashboards_36, TableTemplate_1, ReportTable, ReportPage;
    var __moduleName = context_130 && context_130.id;
    return {
        setters: [
            function (index_css_53_1) {
                index_css_53 = index_css_53_1;
            },
            function (dashboards_36_1) {
                dashboards_36 = dashboards_36_1;
            },
            function (TableTemplate_1_1) {
                TableTemplate_1 = TableTemplate_1_1;
            }
        ],
        execute: function () {
            ReportTable = function (_a) {
                var columns = _a.columns, values = _a.values, name = _a.name;
                return (React.createElement("div", null,
                    React.createElement("p", null,
                        React.createElement("a", { href: "/admin/report/" + name + "/download/xls" }, "Download XLS")),
                    React.createElement(TableTemplate_1.default, { className: index_css_53.default.table, columns: columns, values: values })));
            };
            exports_130("ReportPage", ReportPage = function (_a) {
                var values = _a.values, title = _a.title, name = _a.name, columns = _a.columns;
                return (React.createElement(dashboards_36.Admin, null,
                    title && React.createElement("h1", null, title),
                    values.length === 0 ? React.createElement("p", null, "No records") : React.createElement(ReportTable, { columns: columns, values: values, name: name })));
            });
        }
    };
});
System.register("pages/AdminPage/stats", ["components/Form/index.css", "components/Table", "layouts/dashboards"], function (exports_131, context_131) {
    "use strict";
    var index_css_54, Table_15, dashboards_37, SeriesStatsTable, Stats;
    var __moduleName = context_131 && context_131.id;
    return {
        setters: [
            function (index_css_54_1) {
                index_css_54 = index_css_54_1;
            },
            function (Table_15_1) {
                Table_15 = Table_15_1;
            },
            function (dashboards_37_1) {
                dashboards_37 = dashboards_37_1;
            }
        ],
        execute: function () {
            SeriesStatsTable = function (_a) {
                var stats = _a.stats;
                return (React.createElement(Table_15.Table, { className: index_css_54.default.table, cols: [
                        React.createElement("th", { className: index_css_54.default.tableColumn }, "Acronym"),
                        React.createElement("th", { className: index_css_54.default.tableColumn }, "Journal title"),
                        React.createElement("th", { className: index_css_54.default.tableColumn }, "Total lifetime downloads")
                    ], row: function (stat, k) { return (React.createElement("tr", { className: index_css_54.default.tableRow, key: k },
                        React.createElement("td", { className: index_css_54.default.tableCell }, stat.code.toUpperCase()),
                        React.createElement("td", { className: index_css_54.default.tableCell }, stat.title),
                        React.createElement("td", { className: index_css_54.default.tableCell }, stat.numTotal))); }, items: stats }));
            };
            Stats = (function (_super) {
                __extends(Stats, _super);
                function Stats() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                Stats.prototype.render = function () {
                    return (React.createElement(dashboards_37.Admin, { title: "Stats" },
                        React.createElement(dashboards_37.Section, { title: "Total downloads" },
                            React.createElement("p", null,
                                React.createElement("b", null, this.props.total))),
                        React.createElement(dashboards_37.Section, { title: "Total downloads per journal" },
                            React.createElement(SeriesStatsTable, { stats: this.props.journals })),
                        React.createElement(dashboards_37.Section, { title: "Total downloads per proceedings series" },
                            React.createElement(SeriesStatsTable, { stats: this.props.proceedingsSeries }))));
                };
                return Stats;
            }(React.Component));
            exports_131("default", Stats);
        }
    };
});
System.register("pages/ContactPage/index.css", [], function (exports_132, context_132) {
    "use strict";
    var __moduleName = context_132 && context_132.id;
    return {
        setters: [],
        execute: function () {
            exports_132("default", {
                "officeListTitle": "src-pages-ContactPage-officeListTitle",
                "officeList": "src-pages-ContactPage-officeList",
                "office": "src-pages-ContactPage-office",
                "officeName": "src-pages-ContactPage-officeName",
                "officeDetails": "src-pages-ContactPage-officeDetails"
            });
        }
    };
});
System.register("pages/ContactPage/index", ["layouts/Default", "components/Markdown", "pages/ContactPage/index.css", "components/Content/index"], function (exports_133, context_133) {
    "use strict";
    var Default_18, Markdown_12, index_css_55, Content_15, ContactPage;
    var __moduleName = context_133 && context_133.id;
    return {
        setters: [
            function (Default_18_1) {
                Default_18 = Default_18_1;
            },
            function (Markdown_12_1) {
                Markdown_12 = Markdown_12_1;
            },
            function (index_css_55_1) {
                index_css_55 = index_css_55_1;
            },
            function (Content_15_1) {
                Content_15 = Content_15_1;
            }
        ],
        execute: function () {
            ContactPage = (function (_super) {
                __extends(ContactPage, _super);
                function ContactPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ContactPage.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.content.fields.title,
                            " | ",
                            defaults.title),
                        React.createElement("meta", { name: "description", content: props.content.fields.metaDescription }),
                    ];
                };
                ContactPage.prototype.render = function () {
                    var _a = this.props, content = _a.content, currentPath = _a.currentPath;
                    return (React.createElement(Default_18.default, { currentPath: currentPath },
                        React.createElement(Content_15.ContentWithoutSideBar, { title: React.createElement("h1", null, content.fields.title), content: React.createElement("div", null,
                                React.createElement(Content_15.Intro, { intro: content.fields.intro }),
                                React.createElement(Markdown_12.default, { className: "textContent", source: content.fields.body }),
                                React.createElement("div", { className: index_css_55.default.officeList },
                                    React.createElement("h2", { className: index_css_55.default.officeListTitle }, "Our Offices"),
                                    React.createElement("div", { className: index_css_55.default.officeList }, content.fields.offices && content.fields.offices.map(function (office, i) {
                                        return (React.createElement("address", { key: i, className: index_css_55.default.office },
                                            React.createElement("h1", { className: index_css_55.default.officeName }, office.fields.name),
                                            React.createElement("div", { className: index_css_55.default.officeDetails },
                                                React.createElement(Markdown_12.default, { className: "textContent", source: office.fields.details }))));
                                    })))) })));
                };
                return ContactPage;
            }(React.Component));
            exports_133("default", ContactPage);
        }
    };
});
System.register("pages/HomePage/index.css", [], function (exports_134, context_134) {
    "use strict";
    var __moduleName = context_134 && context_134.id;
    return {
        setters: [],
        execute: function () {
            exports_134("default", {
                "image": "src-pages-HomePage-image",
                "blitzContent": "src-pages-HomePage-blitzContent maxWidth",
                "blitzContentInner": "src-pages-HomePage-blitzContentInner maxWidthInner",
                "blitzText": "src-pages-HomePage-blitzText",
                "title": "src-pages-HomePage-title",
                "subtitle": "src-pages-HomePage-subtitle",
                "intro": "src-pages-HomePage-intro",
                "organisations": "src-pages-HomePage-organisations",
                "organisationsWrapper": "src-pages-HomePage-organisationsWrapper",
                "organisationTitle": "src-pages-HomePage-organisationTitle",
                "organisationList": "src-pages-HomePage-organisationList",
                "organisation": "src-pages-HomePage-organisation",
                "organisationLogo": "src-pages-HomePage-organisationLogo",
                "news": "src-pages-HomePage-news maxWidth",
                "newsInner": "src-pages-HomePage-newsInner maxWidthInner",
                "newsSectionTitle": "src-pages-HomePage-newsSectionTitle",
                "newsListing": "src-pages-HomePage-newsListing",
                "newsItem": "src-pages-HomePage-newsItem",
                "newsLink": "src-pages-HomePage-newsLink",
                "newsLinkArticle": "src-pages-HomePage-newsLinkArticle",
                "newsTitle": "src-pages-HomePage-newsTitle",
                "newsDate": "src-pages-HomePage-newsDate",
                "newsDescription": "src-pages-HomePage-newsDescription",
                "services": "src-pages-HomePage-services",
                "servicesInner": "src-pages-HomePage-servicesInner maxWidthInner",
                "service": "src-pages-HomePage-service",
                "serviceInner": "src-pages-HomePage-serviceInner",
                "serviceTitle": "src-pages-HomePage-serviceTitle",
                "serviceTitleAboveImage": "src-pages-HomePage-serviceTitleAboveImage",
                "serviceTitleAlongsideImage": "src-pages-HomePage-serviceTitleAlongsideImage",
                "serviceText": "src-pages-HomePage-serviceText",
                "serviceImage": "src-pages-HomePage-serviceImage",
                "serviceLink": "src-pages-HomePage-serviceLink"
            });
        }
    };
});
System.register("pages/HomePage/index", ["layouts/Default", "pages/HomePage/index.css", "components/Markdown", "utils/style", "domain/formatting"], function (exports_135, context_135) {
    "use strict";
    var Default_19, index_css_56, Markdown_13, style_6, formatting_17, ServiceItem, HomePage;
    var __moduleName = context_135 && context_135.id;
    return {
        setters: [
            function (Default_19_1) {
                Default_19 = Default_19_1;
            },
            function (index_css_56_1) {
                index_css_56 = index_css_56_1;
            },
            function (Markdown_13_1) {
                Markdown_13 = Markdown_13_1;
            },
            function (style_6_1) {
                style_6 = style_6_1;
            },
            function (formatting_17_1) {
                formatting_17 = formatting_17_1;
            }
        ],
        execute: function () {
            ServiceItem = function (_a) {
                var image = _a.image, title = _a.title, content = _a.content, link = _a.link, linkText = _a.linkText;
                return (React.createElement("article", { className: index_css_56.default.service },
                    React.createElement("div", { className: index_css_56.default.serviceInner },
                        React.createElement("h1", { className: index_css_56.default.serviceTitle + " " + index_css_56.default.serviceTitleAboveImage }, title),
                        image && React.createElement("img", { className: index_css_56.default.serviceImage, src: image.fields.file.url + "?w=500", alt: "" }),
                        React.createElement("h1", { className: index_css_56.default.serviceTitle + " " + index_css_56.default.serviceTitleAlongsideImage }, title),
                        React.createElement("div", { className: style_6.classes(index_css_56.default.serviceText, "textContent") }, content)),
                    React.createElement("a", { className: index_css_56.default.serviceLink, href: link }, linkText)));
            };
            HomePage = (function (_super) {
                __extends(HomePage, _super);
                function HomePage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                HomePage.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.content.fields.title,
                            " | ",
                            props.content.fields.subtitle),
                        React.createElement("meta", { name: "description", content: props.content.fields.metaDescription }),
                    ];
                };
                HomePage.prototype.render = function () {
                    var _a = this.props, content = _a.content, currentPath = _a.currentPath;
                    return (React.createElement(Default_19.default, { currentPath: currentPath, title: "Atlantis Press" },
                        React.createElement("div", { id: "contentPage" },
                            React.createElement("div", { className: index_css_56.default.blitzContent },
                                React.createElement("div", { className: index_css_56.default.blitzContentInner },
                                    React.createElement("div", { className: index_css_56.default.blitzText },
                                        React.createElement("h1", { className: index_css_56.default.title }, content.fields.title),
                                        React.createElement("div", { className: index_css_56.default.intro }, content.fields.intro)),
                                    (content.fields.organisations && content.fields.organisations.length > 1) &&
                                        React.createElement("section", { className: index_css_56.default.organisations },
                                            React.createElement("div", { className: index_css_56.default.organisationsWrapper },
                                                React.createElement("h1", { className: index_css_56.default.organisationTitle }, content.fields.organisationsTitle),
                                                React.createElement("div", { className: index_css_56.default.organisationList }, content.fields.organisations.map(function (organisation) {
                                                    return (React.createElement("div", { className: index_css_56.default.organisation, key: organisation.sys.id },
                                                        React.createElement("img", { className: index_css_56.default.organisationLogo, src: organisation.fields.logo.fields.file.url + "?w=300", title: organisation.fields.name, alt: organisation.fields.name })));
                                                })))))),
                            React.createElement("section", { className: index_css_56.default.news },
                                React.createElement("div", { className: index_css_56.default.newsInner },
                                    React.createElement("div", { className: index_css_56.default.newsListing }, this.props.news.map(function (item) {
                                        var link = "/news/" + item._source.fields.slug;
                                        return (React.createElement("article", { className: index_css_56.default.newsItem, key: item._source.sys.id },
                                            React.createElement("a", { className: index_css_56.default.newsLink, href: link },
                                                React.createElement("h1", { className: index_css_56.default.newsTitle },
                                                    React.createElement("span", null, item._source.fields.title)),
                                                item._source.fields.date &&
                                                    React.createElement("div", { className: index_css_56.default.newsDate }, formatting_17.formatDateLong(item._source.fields.date))),
                                            item._source.fields.description &&
                                                React.createElement("div", { className: index_css_56.default.newsDescription },
                                                    React.createElement(Markdown_13.default, { className: "textContent", source: item._source.fields.description })),
                                            React.createElement("p", { className: "textContent" },
                                                React.createElement("a", { className: index_css_56.default.newsLinkArticle, href: "/news/" + item._source.fields.slug }, "Read full article"))));
                                    })))),
                            React.createElement("section", { className: index_css_56.default.services },
                                React.createElement("div", { className: index_css_56.default.servicesInner },
                                    React.createElement(ServiceItem, { content: content.fields.proceedingsDescription, image: content.fields.proceedingsImage, link: "/proceedings", linkText: "View proceedings", title: "Proceedings" }),
                                    React.createElement(ServiceItem, { content: content.fields.journalsDescription, image: content.fields.journalsImage, link: "/journals", linkText: "View journals", title: "Journals" }),
                                    React.createElement(ServiceItem, { content: content.fields.booksDescription, image: content.fields.bookImage, link: "/books", linkText: "View books", title: "Books" }))))));
                };
                return HomePage;
            }(React.Component));
            exports_135("default", HomePage);
        }
    };
});
System.register("pages/JournalPage/JournalPageArticle", ["pages/JournalPage", "components/article"], function (exports_136, context_136) {
    "use strict";
    var JournalPage_1, article_8, ArticlePage;
    var __moduleName = context_136 && context_136.id;
    return {
        setters: [
            function (JournalPage_1_1) {
                JournalPage_1 = JournalPage_1_1;
            },
            function (article_8_1) {
                article_8 = article_8_1;
            }
        ],
        execute: function () {
            ArticlePage = (function (_super) {
                __extends(ArticlePage, _super);
                function ArticlePage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ArticlePage.head = function (props, defaults) {
                    return article_8.default.getMetaTags(props.article, defaults);
                };
                ArticlePage.prototype.render = function () {
                    var _a = this.props, article = _a.article, revision = _a.revision, journal = _a.journal, issues = _a.issues, currentPath = _a.currentPath;
                    return (React.createElement(JournalPage_1.default, { currentPath: currentPath, tab: "preface", journal: journal, issues: issues, journalContent: this.props.journalContent, article: article },
                        React.createElement(article_8.default, { article: article, revision: revision, metaData: this.props.metaData })));
                };
                return ArticlePage;
            }(React.Component));
            exports_136("default", ArticlePage);
        }
    };
});
System.register("pages/JournalPage/JournalPageArticles", ["pages/JournalPage", "components/Search/index", "components/listings"], function (exports_137, context_137) {
    "use strict";
    var JournalPage_2, Search_2, listings_9, JournalPageArticles;
    var __moduleName = context_137 && context_137.id;
    return {
        setters: [
            function (JournalPage_2_1) {
                JournalPage_2 = JournalPage_2_1;
            },
            function (Search_2_1) {
                Search_2 = Search_2_1;
            },
            function (listings_9_1) {
                listings_9 = listings_9_1;
            }
        ],
        execute: function () {
            JournalPageArticles = (function (_super) {
                __extends(JournalPageArticles, _super);
                function JournalPageArticles() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                JournalPageArticles.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.journalContent.fields.name,
                            " - Articles | ",
                            defaults.title),
                    ];
                };
                JournalPageArticles.prototype.render = function () {
                    var _a = this.props, journal = _a.journal, issues = _a.issues, currentPath = _a.currentPath, formValues = _a.formValues, page = _a.page, mode = _a.mode, articles = _a.articles, title = _a.title;
                    var filterOnlyCurrentJournal = { term: { journal_id: journal.id } };
                    return (React.createElement(JournalPage_2.default, { currentPath: currentPath, tab: "preface", journal: journal, issues: issues, journalContent: this.props.journalContent },
                        React.createElement("div", null,
                            mode === "list" && (React.createElement("div", null,
                                React.createElement("h1", null, title),
                                React.createElement(listings_9.ArticleList, { context: "articles-in-press", articles: articles }))),
                            mode === "search" && React.createElement(Search_2.default, { page: page, searchValues: formValues, itemsPerPage: 50, immutableFilters: [filterOnlyCurrentJournal], showAdvanced: true, baseUrl: "/journals/" + journal.code + "/articles", context: "journals" }))));
                };
                return JournalPageArticles;
            }(React.Component));
            exports_137("default", JournalPageArticles);
        }
    };
});
System.register("pages/JournalPage/JournalPageAuthors", ["pages/JournalPage", "components/listings", "components/Search/Pagination/index", "components/article"], function (exports_138, context_138) {
    "use strict";
    var JournalPage_3, listings_10, Pagination_3, article_9, JournalPageAuthors;
    var __moduleName = context_138 && context_138.id;
    return {
        setters: [
            function (JournalPage_3_1) {
                JournalPage_3 = JournalPage_3_1;
            },
            function (listings_10_1) {
                listings_10 = listings_10_1;
            },
            function (Pagination_3_1) {
                Pagination_3 = Pagination_3_1;
            },
            function (article_9_1) {
                article_9 = article_9_1;
            }
        ],
        execute: function () {
            JournalPageAuthors = (function (_super) {
                __extends(JournalPageAuthors, _super);
                function JournalPageAuthors() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                JournalPageAuthors.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.journalContent.fields.name,
                            " - Authors | ",
                            defaults.title),
                    ];
                };
                JournalPageAuthors.prototype.render = function () {
                    var _a = this.props, journal = _a.journal, issues = _a.issues, authors = _a.authors, page = _a.page, total = _a.total, currentPath = _a.currentPath;
                    return (React.createElement(JournalPage_3.default, { currentPath: currentPath, tab: "preface", journal: journal, issues: issues, journalContent: this.props.journalContent },
                        React.createElement(article_9.Counter, { count: total, what: "authors" }),
                        React.createElement(listings_10.AuthorList, { authors: authors }),
                        React.createElement(Pagination_3.default, { itemsPerPage: 100, totalItems: total, currentPage: page, baseUrl: "/journals/" + journal.code + "/authors" })));
                };
                return JournalPageAuthors;
            }(React.Component));
            exports_138("default", JournalPageAuthors);
        }
    };
});
System.register("pages/JournalPage/JournalPagePreface", ["pages/JournalPage", "components/Markdown", "utils/utils", "components/Tabs/index", "components/Metrics/summary", "components/Series/SeriesHeader", "components/listings", "domain/formatting"], function (exports_139, context_139) {
    "use strict";
    var JournalPage_4, Markdown_14, utils_37, Tabs_3, summary_1, SeriesHeader_3, listings_11, formatting_18, JournalTabs, JournalPagePreface;
    var __moduleName = context_139 && context_139.id;
    return {
        setters: [
            function (JournalPage_4_1) {
                JournalPage_4 = JournalPage_4_1;
            },
            function (Markdown_14_1) {
                Markdown_14 = Markdown_14_1;
            },
            function (utils_37_1) {
                utils_37 = utils_37_1;
            },
            function (Tabs_3_1) {
                Tabs_3 = Tabs_3_1;
            },
            function (summary_1_1) {
                summary_1 = summary_1_1;
            },
            function (SeriesHeader_3_1) {
                SeriesHeader_3 = SeriesHeader_3_1;
            },
            function (listings_11_1) {
                listings_11 = listings_11_1;
            },
            function (formatting_18_1) {
                formatting_18 = formatting_18_1;
            }
        ],
        execute: function () {
            exports_139("JournalTabs", JournalTabs = function (props) {
                var id;
                if (typeof window === "undefined") {
                    id = globals.registerClientSideComponent("pages/JournalPage/JournalPagePreface", "JournalTabs", props);
                }
                var code = props.journalContent.fields.id.toLowerCase();
                return (React.createElement("div", { id: id },
                    React.createElement(Tabs_3.default, { tabs: [
                            "Latest Articles",
                            "Most Downloaded",
                            "Most Cited",
                            "Special Issues",
                        ] },
                        React.createElement(Tabs_3.ConditionalOverride, { override: props.latestArticlesOverride, moreLink: props.latestArticlesOverrideReadMore && React.createElement("a", { href: "/journals/" + code + "/latest-articles" }, "View More Latest Articles") },
                            React.createElement(listings_11.JournalArticleListing, { articles: props.latestArticles.slice(0, 3) }),
                            props.latestArticles.length > 3 && React.createElement("p", { className: "textContent" },
                                React.createElement("a", { href: "/journals/" + props.journalContent.fields.id.toLowerCase() + "/latest-articles" }, "View More Latest Articles"))),
                        React.createElement(Tabs_3.ConditionalOverride, { override: props.mostDownloadedArticlesOverride, moreLink: props.mostDownloadedArticlesOverrideReadMore && React.createElement("a", { href: "/journals/" + code + "/most-downloaded" }, "View More Most Downloaded Articles") },
                            React.createElement(listings_11.JournalArticleListing, { articles: props.mostDownloadedArticles.slice(0, 3) }),
                            props.mostDownloadedArticles.length > 3 && React.createElement("p", { className: "textContent" },
                                React.createElement("a", { href: "/journals/" + code + "/most-downloaded" }, "View More Most Downloaded Articles"))),
                        React.createElement(Tabs_3.ConditionalOverride, { override: props.mostCitedArticlesOverride, moreLink: props.mostCitedArticlesOverrideReadMore && React.createElement("a", { href: "/journals/" + code + "/most-cited" }, "View More Most Cited Articles") }, "/* Not yet used */[n/a]"),
                        React.createElement(Tabs_3.ConditionalOverride, { override: props.specialIssuesOverride, moreLink: props.specialIssuesOverrideReadMore && React.createElement("a", { href: "/journals/" + code + "/special-issues" }, "View More Special Issues") },
                            React.createElement(listings_11.IssueListing, { journal: props.journal, issues: props.specialIssues.slice(0, 3) }),
                            props.specialIssues.length > 3 && React.createElement("p", { className: "textContent" },
                                React.createElement("a", { href: "/journals/" + code + "/special-issues" }, "View More Special Issues"))))));
            });
            JournalPagePreface = (function (_super) {
                __extends(JournalPagePreface, _super);
                function JournalPagePreface() {
                    var _this = _super !== null && _super.apply(this, arguments) || this;
                    _this.jsonLD = function () { return ({
                        "@type": "Periodical",
                        "@id": "#journal",
                        "headline": _this.props.journal.name,
                        "description": _this.props.journalContent.fields.home,
                    }); };
                    return _this;
                }
                JournalPagePreface.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.journalContent.fields.name,
                            " - Preface | ",
                            defaults.title),
                        React.createElement("meta", { name: "description", content: props.journalContent.fields.description }),
                    ];
                };
                JournalPagePreface.prototype.render = function () {
                    var _a = this.props, journal = _a.journal, metrics = _a.metrics, issues = _a.issues, journalContent = _a.journalContent, currentPath = _a.currentPath, latestArticles = _a.latestArticles, mostDownloadedArticles = _a.mostDownloadedArticles, mostCitedArticles = _a.mostCitedArticles, specialIssues = _a.specialIssues;
                    utils_37.collectJsonLD(this.jsonLD());
                    return (React.createElement(JournalPage_4.default, { currentPath: currentPath, tab: "preface", journal: journal, issues: issues, journalContent: journalContent },
                        React.createElement("div", null,
                            React.createElement("div", null,
                                React.createElement(SeriesHeader_3.SeriesHeader, { cover: journalContent.fields.coverImage, content: Markdown_14.renderMarkdown(journalContent.fields.intro), logo: journalContent.fields.institutionLogo, subscriptionTopic: journalContent.fields.id.toUpperCase(), eIssn: journalContent.fields.eIssn, pIssn: journalContent.fields.pIssn, introTitle: "Editor(s)-in-Chief:", introLink: journalContent.fields.editorialBoard && { href: "/journals/" + journal.code + "/editorial-board", text: "View Editorial Board" } })),
                            React.createElement(Markdown_14.default, { className: "textContent", source: journalContent.fields.home }),
                            React.createElement("div", null,
                                React.createElement(JournalTabs, { journal: journal, metrics: metrics, journalContent: journalContent, latestArticles: latestArticles, latestArticlesOverride: Markdown_14.renderMarkdown(journalContent.fields.latestArticlesOverride), latestArticlesOverrideReadMore: journalContent.fields.latestArticlesOverrideReadMore, mostDownloadedArticles: mostDownloadedArticles, mostDownloadedArticlesOverride: Markdown_14.renderMarkdown(journalContent.fields.mostDownloadedOverride), mostDownloadedArticlesOverrideReadMore: journalContent.fields.mostDownloadedOverrideReadMore, mostCitedArticles: mostCitedArticles, mostCitedArticlesOverride: Markdown_14.renderMarkdown(journalContent.fields.mostCitedOverride), mostCitedArticlesOverrideReadMore: journalContent.fields.mostCitedOverrideReadMore, specialIssues: specialIssues, specialIssuesOverride: Markdown_14.renderMarkdown(journalContent.fields.specialIssuesOverride), specialIssuesOverrideReadMore: journalContent.fields.specialIssuesOverrideReadMore })),
                            React.createElement("br", null),
                            React.createElement(summary_1.MetricsSummary, { title: "Journal Metrics", metrics: [
                                    { value: journalContent.fields.impactFactor, title: "Impact Factor", url: journalContent.fields.impactFactorUrl },
                                    { value: journalContent.fields.citeScore, title: "CiteScore", url: journalContent.fields.citeScoreUrl },
                                    { value: journalContent.fields.fwci, title: "FWCI", url: journalContent.fields.fwciUrl },
                                    { value: journalContent.fields.snip, title: "SNIP", url: journalContent.fields.snipUrl },
                                    { value: formatting_18.formatNumber(metrics.totalDownloads + (parseInt(journalContent.fields.totalDownloads, 10) || 0)), title: "Total Downloads", url: journalContent.fields.downloadsUrl },
                                    { value: journalContent.fields.publicationSpeed, title: "Avg. Publication Speed", url: journalContent.fields.publicationSpeedUrl },
                                    { value: journalContent.fields.sjr, title: "SJR", url: journalContent.fields.sjrUrl },
                                    { value: journalContent.fields.citations, title: "Total Citations", url: journalContent.fields.citationsUrl },
                                    { value: journalContent.fields.acceptanceRate, title: "Acceptance Rate", url: journalContent.fields.acceptanceRateUrl },
                                ] }))));
                };
                return JournalPagePreface;
            }(React.Component));
            exports_139("default", JournalPagePreface);
        }
    };
});
System.register("pages/JournalPage/JournalPageSpecialIssues", ["pages/JournalPage", "components/listings"], function (exports_140, context_140) {
    "use strict";
    var JournalPage_5, listings_12, JournalPageSpecialIssues;
    var __moduleName = context_140 && context_140.id;
    return {
        setters: [
            function (JournalPage_5_1) {
                JournalPage_5 = JournalPage_5_1;
            },
            function (listings_12_1) {
                listings_12 = listings_12_1;
            }
        ],
        execute: function () {
            JournalPageSpecialIssues = (function (_super) {
                __extends(JournalPageSpecialIssues, _super);
                function JournalPageSpecialIssues() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                JournalPageSpecialIssues.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.journalContent.fields.name,
                            " - Special issues | ",
                            defaults.title),
                        React.createElement("meta", { name: "description", content: props.journalContent.fields.description }),
                    ];
                };
                JournalPageSpecialIssues.prototype.render = function () {
                    var _a = this.props, journal = _a.journal, issues = _a.issues, specialIssues = _a.specialIssues, currentPath = _a.currentPath;
                    return (React.createElement(JournalPage_5.default, { currentPath: currentPath, tab: "specialissues", journal: journal, issues: issues, journalContent: this.props.journalContent },
                        React.createElement("div", null,
                            React.createElement("h1", null, "Special Issues"),
                            React.createElement(listings_12.IssueListing, { journal: journal, issues: specialIssues }))));
                };
                return JournalPageSpecialIssues;
            }(React.Component));
            exports_140("default", JournalPageSpecialIssues);
        }
    };
});
System.register("pages/JournalPage/JournalPageText", ["pages/JournalPage", "components/Markdown", "utils/utils", "components/listings.css"], function (exports_141, context_141) {
    "use strict";
    var JournalPage_6, Markdown_15, utils_38, listings_css_4, JournalPageText;
    var __moduleName = context_141 && context_141.id;
    return {
        setters: [
            function (JournalPage_6_1) {
                JournalPage_6 = JournalPage_6_1;
            },
            function (Markdown_15_1) {
                Markdown_15 = Markdown_15_1;
            },
            function (utils_38_1) {
                utils_38 = utils_38_1;
            },
            function (listings_css_4_1) {
                listings_css_4 = listings_css_4_1;
            }
        ],
        execute: function () {
            JournalPageText = (function (_super) {
                __extends(JournalPageText, _super);
                function JournalPageText() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                JournalPageText.head = function (props, defaults) {
                    var subPageContentField = utils_38.hyphensToCamelCase(props.subPageSlug);
                    return [
                        React.createElement("title", null,
                            props.journalContent.fields.name,
                            " - ",
                            props.subPageSlug.replace("-", " "),
                            " | ",
                            defaults.title,
                            " "),
                        React.createElement("meta", { name: "description", content: utils_38.truncateText(props.journalContent.fields[subPageContentField], 350, "...") }),
                    ];
                };
                JournalPageText.prototype.render = function () {
                    var _a = this.props, journal = _a.journal, issues = _a.issues, journalContent = _a.journalContent, subPageSlug = _a.subPageSlug, currentPath = _a.currentPath;
                    var field = utils_38.hyphensToCamelCase(subPageSlug);
                    var className = "textContent";
                    if (["mostDownloaded", "latestArticles", "specialIssues", "mostCited"].indexOf(field) >= 0) {
                        field += "OverrideReadMore";
                        className += " " + listings_css_4.default.overrideContent;
                    }
                    if (subPageSlug === "news") {
                        className += " " + listings_css_4.default.fauxList;
                    }
                    var source = journalContent.fields[field];
                    if (subPageSlug === "articles-in-press") {
                        source = "There are currently no articles in press for this journal.";
                    }
                    return (React.createElement(JournalPage_6.default, { currentPath: currentPath, tab: "preface", journal: journal, issues: issues, journalContent: this.props.journalContent },
                        React.createElement(Markdown_15.default, { className: className, source: source })));
                };
                return JournalPageText;
            }(React.Component));
            exports_141("default", JournalPageText);
        }
    };
});
System.register("pages/JournalPage/JournalPageIssue/index.css", [], function (exports_142, context_142) {
    "use strict";
    var __moduleName = context_142 && context_142.id;
    return {
        setters: [],
        execute: function () {
            exports_142("default", {
                "issue": "src-pages-JournalPage-JournalPageIssue-issue",
                "foreword": "src-pages-JournalPage-JournalPageIssue-foreword",
                "detailLink": "src-pages-JournalPage-JournalPageIssue-detailLink",
                "downloadLink": "src-pages-JournalPage-JournalPageIssue-downloadLink"
            });
        }
    };
});
System.register("pages/JournalPage/JournalPageIssue/index", ["pages/JournalPage", "pages/JournalPage/JournalPageIssue/index.css", "components/listings", "utils/utils", "domain/formatting"], function (exports_143, context_143) {
    "use strict";
    var JournalPage_7, index_css_57, listings_13, utils_39, formatting_19, JournalPageIssue;
    var __moduleName = context_143 && context_143.id;
    function isSupplement(issue) {
        return issue.isSupplement;
    }
    return {
        setters: [
            function (JournalPage_7_1) {
                JournalPage_7 = JournalPage_7_1;
            },
            function (index_css_57_1) {
                index_css_57 = index_css_57_1;
            },
            function (listings_13_1) {
                listings_13 = listings_13_1;
            },
            function (utils_39_1) {
                utils_39 = utils_39_1;
            },
            function (formatting_19_1) {
                formatting_19 = formatting_19_1;
            }
        ],
        execute: function () {
            JournalPageIssue = (function (_super) {
                __extends(JournalPageIssue, _super);
                function JournalPageIssue() {
                    var _this = _super !== null && _super.apply(this, arguments) || this;
                    _this.jsonLD = function () { return ({
                        "@type": "PublicationIssue",
                        "@id": "#issue",
                        "issueNumber": _this.props.issue.issueNumber,
                        "isPartOf": {
                            "@type": "PublicationVolume",
                            "volumeNumber": _this.props.issue.volume,
                            "isPartOf": {
                                "@id": "/journals/" + _this.props.journal.code.toLowerCase() + "#journal",
                                "url": "/journals/" + _this.props.journal.code.toLowerCase(),
                            },
                        },
                        "hasPart": _this.filterArticles(_this.props.articles).map(function (a, i) { return ({
                            "@id": "/journal/" + _this.props.journal.code.toLowerCase() + "/" + a.id + "#article",
                            "url": "/journal/" + _this.props.journal.code.toLowerCase() + "/" + a.id,
                        }); }),
                    }); };
                    return _this;
                }
                JournalPageIssue.prototype.filterForewords = function (articles) {
                    return articles.filter(function (article) {
                        return article.articletype === "Foreword" || article.articletype === "foreword";
                    });
                };
                JournalPageIssue.prototype.filterAcknowledgements = function (articles) {
                    return articles.filter(function (article) { return article.articletype === "lastpages"; });
                };
                JournalPageIssue.prototype.filterArticles = function (articles) {
                    return articles.filter(function (article) {
                        return article.articletype !== "lastpages" &&
                            article.articletype !== "Foreword" &&
                            article.articletype !== "foreword";
                    });
                };
                JournalPageIssue.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.journalContent.fields.name,
                            " - volume ",
                            props.issue.volume,
                            ", issue ",
                            props.issue.volume,
                            ", ",
                            props.issue.volume,
                            " | ",
                            defaults.title),
                    ];
                };
                JournalPageIssue.prototype.render = function () {
                    var _a = this.props, journal = _a.journal, issue = _a.issue, articles = _a.articles, issues = _a.issues, currentPath = _a.currentPath;
                    utils_39.collectJsonLD(this.jsonLD());
                    return (React.createElement(JournalPage_7.default, { currentPath: currentPath, tab: "preface", journal: journal, issues: issues, journalContent: this.props.journalContent },
                        React.createElement("div", null,
                            React.createElement("div", { className: index_css_57.default.issue },
                                "Volume ",
                                issue.volume,
                                ", Issue ",
                                issue.issueDescription || issue.issueNumber,
                                ", ",
                                formatting_19.formatIssuePublicationDate(issue, "textual")),
                            isSupplement(issue) &&
                                React.createElement("div", null,
                                    React.createElement("h3", null, issue.supplementTitle),
                                    React.createElement("p", null, issue.supplementSubtitle)),
                            this.filterForewords(articles).map(function (article) { return (React.createElement("div", { className: index_css_57.default.foreword },
                                React.createElement("div", null, article.title),
                                React.createElement("div", null,
                                    React.createElement("a", { href: "http://atlantis-press.com/php/download_paper.php?id=" + article.id, className: index_css_57.default.downloadLink }, "download PDF")))); }),
                            React.createElement(listings_13.ArticleList, { articles: this.filterArticles(articles), context: "journals", showNumbering: true }),
                            this.filterAcknowledgements(articles).map(function (article) { return (React.createElement("div", { className: index_css_57.default.foreword },
                                React.createElement("div", null, article.title),
                                React.createElement("div", null,
                                    React.createElement("a", { href: "http://atlantis-press.com/php/download_paper.php?id=" + article.id, className: index_css_57.default.downloadLink }, "download PDF")))); }))));
                };
                return JournalPageIssue;
            }(React.Component));
            exports_143("default", JournalPageIssue);
        }
    };
});
System.register("pages/News/News", ["layouts/Default", "components/Markdown", "components/listings.css", "components/Content/index", "domain/formatting"], function (exports_144, context_144) {
    "use strict";
    var Default_20, Markdown_16, listings_css_5, Content_16, formatting_20, NewsPage;
    var __moduleName = context_144 && context_144.id;
    return {
        setters: [
            function (Default_20_1) {
                Default_20 = Default_20_1;
            },
            function (Markdown_16_1) {
                Markdown_16 = Markdown_16_1;
            },
            function (listings_css_5_1) {
                listings_css_5 = listings_css_5_1;
            },
            function (Content_16_1) {
                Content_16 = Content_16_1;
            },
            function (formatting_20_1) {
                formatting_20 = formatting_20_1;
            }
        ],
        execute: function () {
            NewsPage = (function (_super) {
                __extends(NewsPage, _super);
                function NewsPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                NewsPage.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.newsItem.fields.title,
                            " | ",
                            defaults.title),
                        props.newsItem.fields.metaDescription &&
                            React.createElement("meta", { name: "description", content: props.newsItem.fields.metaDescription }),
                    ];
                };
                NewsPage.prototype.render = function () {
                    var _a = this.props, newsItem = _a.newsItem, currentPath = _a.currentPath;
                    return (React.createElement(Default_20.default, { currentPath: currentPath, title: "News" },
                        React.createElement(Content_16.ContentWithoutSideBar, { title: React.createElement("h1", null, newsItem.fields.title), content: React.createElement("div", null,
                                React.createElement("p", { className: listings_css_5.default.metaline }, formatting_20.formatDateLong(newsItem.fields.date)),
                                React.createElement(Markdown_16.default, { className: "textContent", source: newsItem.fields.body })) })));
                };
                return NewsPage;
            }(React.Component));
            exports_144("default", NewsPage);
        }
    };
});
System.register("pages/News/NewsArchivePage", ["layouts/Default", "components/Search/Pagination/index", "components/Content/index", "components/listings", "domain/formatting"], function (exports_145, context_145) {
    "use strict";
    var Default_21, Pagination_4, Content_17, listings_14, formatting_21, NewsArchivePage;
    var __moduleName = context_145 && context_145.id;
    return {
        setters: [
            function (Default_21_1) {
                Default_21 = Default_21_1;
            },
            function (Pagination_4_1) {
                Pagination_4 = Pagination_4_1;
            },
            function (Content_17_1) {
                Content_17 = Content_17_1;
            },
            function (listings_14_1) {
                listings_14 = listings_14_1;
            },
            function (formatting_21_1) {
                formatting_21 = formatting_21_1;
            }
        ],
        execute: function () {
            NewsArchivePage = (function (_super) {
                __extends(NewsArchivePage, _super);
                function NewsArchivePage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                NewsArchivePage.head = function (props, defaults) {
                    return [
                        React.createElement("title", null, "News Archive | Atlantis Press"),
                    ];
                };
                NewsArchivePage.prototype.render = function () {
                    var _a = this.props, items = _a.items, currentPath = _a.currentPath, currentPage = _a.currentPage, itemsPerPage = _a.itemsPerPage, totalItems = _a.totalItems;
                    return (React.createElement(Default_21.default, { currentPath: currentPath },
                        React.createElement(Content_17.ContentWithoutSideBar, { title: React.createElement("h1", null, "News Archive"), content: __spread(items.map(function (item, i) { return (React.createElement(listings_14.NewsListItem, { url: "/news/" + item.fields.slug, dateline: formatting_21.formatDateLong(item.fields.date), title: item.fields.title, intro: item.fields.description })); }), [
                                React.createElement(Pagination_4.default, { currentPage: currentPage, itemsPerPage: itemsPerPage, totalItems: totalItems, baseUrl: "/news/archive" })
                            ]) })));
                };
                return NewsArchivePage;
            }(React.Component));
            exports_145("default", NewsArchivePage);
        }
    };
});
System.register("pages/News/NewsListPage", ["layouts/Default", "components/Form/index.css", "components/SocialLinks/index", "components/Content/index", "components/listings", "domain/formatting"], function (exports_146, context_146) {
    "use strict";
    var Default_22, index_css_58, SocialLinks_2, Content_18, listings_15, formatting_22, NewsListPage;
    var __moduleName = context_146 && context_146.id;
    return {
        setters: [
            function (Default_22_1) {
                Default_22 = Default_22_1;
            },
            function (index_css_58_1) {
                index_css_58 = index_css_58_1;
            },
            function (SocialLinks_2_1) {
                SocialLinks_2 = SocialLinks_2_1;
            },
            function (Content_18_1) {
                Content_18 = Content_18_1;
            },
            function (listings_15_1) {
                listings_15 = listings_15_1;
            },
            function (formatting_22_1) {
                formatting_22 = formatting_22_1;
            }
        ],
        execute: function () {
            NewsListPage = (function (_super) {
                __extends(NewsListPage, _super);
                function NewsListPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                NewsListPage.head = function (props, defaults) {
                    return [
                        React.createElement("title", null, "News | Atlantis Press"),
                    ];
                };
                NewsListPage.prototype.render = function () {
                    var _a = this.props, news = _a.news, currentPath = _a.currentPath;
                    return (React.createElement(Default_22.default, { currentPath: currentPath },
                        React.createElement(Content_18.ContentWithoutSideBar, { title: React.createElement("h1", null, "News"), content: __spread([
                                React.createElement(SocialLinks_2.Follow, null)
                            ], news.map(function (item) { return (React.createElement(listings_15.NewsListItem, { url: "/news/" + item.fields.slug, dateline: formatting_22.formatDateLong(item.fields.date), title: item.fields.title, intro: item.fields.description })); }), [
                                React.createElement("p", null,
                                    React.createElement("a", { className: index_css_58.default.buttonPrimary, href: "/news/archive" }, "News archive"))
                            ]) })));
                };
                return NewsListPage;
            }(React.Component));
            exports_146("default", NewsListPage);
        }
    };
});
System.register("pages/PaymentPage/New", ["layouts/Default", "components/Markdown", "components/PaymentForm", "components/Content/index"], function (exports_147, context_147) {
    "use strict";
    var Default_23, Markdown_17, PaymentForm_1, Content_19, PaymentPageAPC;
    var __moduleName = context_147 && context_147.id;
    return {
        setters: [
            function (Default_23_1) {
                Default_23 = Default_23_1;
            },
            function (Markdown_17_1) {
                Markdown_17 = Markdown_17_1;
            },
            function (PaymentForm_1_1) {
                PaymentForm_1 = PaymentForm_1_1;
            },
            function (Content_19_1) {
                Content_19 = Content_19_1;
            }
        ],
        execute: function () {
            PaymentPageAPC = (function (_super) {
                __extends(PaymentPageAPC, _super);
                function PaymentPageAPC() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                PaymentPageAPC.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.content.fields.title,
                            " | ",
                            defaults.title),
                        props.content.fields.metaDescription &&
                            React.createElement("meta", { name: "description", content: props.content.fields.metaDescription }),
                    ];
                };
                PaymentPageAPC.prototype.render = function () {
                    var _a = this.props, content = _a.content, currentPath = _a.currentPath;
                    return (React.createElement(Default_23.default, { currentPath: currentPath },
                        React.createElement(Content_19.ContentWithoutSideBar, { title: React.createElement("h1", null, content.fields.title), content: React.createElement("div", null,
                                React.createElement(Content_19.Intro, { intro: content.fields.intro }),
                                React.createElement(Markdown_17.default, { className: "textContent", source: content.fields.body }),
                                React.createElement(PaymentForm_1.default, null)) })));
                };
                return PaymentPageAPC;
            }(React.Component));
            exports_147("default", PaymentPageAPC);
        }
    };
});
System.register("pages/PaymentPage/index", ["layouts/Default", "components/Markdown", "pages/PaymentPage/index.css"], function (exports_148, context_148) {
    "use strict";
    var Default_24, Markdown_18, index_css_59, PaymentPage;
    var __moduleName = context_148 && context_148.id;
    return {
        setters: [
            function (Default_24_1) {
                Default_24 = Default_24_1;
            },
            function (Markdown_18_1) {
                Markdown_18 = Markdown_18_1;
            },
            function (index_css_59_1) {
                index_css_59 = index_css_59_1;
            }
        ],
        execute: function () {
            PaymentPage = (function (_super) {
                __extends(PaymentPage, _super);
                function PaymentPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                PaymentPage.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.content.fields.title,
                            " | ",
                            defaults.title),
                        props.content.fields.metaDescription &&
                            React.createElement("meta", { name: "description", content: props.content.fields.metaDescription }),
                    ];
                };
                PaymentPage.prototype.render = function () {
                    var _a = this.props, content = _a.content, currentPath = _a.currentPath;
                    return (React.createElement(Default_24.default, { currentPath: currentPath },
                        React.createElement("div", { id: "contentPage", className: index_css_59.default.container },
                            React.createElement("div", { className: index_css_59.default.content },
                                React.createElement("h1", null, content.fields.title),
                                content.fields.intro && React.createElement("div", { className: index_css_59.default.intro }, content.fields.intro),
                                React.createElement(Markdown_18.default, { className: "textContent", source: content.fields.body }),
                                React.createElement("div", { className: index_css_59.default.paymentContainer },
                                    React.createElement("form", { action: "https://www.paypal.com/cgi-bin/webscr", method: "post", target: "_self" },
                                        React.createElement("input", { type: "hidden", name: "cmd", value: "_s-xclick" }),
                                        React.createElement("input", { type: "hidden", name: "hosted_button_id", value: "56YP24SDB6LRW" }),
                                        React.createElement("div", null,
                                            React.createElement("input", { type: "hidden", name: "on0", value: "IJCIS article fee" }),
                                            React.createElement("label", { className: index_css_59.default.label }, "IJCIS article fee"),
                                            React.createElement("select", { className: index_css_59.default.select, name: "os0" },
                                                React.createElement("option", { value: "Full APC fee --" }, "Full APC fee -- \u20AC350,00 EUR"))),
                                        React.createElement("div", null,
                                            React.createElement("input", { type: "hidden", name: "on1", value: "Your article ID" }),
                                            React.createElement("label", { className: index_css_59.default.label }, "Your article ID"),
                                            React.createElement("input", { className: index_css_59.default.input, type: "text", name: "os1" })),
                                        React.createElement("div", null,
                                            React.createElement("input", { type: "hidden", name: "on2", value: "Email corresponding author" }),
                                            React.createElement("label", { className: index_css_59.default.label }, "Email corresponding author"),
                                            React.createElement("input", { className: index_css_59.default.input, type: "text", name: "os2" })),
                                        React.createElement("div", null,
                                            React.createElement("input", { type: "hidden", name: "currency_code", value: "EUR" }),
                                            React.createElement("input", { type: "image", src: "https://www.paypalobjects.com/en_US/i/btn/btn_paynowCC_LG.gif", name: "submit", alt: "PayPal - The safer, easier way to pay online!" }),
                                            React.createElement("img", { alt: "", src: "https://www.paypalobjects.com/en_US/i/scr/pixel.gif", width: "1", height: "1" }))))))));
                };
                return PaymentPage;
            }(React.Component));
            exports_148("default", PaymentPage);
        }
    };
});
System.register("pages/PaymentPage/success", ["components/Content/index", "components/Markdown", "layouts/Default", "pages/TextPage", "domain/formatting"], function (exports_149, context_149) {
    "use strict";
    var Content_20, Markdown_19, Default_25, TextPage_1, formatting_23, SourceDescription, PaymentPageSuccess;
    var __moduleName = context_149 && context_149.id;
    return {
        setters: [
            function (Content_20_1) {
                Content_20 = Content_20_1;
            },
            function (Markdown_19_1) {
                Markdown_19 = Markdown_19_1;
            },
            function (Default_25_1) {
                Default_25 = Default_25_1;
            },
            function (TextPage_1_1) {
                TextPage_1 = TextPage_1_1;
            },
            function (formatting_23_1) {
                formatting_23 = formatting_23_1;
            }
        ],
        execute: function () {
            SourceDescription = function (_a) {
                var source = _a.source;
                return (React.createElement("div", null,
                    React.createElement("h3", null, "Payment details:"),
                    React.createElement("p", null,
                        source.type && React.createElement("span", null,
                            "Payment type: ",
                            source.type,
                            React.createElement("br", null)),
                        source.created && React.createElement("span", null,
                            "Payment date: ",
                            formatting_23.formatDate(new Date(source.created * 1000)),
                            React.createElement("br", null)),
                        source.currency && source.currency.toUpperCase(),
                        " ",
                        formatting_23.formatCurrency(source.amount),
                        React.createElement("br", null),
                        source.metadata && source.metadata.article_id && React.createElement("span", null,
                            "Your article ID: ",
                            source.metadata.article_id,
                            React.createElement("br", null)),
                        source.metadata && source.metadata.email && React.createElement("span", null,
                            "Email corresponding author: ",
                            source.metadata.email,
                            React.createElement("br", null)))));
            };
            PaymentPageSuccess = (function (_super) {
                __extends(PaymentPageSuccess, _super);
                function PaymentPageSuccess() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                PaymentPageSuccess.head = function (props, defaults) {
                    return TextPage_1.default.head(props, defaults);
                };
                PaymentPageSuccess.prototype.render = function () {
                    var _a = this.props, currentPath = _a.currentPath, content = _a.content;
                    return (React.createElement(Default_25.default, { currentPath: currentPath },
                        React.createElement(Content_20.ContentWithoutSideBar, { title: React.createElement("h1", null, content.fields.title), content: React.createElement("div", null,
                                React.createElement(Content_20.Intro, { intro: content.fields.intro }),
                                React.createElement(Markdown_19.default, { className: "textContent", source: content.fields.body }),
                                this.props.source && React.createElement(SourceDescription, { source: this.props.source })) })));
                };
                return PaymentPageSuccess;
            }(React.Component));
            exports_149("default", PaymentPageSuccess);
        }
    };
});
System.register("pages/ProceedingsPage/index", ["layouts/Default", "components/Content/index", "components/Nav", "components/links"], function (exports_150, context_150) {
    "use strict";
    var Default_26, Content_21, Nav_11, links_3, ProceedingsPage;
    var __moduleName = context_150 && context_150.id;
    return {
        setters: [
            function (Default_26_1) {
                Default_26 = Default_26_1;
            },
            function (Content_21_1) {
                Content_21 = Content_21_1;
            },
            function (Nav_11_1) {
                Nav_11 = Nav_11_1;
            },
            function (links_3_1) {
                links_3 = links_3_1;
            }
        ],
        execute: function () {
            ProceedingsPage = (function (_super) {
                __extends(ProceedingsPage, _super);
                function ProceedingsPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ProceedingsPage.prototype.render = function () {
                    var _a = this.props, slug = _a.slug, proceedings = _a.proceedings, currentPath = _a.currentPath;
                    var sessions = this.props.sessions || [];
                    var links = [
                        { link: { title: "home", href: "/proceedings/" + slug } },
                        { link: { title: "preface", href: "/proceedings/" + slug + "/preface" } },
                        { link: { title: "articles", href: "/proceedings/" + slug + "/articles" } },
                        { link: { title: "authors", href: "/proceedings/" + slug + "/authors" } },
                        sessions.length > 0 &&
                            {
                                link: {
                                    title: "sessions",
                                    href: "#sessions",
                                },
                                children: sessions.map(function (session) { return ({
                                    link: {
                                        title: session.name,
                                        href: "/proceedings/" + slug + "/sessions/" + session.id,
                                    },
                                }); })
                            },
                        { link: { title: "organisers", href: "/proceedings/" + slug + "/people" } },
                        { link: { title: "publishing information", href: "/proceedings/" + slug + "/publishing" } }
                    ];
                    links = links.filter(function (link) { return !!link; });
                    return (React.createElement(Default_26.default, { currentPath: currentPath, title: "Proceedings" },
                        React.createElement(Content_21.ContentWithSideBar, { title: React.createElement("div", null,
                                proceedings.series &&
                                    proceedings.series.code &&
                                    React.createElement(links_3.BackLink, { href: "/proceedings/series/" + proceedings.series.code.toLowerCase(), title: proceedings.series.name, label: "Series:" }),
                                React.createElement("h1", null, proceedings.title || proceedings.name)), sidebar: React.createElement(Nav_11.SubNav, { id: "proceedingsNav", items: links }), content: React.createElement("div", null, this.props.children) })));
                };
                return ProceedingsPage;
            }(React.Component));
            exports_150("default", ProceedingsPage);
        }
    };
});
System.register("pages/ProceedingsPage/Article", ["pages/ProceedingsPage/index", "components/article"], function (exports_151, context_151) {
    "use strict";
    var ProceedingsPage_1, article_10, ArticlePage;
    var __moduleName = context_151 && context_151.id;
    return {
        setters: [
            function (ProceedingsPage_1_1) {
                ProceedingsPage_1 = ProceedingsPage_1_1;
            },
            function (article_10_1) {
                article_10 = article_10_1;
            }
        ],
        execute: function () {
            ArticlePage = (function (_super) {
                __extends(ArticlePage, _super);
                function ArticlePage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                ArticlePage.head = function (props, defaults) {
                    return article_10.default.getMetaTags(props.article, defaults);
                };
                ArticlePage.prototype.render = function () {
                    var _a = this.props, article = _a.article, proceedings = _a.proceedings, sessions = _a.sessions, slug = _a.slug, currentPath = _a.currentPath;
                    return (React.createElement(ProceedingsPage_1.default, { currentPath: currentPath, slug: slug, tab: "articles", proceedings: proceedings, sessions: sessions },
                        React.createElement(article_10.default, { article: article })));
                };
                return ArticlePage;
            }(React.Component));
            exports_151("default", ArticlePage);
        }
    };
});
System.register("pages/ProceedingsPage/Articles", ["pages/ProceedingsPage/index", "components/Search/index"], function (exports_152, context_152) {
    "use strict";
    var ProceedingsPage_2, Search_3, Articles;
    var __moduleName = context_152 && context_152.id;
    return {
        setters: [
            function (ProceedingsPage_2_1) {
                ProceedingsPage_2 = ProceedingsPage_2_1;
            },
            function (Search_3_1) {
                Search_3 = Search_3_1;
            }
        ],
        execute: function () {
            Articles = (function (_super) {
                __extends(Articles, _super);
                function Articles() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                Articles.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.proceedings.title,
                            " - Articles | ",
                            defaults.title),
                    ];
                };
                Articles.prototype.render = function () {
                    var _a = this.props, proceedings = _a.proceedings, slug = _a.slug, page = _a.page, sessions = _a.sessions, currentPath = _a.currentPath, formValues = _a.formValues;
                    var filterOnlyCurrentProceedings = { term: { proceedings_id: proceedings.id } };
                    return (React.createElement(ProceedingsPage_2.default, { currentPath: currentPath, slug: slug, tab: "articles", proceedings: proceedings, sessions: sessions },
                        React.createElement(Search_3.default, { page: page, searchValues: formValues, itemsPerPage: 50, immutableFilters: [filterOnlyCurrentProceedings], showAdvanced: true, baseUrl: "/proceedings/" + proceedings.code + "/articles" })));
                };
                return Articles;
            }(React.Component));
            exports_152("default", Articles);
        }
    };
});
System.register("pages/ProceedingsPage/Authors", ["pages/ProceedingsPage/index", "components/listings", "components/Search/Pagination/index", "components/article"], function (exports_153, context_153) {
    "use strict";
    var ProceedingsPage_3, listings_16, Pagination_5, article_11, Authors;
    var __moduleName = context_153 && context_153.id;
    return {
        setters: [
            function (ProceedingsPage_3_1) {
                ProceedingsPage_3 = ProceedingsPage_3_1;
            },
            function (listings_16_1) {
                listings_16 = listings_16_1;
            },
            function (Pagination_5_1) {
                Pagination_5 = Pagination_5_1;
            },
            function (article_11_1) {
                article_11 = article_11_1;
            }
        ],
        execute: function () {
            Authors = (function (_super) {
                __extends(Authors, _super);
                function Authors() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                Authors.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.proceedings.title,
                            " - Authors | ",
                            defaults.title),
                    ];
                };
                Authors.prototype.render = function () {
                    var _a = this.props, proceedings = _a.proceedings, authors = _a.authors, page = _a.page, total = _a.total, currentPath = _a.currentPath;
                    return (React.createElement(ProceedingsPage_3.default, { currentPath: currentPath, slug: this.props.slug, tab: "authors", proceedings: proceedings, sessions: this.props.sessions },
                        React.createElement(article_11.Counter, { count: total, what: "authors" }),
                        React.createElement(listings_16.AuthorList, { authors: authors }),
                        React.createElement(Pagination_5.default, { itemsPerPage: 100, totalItems: total, currentPage: page, baseUrl: "/proceedings/" + proceedings.code + "/authors" })));
                };
                return Authors;
            }(React.Component));
            exports_153("default", Authors);
        }
    };
});
System.register("pages/ProceedingsPage/People", ["pages/ProceedingsPage/index"], function (exports_154, context_154) {
    "use strict";
    var index_12, People;
    var __moduleName = context_154 && context_154.id;
    return {
        setters: [
            function (index_12_1) {
                index_12 = index_12_1;
            }
        ],
        execute: function () {
            People = (function (_super) {
                __extends(People, _super);
                function People() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                People.prototype.mapCommittees = function (organizers) {
                    var committees = [];
                    organizers.map(function (person) {
                        var committee = committees.find(function (com) { return com.name === person.committeeName; });
                        if (!committee) {
                            committees.push({
                                name: person.committeeName,
                                people: [person],
                            });
                        }
                        else {
                            committee.people.push(person);
                        }
                    });
                    return committees;
                };
                People.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.proceedings.title,
                            " - Organisers | ",
                            defaults.title),
                    ];
                };
                People.prototype.render = function () {
                    var _a = this.props, proceedings = _a.proceedings, slug = _a.slug, organizers = _a.organizers, currentPath = _a.currentPath;
                    var committees = organizers ? this.mapCommittees(organizers) : [];
                    return (React.createElement(index_12.default, { currentPath: currentPath, slug: slug, tab: "people", proceedings: proceedings, sessions: this.props.sessions }, committees.map(function (com, i) { return (React.createElement("div", { key: i.toString() },
                        React.createElement("h2", null, com.name),
                        React.createElement("ul", null, com.people.map(function (person, j) { return (React.createElement("li", { key: j.toString() },
                            React.createElement("h3", null, person.organizerName),
                            React.createElement("p", null, person.organization && person.organization))); })))); })));
                };
                return People;
            }(React.Component));
            exports_154("default", People);
        }
    };
});
System.register("pages/ProceedingsPage/Preface", ["pages/ProceedingsPage/index", "utils/utils", "components/Content/index"], function (exports_155, context_155) {
    "use strict";
    var ProceedingsPage_4, utils_40, Content_22, Preface;
    var __moduleName = context_155 && context_155.id;
    return {
        setters: [
            function (ProceedingsPage_4_1) {
                ProceedingsPage_4 = ProceedingsPage_4_1;
            },
            function (utils_40_1) {
                utils_40 = utils_40_1;
            },
            function (Content_22_1) {
                Content_22 = Content_22_1;
            }
        ],
        execute: function () {
            Preface = (function (_super) {
                __extends(Preface, _super);
                function Preface() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                Preface.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.proceedings.title,
                            " - Preface | ",
                            defaults.title),
                        React.createElement("meta", { name: "description", content: utils_40.truncateText(props.proceedings.prefaceText, 350, "...") }),
                    ];
                };
                Preface.prototype.render = function () {
                    var _a = this.props, proceedings = _a.proceedings, slug = _a.slug, currentPath = _a.currentPath;
                    return (React.createElement(ProceedingsPage_4.default, { currentPath: currentPath, slug: slug, tab: "preface", proceedings: proceedings, sessions: this.props.sessions },
                        React.createElement(Content_22.BodyText, { html: proceedings.prefaceText })));
                };
                return Preface;
            }(React.Component));
            exports_155("default", Preface);
        }
    };
});
System.register("pages/ProceedingsPage/Publishing", ["pages/ProceedingsPage/index", "utils/utils", "components/Content/index", "components/listings"], function (exports_156, context_156) {
    "use strict";
    var index_13, utils_41, index_14, listings_17, Publishing;
    var __moduleName = context_156 && context_156.id;
    return {
        setters: [
            function (index_13_1) {
                index_13 = index_13_1;
            },
            function (utils_41_1) {
                utils_41 = utils_41_1;
            },
            function (index_14_1) {
                index_14 = index_14_1;
            },
            function (listings_17_1) {
                listings_17 = listings_17_1;
            }
        ],
        execute: function () {
            Publishing = (function (_super) {
                __extends(Publishing, _super);
                function Publishing() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                Publishing.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.proceedings.title,
                            " - Publishing information | ",
                            defaults.title),
                    ];
                };
                Publishing.prototype.jsonLD = function () {
                    var proceedings = this.props.proceedings;
                    return {
                        "@type": "PublicationVolume",
                        "sameAs": "/proceedings/" + proceedings.id,
                        "name": proceedings.title,
                        "issn": proceedings.series && proceedings.series.issn,
                        "editor": proceedings.editors && proceedings.editors.split("<br>").map(function (editor) {
                            var editorParts = editor.split(/,(.+)/);
                            var name = editorParts[0] ? editorParts[0].replace("\n", "").replace("\r", "") : null;
                            return {
                                "@type": "Person",
                                "name": name,
                            };
                        }),
                    };
                };
                Publishing.prototype.render = function () {
                    var _a = this.props, proceedings = _a.proceedings, content = _a.content, slug = _a.slug, currentPath = _a.currentPath;
                    utils_41.collectJsonLD(this.jsonLD());
                    var metas = [];
                    if (proceedings.title) {
                        metas.push([
                            "Title",
                            proceedings.title
                        ]);
                    }
                    if (proceedings.editors) {
                        metas.push([
                            "Editors",
                            React.createElement("div", { dangerouslySetInnerHTML: { __html: proceedings.editors } })
                        ]);
                    }
                    if (proceedings.series) {
                        if (proceedings.series.code) {
                            metas.push(["Part of series", React.createElement("a", { href: "/proceedings/series/" + proceedings.series.code.toLowerCase() + "/" }, proceedings.series.code)]);
                            if (proceedings.seriesVolume) {
                                metas.push(["Volume", proceedings.seriesVolume]);
                            }
                        }
                        if (proceedings.series.issn) {
                            metas.push(["ISSN", proceedings.series.issn]);
                        }
                    }
                    if (proceedings.isbn) {
                        metas.push([
                            "ISBN",
                            proceedings.isbn
                        ]);
                    }
                    return (React.createElement(index_13.default, { currentPath: currentPath, slug: slug, tab: "publishing", proceedings: proceedings, sessions: this.props.sessions },
                        React.createElement("h3", null, "Bibliographic information:"),
                        React.createElement(listings_17.MetaBlock, { items: metas }),
                        React.createElement(index_14.BodyText, { markdown: content.fields.body })));
                };
                return Publishing;
            }(React.Component));
            exports_156("default", Publishing);
        }
    };
});
System.register("pages/ProceedingsPage/Session", ["pages/ProceedingsPage/index", "utils/utils", "components/listings", "components/article"], function (exports_157, context_157) {
    "use strict";
    var index_15, utils_42, listings_18, article_12, SessionPage;
    var __moduleName = context_157 && context_157.id;
    return {
        setters: [
            function (index_15_1) {
                index_15 = index_15_1;
            },
            function (utils_42_1) {
                utils_42 = utils_42_1;
            },
            function (listings_18_1) {
                listings_18 = listings_18_1;
            },
            function (article_12_1) {
                article_12 = article_12_1;
            }
        ],
        execute: function () {
            SessionPage = (function (_super) {
                __extends(SessionPage, _super);
                function SessionPage() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                SessionPage.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.proceedings.title,
                            " - ",
                            props.session.name,
                            " | ",
                            defaults.title),
                    ];
                };
                SessionPage.prototype.jsonLD = function () {
                    var _a = this.props, session = _a.session, proceedings = _a.proceedings, articles = _a.articles;
                    return {
                        "@type": "CreativeWorkSeries",
                        "@id": "#session",
                        "name": session.title,
                        "isPartOf": {
                            "url": "/proceedings/" + proceedings.code,
                            "@id": "/proceedings/" + proceedings.code + "#proceedings",
                        },
                        "hasPart": articles.map(function (a, i) { return ({
                            "position": i + 1,
                            "url": "/proceedings/" + proceedings.code + "/" + a.id,
                            "@id": "/proceedings/" + proceedings.code + "/" + a.id + "#article",
                        }); }),
                    };
                };
                SessionPage.prototype.render = function () {
                    var _a = this.props, slug = _a.slug, proceedings = _a.proceedings, session = _a.session, articles = _a.articles, currentPath = _a.currentPath;
                    utils_42.collectJsonLD(this.jsonLD());
                    return (React.createElement(index_15.default, { currentPath: currentPath, slug: this.props.slug, tab: "session", proceedings: proceedings, sessions: this.props.sessions },
                        React.createElement("h3", null,
                            "Session: ",
                            session.title),
                        React.createElement(article_12.ArticleListCounter, { count: articles ? articles.length : 0 }),
                        articles && React.createElement(listings_18.ArticleList, { articles: articles })));
                };
                return SessionPage;
            }(React.Component));
            exports_157("default", SessionPage);
        }
    };
});
System.register("pages/ProceedingsPage/SessionList", ["pages/ProceedingsPage/index", "components/Content/index"], function (exports_158, context_158) {
    "use strict";
    var index_16, Content_23, SessionList;
    var __moduleName = context_158 && context_158.id;
    return {
        setters: [
            function (index_16_1) {
                index_16 = index_16_1;
            },
            function (Content_23_1) {
                Content_23 = Content_23_1;
            }
        ],
        execute: function () {
            SessionList = (function (_super) {
                __extends(SessionList, _super);
                function SessionList() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                SessionList.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.proceedings.title,
                            " - Sessions | ",
                            defaults.title),
                    ];
                };
                SessionList.prototype.render = function () {
                    var _a = this.props, sessions = _a.sessions, slug = _a.slug, proceedings = _a.proceedings, currentPath = _a.currentPath;
                    return (React.createElement(index_16.default, { currentPath: currentPath, slug: this.props.slug, tab: "sessions", proceedings: proceedings, sessions: this.props.sessions },
                        React.createElement(Content_23.BodyText, null,
                            React.createElement("ul", { className: "links" }, sessions.map(function (session, i) { return (React.createElement("li", { key: i.toString() },
                                React.createElement("a", { href: "sessions/" + session.id }, session.name))); })))));
                };
                return SessionList;
            }(React.Component));
            exports_158("default", SessionList);
        }
    };
});
System.register("pages/ProceedingsPage/Welcome", ["pages/ProceedingsPage/index", "utils/utils", "components/Content/index"], function (exports_159, context_159) {
    "use strict";
    var index_17, utils_43, Content_24, Welcome;
    var __moduleName = context_159 && context_159.id;
    return {
        setters: [
            function (index_17_1) {
                index_17 = index_17_1;
            },
            function (utils_43_1) {
                utils_43 = utils_43_1;
            },
            function (Content_24_1) {
                Content_24 = Content_24_1;
            }
        ],
        execute: function () {
            Welcome = (function (_super) {
                __extends(Welcome, _super);
                function Welcome() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                Welcome.head = function (props, defaults) {
                    return [
                        React.createElement("title", null,
                            props.proceedings.title,
                            " | ",
                            defaults.title),
                        props.proceedings.welcomeText && React.createElement("meta", { name: "description", content: utils_43.truncateText(props.proceedings.welcomeText, 350, "...") }),
                    ];
                };
                Welcome.prototype.jsonLD = function () {
                    var _a = this.props, proceedings = _a.proceedings, sessions = _a.sessions;
                    var seriesId = proceedings.series ? proceedings.series.code.toLowerCase() : null;
                    return {
                        "@type": "PublicationVolume",
                        "@id": "#proceedings",
                        "name": proceedings.name,
                        "description": proceedings.welcomeText,
                        "volumeNumber": proceedings.seriesVolume,
                        "isPartOf": {
                            "url": "/proceedings/series/" + seriesId,
                            "@id": "/proceedings/series/" + seriesId + "#series",
                        },
                        "hasPart": sessions.map(function (s) { return ({
                            "url": "/proceedings/" + proceedings.code + "/sessions/" + s._id,
                            "@id": "/proceedings/" + proceedings.code + "/sessions/" + s._id + "#session",
                        }); }),
                    };
                };
                Welcome.prototype.render = function () {
                    var _a = this.props, proceedings = _a.proceedings, slug = _a.slug, currentPath = _a.currentPath;
                    utils_43.collectJsonLD(this.jsonLD());
                    return (React.createElement(index_17.default, { currentPath: currentPath, slug: slug, tab: "welcome", proceedings: proceedings, sessions: this.props.sessions },
                        React.createElement(Content_24.BodyText, { html: proceedings.welcomeText })));
                };
                return Welcome;
            }(React.Component));
            exports_159("default", Welcome);
        }
    };
});
System.register("pages/dev/components", ["layouts/Default", "components/Content/index", "components/Form/message", "components/Form/row", "components/Form/index.css", "components/Tabs/index", "utils/utils", "components/listings.css", "components/Metrics/summary", "components/Series/SeriesHeader", "components/listings", "components/Nav", "components/links", "components/article", "components/Search/Pagination/index"], function (exports_160, context_160) {
    "use strict";
    var Default_27, Content_25, message_6, row_7, index_css_60, Tabs_4, utils_44, listings_css_6, summary_2, SeriesHeader_4, listings_19, Nav_12, links_4, article_13, Pagination_6, asset, journalArticle, article, Components, NavExample, ReferencesDump;
    var __moduleName = context_160 && context_160.id;
    return {
        setters: [
            function (Default_27_1) {
                Default_27 = Default_27_1;
            },
            function (Content_25_1) {
                Content_25 = Content_25_1;
            },
            function (message_6_1) {
                message_6 = message_6_1;
            },
            function (row_7_1) {
                row_7 = row_7_1;
            },
            function (index_css_60_1) {
                index_css_60 = index_css_60_1;
            },
            function (Tabs_4_1) {
                Tabs_4 = Tabs_4_1;
            },
            function (utils_44_1) {
                utils_44 = utils_44_1;
            },
            function (listings_css_6_1) {
                listings_css_6 = listings_css_6_1;
            },
            function (summary_2_1) {
                summary_2 = summary_2_1;
            },
            function (SeriesHeader_4_1) {
                SeriesHeader_4 = SeriesHeader_4_1;
            },
            function (listings_19_1) {
                listings_19 = listings_19_1;
            },
            function (Nav_12_1) {
                Nav_12 = Nav_12_1;
            },
            function (links_4_1) {
                links_4 = links_4_1;
            },
            function (article_13_1) {
                article_13 = article_13_1;
            },
            function (Pagination_6_1) {
                Pagination_6 = Pagination_6_1;
            }
        ],
        execute: function () {
            asset = function (url) {
                var r = {
                    sys: {
                        type: "",
                        id: "",
                        createdAt: "",
                        updatedAt: "",
                        locale: "",
                        contentType: {
                            sys: {
                                type: "Link",
                                linkType: "ContentType",
                                id: ""
                            }
                        }
                    },
                    fields: {
                        title: "",
                        description: "",
                        file: {
                            url: url,
                            details: "",
                            fileName: "foo.jpg",
                            contentType: ""
                        }
                    },
                };
                r.toPlainObject = function () { return r; };
                return r;
            };
            journalArticle = function (title) { return (__assign({}, article(title), { state: "PUBLISHED", brandedFile: null, dateAccepted: new Date(), dateAvailableOnline: new Date(), dateRevised: new Date(), dateReceived: new Date(), proofingState: "FINAL", journal_id: -1, authors: [
                    {
                        id: -1,
                        updatedAt: new Date(),
                        rank: 0,
                        correspondingAuthor: true,
                        affiliation: "University of Awesome",
                        article_id: -1,
                        firstName: "Donald",
                        lastName: "Duck"
                    },
                    {
                        id: -1,
                        updatedAt: new Date(),
                        rank: 1,
                        correspondingAuthor: false,
                        affiliation: "Springfield Elementary",
                        article_id: -1,
                        firstName: "Bart",
                        lastName: "Simpson"
                    },
                ], fulltext: "", fullxml: "", journal: {
                    doaj_id: "",
                    id: -1,
                    createdAt: new Date(),
                    updatedAt: new Date(),
                    publicationDate: new Date(),
                    title: "The journal",
                    code: "a-code",
                    name: "The journal",
                    issn: "the-issn",
                    print: false,
                    isPresentable: true,
                    prefaceText: "",
                    welcomeText: ""
                }, doaj_id: "", journal_issue_id: -1, issue: {
                    id: -1,
                    isSupplement: false,
                    issueDescription: "1-2",
                    issueNumber: 1,
                    volume: 12,
                    isbn: "123984721394874321",
                    issueDate: new Date(),
                    isRolling: false
                }, articletype: "article" })); };
            article = function (title) { return ({
                title: title,
                id: -1,
                updatedAt: new Date(),
                file: "foo.pdf",
                doi: "12312340983214",
                createdAt: new Date(),
                public_filename: "foo.pdf",
                keywords: "ue neque. duis felis augue, cursus quis consequat quis, tincidunt\n" +
                    "ultricies risus. aliquam non metus sollicitudin lectus ornare sodales. vestibulum auctor, velit\n" +
                    "non suscipit volutpat, tellus ex imperdiet tortor, at interdum justo velit pulvinar purus. nulla\n" +
                    "non ullamcorper nisi. morbi finibus massa et elit tempor laoreet. pellentesque elementum lorem\n" +
                    "in magna aliquet, a cursus turpis blandit. nunc sit amet consequat erat. donec scelerisque\n" +
                    "tellus quis est luctus, vitae elementum ante pharetra. etiam venenatis, lectus id vehicula\n" +
                    "hendrerit, lacus purus maximus lorem, ut dictum erat purus et leo. lorem ipsum dolor sit amet,\n" +
                    "consectetur adipiscing elit. sed nisl ligula, efficitur",
                summary: "Aliquam non metus sollicitudin lectus ornare sodales. Vestibulum auctor, velit\n" +
                    "non suscipit volutpat, tellus ex imperdiet tortor, at interdum justo velit pulvinar purus. Nulla\n" +
                    "non ullamcorper nisi. Morbi finibus massa et elit tempor laoreet. Pellentesque elementum lorem\n" +
                    "in magna aliquet, a cursus turpis blandit. Nunc sit amet consequat erat.",
                brandedFile: "foo_branded.pdf",
                firstPageInPublication: 0,
                lastPageInPublication: 0,
                publicationDate: new Date()
            }); };
            Components = (function (_super) {
                __extends(Components, _super);
                function Components(a, b) {
                    var _this = _super.call(this, a, b) || this;
                    _this.components = {
                        typography: (React.createElement("div", null,
                            React.createElement("h2", null, "Typography"),
                            React.createElement("div", { className: "textContent" },
                                React.createElement("h1", null, "First heading"),
                                React.createElement("h2", null, "Second heading"),
                                React.createElement("h3", null, "Third heading"),
                                React.createElement("p", null,
                                    "Lorem ipsum dolor sit amet, ",
                                    React.createElement("a", { href: "" }, "consectetur"),
                                    " adipiscing elit. Nulla ",
                                    React.createElement("strong", null, "aliquet"),
                                    " turpis et nibh ",
                                    React.createElement("em", null, "ullamcorper"),
                                    " malesuada. malesuada. Nulla laoreet, neque id aliquet pellentesque, neque quam dictum sapien, eu tempus ligula felis malesuada lectus. Vestibulum lectus nunc, eleifend id orci in, consectetur volutpat lectus. In id justo a lectus feugiat efficitur sit amet a diam. Aliquam sed consequat ipsum. Nunc porttitor dolor vitae leo placerat, eu ultricies leo scelerisque. Morbi at tincidunt felis. Duis at ullamcorper mi. Proin et ex pharetra, gravida erat a, ultricies nisi."),
                                React.createElement("h3", null, "Third heading"),
                                React.createElement("p", null,
                                    "Cras ",
                                    React.createElement("strong", null, "ultrices"),
                                    " sem quis lorem tristique, nec euismod ligula imperdiet. ",
                                    React.createElement("strong", null, "Pellentesque"),
                                    " nec accumsan ",
                                    React.createElement("a", { href: "" }, "ligula"),
                                    ", ac commodo risus. Aenean a metus nec mi imperdiet venenatis. Phasellus dolor dui, blandit eu purus eu, sollicitudin pellentesque neque. Duis felis augue, cursus quis consequat quis, tincidunt ultricies risus. Aliquam non metus sollicitudin lectus ornare sodales. Vestibulum auctor, velit non suscipit volutpat, tellus ex imperdiet tortor, at interdum justo velit pulvinar purus. Nulla non ullamcorper nisi. Morbi finibus massa et elit tempor laoreet. Pellentesque elementum lorem in magna aliquet, a cursus turpis blandit. Nunc sit amet consequat erat. Donec scelerisque tellus quis est luctus, vitae elementum ante pharetra. Etiam venenatis, lectus id vehicula hendrerit, lacus purus maximus lorem, ut dictum erat purus et leo. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed nisl ligula, efficitur eu tristique ut, tempus commodo felis."),
                                React.createElement("h3", null, "Some other heading"),
                                React.createElement("ul", null,
                                    React.createElement("li", null, "A listing of some sort;"),
                                    React.createElement("li", null, "Vitae elementum ante pharetra;"),
                                    React.createElement("li", null, "Lacus purus maximus."),
                                    React.createElement("li", null, "Sed nisl ligula, efficitur eu tristique ut;"),
                                    React.createElement("li", null, "Nunc sit amet consequat;"),
                                    React.createElement("li", null, "Duis felis augue, cursus quis consequat quis.")),
                                React.createElement("ul", { className: "links" },
                                    React.createElement("li", null,
                                        React.createElement("a", { href: "" }, "A listing containing some links of some sort")),
                                    React.createElement("li", null,
                                        React.createElement("a", { href: "" }, "Vitae elementum ante pharetra")),
                                    React.createElement("li", null,
                                        React.createElement("a", { href: "" }, "Sed nisl ligula, efficitur eu tristique ut"))),
                                React.createElement("p", null, "Now follows a regular content list"),
                                React.createElement("ul", null,
                                    React.createElement("li", null, "A listing of some sort;"),
                                    React.createElement("li", null, "Vitae elementum ante pharetra;"),
                                    React.createElement("li", null, "Lacus purus maximus."),
                                    React.createElement("li", null, "Sed nisl ligula, efficitur eu tristique ut;"),
                                    React.createElement("li", null, "Nunc sit amet consequat;"),
                                    React.createElement("li", null, "Duis felis augue, cursus quis consequat quis.")),
                                React.createElement("ul", { className: "new" },
                                    React.createElement("li", null, "A listing of some sort;"),
                                    React.createElement("li", null, "Vitae elementum ante pharetra;"),
                                    React.createElement("li", null, "Lacus purus maximus."),
                                    React.createElement("li", null, "Sed nisl ligula, efficitur eu tristique ut;"),
                                    React.createElement("li", null, "Nunc sit amet consequat;"),
                                    React.createElement("li", null, "Duis felis augue, cursus quis consequat quis."))))),
                        listings: (React.createElement("div", null,
                            React.createElement("h2", null, "Listings"),
                            React.createElement("h3", null, "Articles"),
                            React.createElement("div", null,
                                React.createElement(listings_19.ListItem, { title: "Curabitur fringilla malesuada euismod.", authors: "Curabitur Fringilla", volumeDescription: ["Volume 1", "Issue 2-4", "March 2014"] }),
                                React.createElement(listings_19.ListItem, { title: "Cras a mauris sed nisl iaculis iaculis, nam a tempus risus, in vestibulum odio - meacenas et porta risus.", authors: "Donec euismod est non ante pretium", volumeDescription: ["Supplement issue 4", "Special Edition", "April 2008"] })),
                            React.createElement("h3", null, "Articles2"),
                            React.createElement(listings_19.ArticleList, { articles: [
                                    journalArticle("Cras a mauris sed nisl iaculis iaculis"),
                                    journalArticle("Cras a mauris sed nisl iaculis iaculis"),
                                    journalArticle("Cras a mauris sed nisl iaculis iaculis"),
                                    journalArticle("Cras a mauris sed nisl iaculis iaculis"),
                                    journalArticle("Cras a mauris sed nisl iaculis iaculis"),
                                    journalArticle("Cras a mauris sed nisl iaculis iaculis"),
                                    journalArticle("Cras a mauris sed nisl iaculis iaculis"),
                                ] }),
                            React.createElement("h3", null, "Issues"),
                            React.createElement("div", null,
                                React.createElement(listings_19.ListItem, { title: "Curabitur fringilla malesuada euismod.", authors: "Curabitur Fringilla", volumeDescription: ["Volume 1", "Issue 2-4", "March 2014"] }),
                                React.createElement(listings_19.ListItem, { title: "Cras a mauris sed nisl iaculis iaculis, nam a tempus risus, in vestibulum odio - meacenas et porta risus.", authors: "Donec euismod est non ante pretium", volumeDescription: ["Supplement issue 4", "Special Edition", "April 2008"] })),
                            React.createElement("h3", null, "News"),
                            React.createElement("div", null,
                                React.createElement(listings_19.NewsListItem, { title: "Curabitur fringilla malesuada euismod.", url: "http://example.org", dateline: "September 12th, 2017", intro: "Etiam venenatis, lectus id vehicula hendrerit, lacus purus maximus lorem, ut dictum erat purus et leo. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed nisl ligula, efficitur eu tristique ut, tempus commodo felis." }),
                                React.createElement(listings_19.NewsListItem, { title: "Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.", url: "http://example.org", dateline: "September 12th, 2017", intro: "Suspendisse efficitur, urna in aliquet sodales, dolor ligula pretium est,  fermentum elit est, eget mattis massa sodales quis." })),
                            React.createElement("h3", null, "List with images"),
                            React.createElement(listings_19.ListWithImages, { items: [
                                    "Cras a mauris sed nisl iaculis iaculis, nam a tempus risus.",
                                    "In vestibulum odio - meacenas et porta risus.",
                                    "Donec euismod est non ante pretium.",
                                    "Etiam venenatis, lectus id vehicula.",
                                    "Hendrerit, lacus purus maximus lorem"
                                ], imageRenderer: function () { return (React.createElement("img", { src: "http://lorempixel.com/500/750", width: "300" })); }, contentRenderer: function (title) { return (React.createElement("div", null,
                                    React.createElement("h1", null, title),
                                    React.createElement("strong", null, "Pellentesque"),
                                    " nec accumsan ",
                                    React.createElement("a", { href: "" }, "ligula"),
                                    ", ac commodo risus. Aenean a metus nec mi imperdiet venenatis. Phasellus dolor dui, blandit eu purus eu, sollicitudin pellentesque neque. Duis felis augue, cursus quis consequat quis, tincidunt ultricies risus. Aliquam non metus sollicitudin lectus ornare sodales.")); } }),
                            React.createElement("h3", null, "Author listing"),
                            React.createElement(listings_19.AuthorList, { authors: [
                                    { article: journalArticle("Testing 123"), id: -1, firstName: "First name", lastName: "Last", article_id: -1, affiliation: "Affiliation", correspondingAuthor: false, rank: -1, updatedAt: new Date() },
                                    { article: journalArticle("Testing 123"), id: -1, firstName: "First name", lastName: "Last", article_id: -1, affiliation: "Affiliation", correspondingAuthor: false, rank: -1, updatedAt: new Date() },
                                    { article: journalArticle("Testing 123"), id: -1, firstName: "First name", lastName: "Last", article_id: -1, affiliation: "Affiliation", correspondingAuthor: false, rank: -1, updatedAt: new Date() }
                                ] }),
                            React.createElement("h3", null, "Meta listing with block"),
                            React.createElement(listings_19.MetaBlock, { items: [
                                    ["Aenean", "A metus nec mi imperdiet venenatis"],
                                    ["Phasellus", "Dolor dui, blandit eu purus eu"],
                                    ["Sollicitudin", "Pellentesque neque."]
                                ] }),
                            React.createElement("h3", null, "Meta listing without block"),
                            React.createElement(listings_19.MetaList, { items: [
                                    ["Aenean", "A metus nec mi imperdiet venenatis"],
                                    ["Phasellus", "Dolor dui, blandit eu purus eu"],
                                    ["Sollicitudin", "Pellentesque neque."]
                                ] }))),
                        forms: (React.createElement("div", null,
                            React.createElement("h2", null, "Forms"),
                            React.createElement(message_6.Message, { type: "ok" }, "This is a success response"),
                            React.createElement(message_6.Message, { type: "notice" }, "This is a validation response"),
                            React.createElement(message_6.Message, { type: "error" }, "This is an error response"),
                            React.createElement("div", null,
                                React.createElement(row_7.FormRow, { label: "A text box", errors: ["Error 1", "Error 2"] },
                                    React.createElement("input", { type: "text" })),
                                React.createElement(row_7.FormRow, { label: "A dropdown box", errors: ["Error 1", "Error 2"] },
                                    React.createElement("select", null,
                                        React.createElement("option", null, "A"),
                                        React.createElement("option", null, "B"),
                                        React.createElement("option", null, "C"))),
                                React.createElement(row_7.FormRow, null,
                                    React.createElement("button", { className: index_css_60.default.buttonPrimary, disabled: true, type: "submit" }, "Submit"),
                                    " | ",
                                    React.createElement("a", { href: "" }, "Cancel")),
                                React.createElement(row_7.FormRow, null,
                                    React.createElement("button", { className: index_css_60.default.buttonPrimary, type: "submit" }, "Submit"),
                                    " | ",
                                    React.createElement("a", { href: "" }, "Cancel"))))),
                        links: (React.createElement("div", null,
                            React.createElement("h2", null, "Links"),
                            React.createElement("p", null,
                                "Morbi at ",
                                React.createElement("a", { href: "" }, "libero eu dolor fermentum"),
                                " rutrum varius finibus turpis."),
                            React.createElement("p", null,
                                React.createElement(links_4.Link, { type: "button", href: "" }, "Copy to clipboard")),
                            React.createElement("p", null,
                                React.createElement(links_4.Link, { href: "" }, "Action link 1")),
                            React.createElement("p", null,
                                React.createElement(links_4.Link, { href: "" }, "Action link 2")),
                            React.createElement("ul", null,
                                React.createElement("li", null,
                                    React.createElement("a", { href: "" }, "Suspendisse gravida nisi ac ex pharetra semper.")),
                                React.createElement("li", null,
                                    React.createElement("a", { href: "" }, "Vivamus efficitur dui at arcu tempus iaculis.")),
                                React.createElement("li", null,
                                    React.createElement("a", { href: "" }, "Suspendisse hendrerit felis ac elit hendrerit, sit amet faucibus augue tempus.")),
                                React.createElement("li", null,
                                    React.createElement("a", { href: "" }, "Maecenas a quam nec justo condimentum interdum vitae luctus leo.")),
                                React.createElement("li", null,
                                    React.createElement("a", { href: "" }, "Nam interdum turpis non dolor porttitor, viverra suscipit nunc vehicula.")),
                                React.createElement("li", null,
                                    React.createElement("a", { href: "" }, "Aliquam vestibulum sapien nec ante iaculis scelerisque.")),
                                React.createElement("li", null,
                                    React.createElement("a", { href: "" }, "Praesent ultrices velit id consequat dictum.")),
                                React.createElement("li", null,
                                    React.createElement("a", { href: "" }, "Aenean ac nisi ut sem maximus commodo quis ac purus.")),
                                React.createElement("li", null,
                                    React.createElement("a", { href: "" }, "Nunc eu elit a erat posuere venenatis eu vestibulum arcu."))))),
                        tabs: (React.createElement("div", null,
                            React.createElement("h2", null, "Tabs"),
                            React.createElement(Tabs_4.default, { tabs: [
                                    "A simple tab",
                                    "A simple tab",
                                    "A simple tab",
                                    "A simple tab"
                                ] },
                                React.createElement("p", null, "The contents of tab 1"),
                                React.createElement("p", null, "The contents of tab 2"),
                                React.createElement("p", null, "The contents of tab 3"),
                                React.createElement("p", null, "The contents of tab 4")),
                            React.createElement("h3", null, "Tabs with listings"),
                            React.createElement(Tabs_4.default, { tabs: [
                                    "Articles",
                                    "Issues",
                                    "News",
                                    "Override content"
                                ] },
                                React.createElement("div", null,
                                    React.createElement(listings_19.ListItem, { title: "Curabitur fringilla malesuada euismod.", authors: "Curabitur Fringilla", volumeDescription: ["Volume 1", "Issue 2-4", "March 2014"] }),
                                    React.createElement(listings_19.ListItem, { title: "Cras a mauris sed nisl iaculis iaculis, nam a tempus risus, in vestibulum odio - meacenas et porta risus.", authors: "Donec euismod est non ante pretium", volumeDescription: ["Supplement issue 4", "Special Edition", "April 2008"] })),
                                React.createElement("div", null,
                                    React.createElement(listings_19.ListItem, { title: "Curabitur fringilla malesuada euismod.", authors: "Curabitur Fringilla", volumeDescription: ["Volume 1", "Issue 2-4", "March 2014"] }),
                                    React.createElement(listings_19.ListItem, { title: "Cras a mauris sed nisl iaculis iaculis, nam a tempus risus, in vestibulum odio - meacenas et porta risus.", authors: "Donec euismod est non ante pretium", volumeDescription: ["Supplement issue 4", "Special Edition", "April 2008"] })),
                                React.createElement("div", null,
                                    React.createElement(listings_19.NewsListItem, { title: "Curabitur fringilla malesuada euismod.", url: "http://example.org", dateline: "September 12th, 2017", intro: "Etiam venenatis, lectus id vehicula hendrerit, lacus purus maximus lorem, ut dictum erat purus et leo. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed nisl ligula, efficitur eu tristique ut, tempus commodo felis." }),
                                    React.createElement(listings_19.NewsListItem, { title: "Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.", url: "http://example.org", dateline: "September 12th, 2017", intro: "Suspendisse efficitur, urna in aliquet sodales, dolor ligula pretium est,  fermentum elit est, eget mattis massa sodales quis." })),
                                React.createElement("div", { className: listings_css_6.default.overrideContent },
                                    React.createElement("h2", null, "Heading"),
                                    React.createElement("p", null,
                                        React.createElement("em", null, "Emphasized content"),
                                        " ",
                                        React.createElement("strong", null, "Strong content"))),
                                React.createElement("div", { className: listings_css_6.default.overrideContent },
                                    React.createElement("h2", null, "Heading"),
                                    React.createElement("p", null,
                                        React.createElement("em", null, "Emphasized content"),
                                        " ",
                                        React.createElement("strong", null, "Strong content")),
                                    React.createElement("p", null, "Aliquam non metus sollicitudin lectus ornare sodales. Vestibulum auctor, velit non suscipit volutpat, tellus ex imperdiet tortor, at interdum justo"))))),
                        specials: (React.createElement("div", null,
                            React.createElement("h2", null, "Special components"),
                            React.createElement("h3", null, "Metrics pod"),
                            React.createElement(summary_2.MetricsSummary, { title: "Journal Metrics", metrics: [
                                    { title: "Metric A", value: "1234123", url: "#" },
                                    { title: "Metric B", value: "1234123", url: "#" },
                                    { title: "Metric C", value: "1234123", url: "#" },
                                    { title: "Metric D with a long title", value: "1234123", url: "#" },
                                    { title: "Metric E with a long title", value: "with a very long value", url: "#" },
                                    { title: "Metric F", value: "1234123", url: "#" },
                                    { title: "Metric G", value: "1234123", url: "#" },
                                    { title: "Metric H ", value: "1234123", url: "#" },
                                    { title: "Metric I", value: "1234123", url: "#" },
                                    { title: "Metric J", value: "1234123", url: "#" },
                                    { title: "Metric Q", value: "1234123", url: "#" },
                                ] }),
                            React.createElement("h3", null, "Series header"),
                            React.createElement(SeriesHeader_4.SeriesHeader, { cover: asset("/images/sample/journal-cover.jpg"), content: "Content of the field", subscriptionTopic: "A subscription topic", introTitle: "The title of the intro", introLink: { text: "the link", href: "http://example.org" }, eIssn: "Some E-ISSN", pIssn: "Some Print ISSN", logo: asset("/images/atlantis-press--dark.svg") }),
                            React.createElement("h3", null, "Citation component"),
                            React.createElement(article_13.Cite, { article: {
                                    authors: [
                                        {
                                            firstName: "Author",
                                            lastName: "Lastname",
                                            article_id: -1,
                                            updatedAt: new Date(),
                                            affiliation: "Foo",
                                            id: -1,
                                            correspondingAuthor: false,
                                            rank: 1
                                        }
                                    ],
                                    title: "Article title",
                                    publicationDate: new Date(),
                                    lastPageInPublication: 12,
                                    firstPageInPublication: 6,
                                    brandedFile: "foo.pdf",
                                    summary: "Summary goes here.",
                                    keywords: "Keywords go here.",
                                    id: -1,
                                    public_filename: "filename.pdf",
                                    doi: "doi/123.456",
                                    file: "bar.pdf",
                                    fulltext: "The full text of this article",
                                    fullxml: null,
                                    createdAt: new Date(),
                                    updatedAt: new Date()
                                } })))
                    };
                    _this.state = {
                        section: "forms"
                    };
                    if (typeof location !== "undefined" && location.hash) {
                        _this.state = { section: location.hash.substring(1) };
                    }
                    return _this;
                }
                Components.head = function () {
                    return [
                        React.createElement("title", null, "Components"),
                    ];
                };
                Components.prototype.render = function () {
                    var _this = this;
                    var currentPath = this.props.currentPath;
                    var id;
                    if (typeof window === "undefined") {
                        id = utils_44.registerClientsideComponent("pages/dev/components", "Components", this.props);
                    }
                    return (React.createElement(Default_27.default, { currentPath: currentPath, id: id },
                        React.createElement(Content_25.ContentWithSideBar, { title: React.createElement("h1", null, "Components"), sidebar: React.createElement("div", null,
                                React.createElement("h2", null, "Components"),
                                React.createElement("select", { onChange: function (e) { return _this.select(e.currentTarget.value); }, value: this.state.section }, Object.keys(this.components).map(function (k, i) { return (React.createElement("option", { key: i, value: k }, k)); })),
                                React.createElement("h2", null, "Other"),
                                React.createElement("ul", { className: "links" },
                                    React.createElement("li", null,
                                        React.createElement("a", { href: "/admin/docs/components/nav" }, "Navigation example")),
                                    React.createElement("li", null,
                                        React.createElement("a", { href: "/admin/docs/components/references" }, "References")))), content: this.components[this.state.section] })));
                };
                Components.prototype.select = function (section) {
                    this.setState({ section: section });
                    history.pushState({}, "", this.props.currentPath + "#" + section);
                };
                return Components;
            }(React.Component));
            exports_160("Components", Components);
            NavExample = (function (_super) {
                __extends(NavExample, _super);
                function NavExample() {
                    return _super !== null && _super.apply(this, arguments) || this;
                }
                NavExample.prototype.render = function () {
                    var currentPath = this.props.currentPath;
                    var id;
                    if (typeof window === "undefined") {
                        id = utils_44.registerClientsideComponent("pages/dev/components", "NavExample", this.props);
                    }
                    return (React.createElement(Default_27.default, { id: id, currentPath: currentPath },
                        React.createElement(Content_25.ContentWithSideBar, { sidebar: React.createElement("div", null,
                                React.createElement(Nav_12.SubNav, { id: "first", items: [
                                        { link: { href: "#item1", title: "Item 1" } },
                                        {
                                            link: {
                                                href: "#item2",
                                                title: "Item 2 with a very long title and some extra words to see where they go"
                                            }
                                        },
                                        { link: { href: "#item3", title: "Item 3" } },
                                        {
                                            link: { href: "#itemWithSubs", title: "Item with subs" },
                                            children: [
                                                { link: { href: "#subItem1", title: "Sub item 1" } },
                                                { link: { href: "#subItem2", title: "Sub item 2" } },
                                                { link: { href: "#subItem3", title: "Sub item 3" } },
                                                { link: { href: "#subItem4", title: "Sub item 4" } }
                                            ]
                                        },
                                        {
                                            link: { href: "#item4", title: "Item with two level subs and a a a long title" },
                                            children: [
                                                { link: { href: "#item4_1", title: "Sub item 1" } },
                                                {
                                                    link: { href: "#item4_2", title: "Sub item 2" }, children: [
                                                        { link: { href: "#item4_2_1", title: "Sub sub item 1" } },
                                                        { link: { href: "#item4_2_2", title: "Sub item 2" } },
                                                        { link: { href: "#item4_2_3", title: "Sub item 3" } }
                                                    ]
                                                },
                                                { link: { href: "#item4_3", title: "Sub item 3" } },
                                                { link: { href: "#item4_3", title: "Sub item 4" } }
                                            ]
                                        }
                                    ] })), title: React.createElement("h1", null, "Example navigation"), content: React.createElement("div", null,
                                React.createElement("h2", { id: "item1" }, "This is where item 1 links to"),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("br", null),
                                React.createElement("h2", { id: "item2" }, "This is where item 2 links to")) })));
                };
                return NavExample;
            }(React.Component));
            exports_160("NavExample", NavExample);
            exports_160("ReferencesDump", ReferencesDump = function (_a) {
                var currentPath = _a.currentPath, currentPage = _a.currentPage, itemsPerPage = _a.itemsPerPage, totalItems = _a.totalItems, articles = _a.articles;
                return (React.createElement(Default_27.default, { currentPath: currentPath },
                    React.createElement(Content_25.ContentWithoutSideBar, { title: "References", content: React.createElement("div", null,
                            articles.map(function (art, k) {
                                return (React.createElement("div", { ref: k },
                                    React.createElement("h2", null,
                                        React.createElement("a", { href: "/article/" + art.id }, art.code)),
                                    art.refs.map(function (ref, refIdx) { return (React.createElement(article_13.Reference, { index: 0, refStyle: "with-label", reference: ref, key: refIdx })); })));
                            }),
                            React.createElement(Pagination_6.default, { baseUrl: "/admin/docs/components/references", currentPage: currentPage, itemsPerPage: itemsPerPage, totalItems: totalItems })) })));
            });
        }
    };
});
System.register("pages/dev/docs", ["layouts/Default", "components/Content/index", "components/Nav", "pages/util", "components/Markdown", "components/Form/index.css"], function (exports_161, context_161) {
    "use strict";
    var Default_28, Content_26, Nav_13, util_11, Markdown_20, index_css_61, Docs, PrivilegeMatrix;
    var __moduleName = context_161 && context_161.id;
    return {
        setters: [
            function (Default_28_1) {
                Default_28 = Default_28_1;
            },
            function (Content_26_1) {
                Content_26 = Content_26_1;
            },
            function (Nav_13_1) {
                Nav_13 = Nav_13_1;
            },
            function (util_11_1) {
                util_11 = util_11_1;
            },
            function (Markdown_20_1) {
                Markdown_20 = Markdown_20_1;
            },
            function (index_css_61_1) {
                index_css_61 = index_css_61_1;
            }
        ],
        execute: function () {
            exports_161("Docs", Docs = function (_a) {
                var currentPath = _a.currentPath, title = _a.title, contents = _a.contents;
                return (React.createElement(Default_28.default, { currentPath: currentPath },
                    React.createElement(Content_26.ContentWithSideBar, { title: React.createElement("h1", null, title), sidebar: React.createElement(Nav_13.SubNav, { items: util_11.extractLocalNav(contents, "all"), id: "subnav" }), content: React.createElement(Markdown_20.default, { options: { softbreak: "\n" }, className: "textContent", source: contents }) })));
            });
            exports_161("PrivilegeMatrix", PrivilegeMatrix = function (_a) {
                var currentPath = _a.currentPath, title = _a.title, contents = _a.contents, matrix = _a.matrix, rows = _a.rows, cols = _a.cols;
                return (React.createElement(Default_28.default, { currentPath: currentPath },
                    React.createElement(Content_26.Content, null,
                        React.createElement("h1", null, title),
                        React.createElement(Markdown_20.default, { options: { softbreak: "\n" }, className: "textContent", source: contents }),
                        React.createElement("table", { className: index_css_61.default.table },
                            React.createElement("thead", null,
                                React.createElement("tr", { className: index_css_61.default.tableHead },
                                    React.createElement("td", null),
                                    cols.map(function (v) { return React.createElement("th", null, v); }))),
                            React.createElement("tbody", null, rows.map(function (r, idx) { return (React.createElement("tr", { className: index_css_61.default.tableRow },
                                React.createElement("td", { className: index_css_61.default.tableCell }, r),
                                matrix[idx].map(function (v) { return React.createElement("td", { className: index_css_61.default.tableCell }, v ? "Yes" : "No"); }))); }))))));
            });
        }
    };
});
System.register("utils/elastic", [], function (exports_162, context_162) {
    "use strict";
    var Elastic;
    var __moduleName = context_162 && context_162.id;
    return {
        setters: [],
        execute: function () {
            Elastic = (function () {
                function Elastic() {
                }
                Elastic.getDocument = function (type, id) {
                    return this.fetch("GET", this.URI + "/" + type + "/" + id)
                        .then(function (response) { return response.json(); })
                        .then(function (json) { return json.found ? json._source : null; });
                };
                Elastic.search = function (type, params) {
                    return this.fetch("POST", "" + this.URI, JSON.stringify(params))
                        .then(function (response) { return response.json(); })
                        .then(function (body) {
                        if ("error" in body) {
                            throw new Error(body.error.reason);
                        }
                        return body;
                    });
                };
                Elastic.fetch = function (method, url, body) {
                    return fetch(url, {
                        mode: "cors",
                        method: method,
                        body: body,
                        credentials: "include",
                        headers: new Headers({ "Content-Type": "text/plain" }),
                    });
                };
                Elastic.URI = "/api/search";
                return Elastic;
            }());
            exports_162("default", Elastic);
        }
    };
});
System.register("xml/xmlutil", [], function (exports_163, context_163) {
    "use strict";
    var xml, writeXml, renderXml, values, element, container;
    var __moduleName = context_163 && context_163.id;
    return {
        setters: [],
        execute: function () {
            exports_163("xml", xml = function (name, attrs) {
                if (attrs === void 0) { attrs = {}; }
                var children = [];
                for (var _i = 2; _i < arguments.length; _i++) {
                    children[_i - 2] = arguments[_i];
                }
                var filteredAttrs = {};
                Object.keys(attrs)
                    .filter(function (a) { return typeof attrs[a] !== "undefined" && attrs[a] !== null; })
                    .forEach(function (a) {
                    filteredAttrs[a] = attrs[a];
                });
                return ({
                    name: name,
                    attrs: filteredAttrs,
                    children: children
                });
            });
            writeXml = function (el, writer, escaper, indent) {
                if (indent === void 0) { indent = 0; }
                if (typeof el === "string") {
                    writer(escaper(el));
                }
                else {
                    if (indent) {
                        writer("\n", "\t".repeat(indent));
                    }
                    writer("<", el.name);
                    Object.keys(el.attrs).forEach(function (attr) { return writer(" " + escaper(attr) + "=\"" + escaper(el.attrs[attr]) + "\""); });
                    var children = el.children.filter(function (v) { return !!v; });
                    if (children.length) {
                        writer(">");
                        children.forEach(function (ch) { return writeXml(ch, writer, escaper, indent + 1); });
                        if (indent && typeof el.children[el.children.length - 1] !== "string") {
                            writer("\n", "\t".repeat(indent));
                        }
                        writer("</", el.name, ">");
                    }
                    else {
                        writer("/>");
                    }
                }
            };
            exports_163("renderXml", renderXml = function (root) {
                var buffer = "";
                writeXml(root, function () {
                    var args = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        args[_i] = arguments[_i];
                    }
                    return args.forEach(function (s) { return buffer += s; });
                }, function (s) { return ("" + s)
                    .replace(/&/g, "&amp;")
                    .replace(/</g, "&lt;")
                    .replace(/>/g, "&gt;")
                    .replace(/"/g, "&quot;"); });
                return buffer;
            });
            exports_163("values", values = function (obj) { return (Object.keys(obj).filter(function (k) { return typeof obj[k] !== "undefined"; }).map(function (k) { return xml(k, {}, obj[k]); })); });
            exports_163("element", element = function (name) { return function (props) {
                var children = [];
                for (var _i = 1; _i < arguments.length; _i++) {
                    children[_i - 1] = arguments[_i];
                }
                return xml.apply(void 0, __spread([name, props], children));
            }; });
            exports_163("container", container = function (name) { return function (_a) {
                var children = [];
                for (var _i = 1; _i < arguments.length; _i++) {
                    children[_i - 1] = arguments[_i];
                }
                return xml.apply(void 0, __spread([name, {}], children));
            }; });
        }
    };
});
System.register("xml/doi/generic", ["xml/xmlutil"], function (exports_164, context_164) {
    "use strict";
    var xmlutil_1, doi_batch, head, depositor, body, conference, event_metadata, conference_date, publisher, publication_date, isbn, contributors, person_name, titles, title, publisher_item, identifier, doi_data;
    var __moduleName = context_164 && context_164.id;
    return {
        setters: [
            function (xmlutil_1_1) {
                xmlutil_1 = xmlutil_1_1;
            }
        ],
        execute: function () {
            exports_164("doi_batch", doi_batch = function (_a) {
                var children = [];
                for (var _i = 1; _i < arguments.length; _i++) {
                    children[_i - 1] = arguments[_i];
                }
                return xmlutil_1.xml.apply(void 0, __spread(["doi_batch", {
                        "version": "4.3.0",
                        "xmlns": "http://www.crossref.org/schema/4.3.0",
                        "xmlns:xsi": "http://www.w3.org/2001/XMLSchema-instance"
                    }], children));
            });
            exports_164("head", head = function (_a, depositor) {
                var id = _a.id, registrant = _a.registrant;
                return xmlutil_1.xml.apply(void 0, __spread(["head",
                    {}], xmlutil_1.values({
                    "doi_batch_id": id,
                    "timestamp": id
                }), [depositor,
                    xmlutil_1.xml("registrant", {}, registrant)]));
            });
            exports_164("depositor", depositor = function (props) {
                return xmlutil_1.xml.apply(void 0, __spread(["depositor",
                    {}], xmlutil_1.values(props)));
            });
            exports_164("body", body = xmlutil_1.container("body"));
            exports_164("conference", conference = xmlutil_1.container("conference"));
            exports_164("event_metadata", event_metadata = function (props, date) { return xmlutil_1.xml.apply(void 0, __spread(["event_metadata",
                {}], xmlutil_1.values(props), [date])); });
            exports_164("conference_date", conference_date = function (props) { return xmlutil_1.xml("conference_date", props); });
            exports_164("publisher", publisher = function (props) { return xmlutil_1.xml.apply(void 0, __spread(["publisher", {}], xmlutil_1.values(props))); });
            exports_164("publication_date", publication_date = function (_a) {
                var media_type = _a.media_type, props = __rest(_a, ["media_type"]);
                return xmlutil_1.xml.apply(void 0, __spread(["publication_date", { media_type: media_type }], xmlutil_1.values(props)));
            });
            exports_164("isbn", isbn = function (_a) {
                var isbn = _a.isbn;
                return xmlutil_1.xml("isbn", {}, isbn);
            });
            exports_164("contributors", contributors = xmlutil_1.container("contributors"));
            exports_164("person_name", person_name = function (_a) {
                var sequence = _a.sequence, contributor_role = _a.contributor_role, props = __rest(_a, ["sequence", "contributor_role"]);
                if (!props.given_name) {
                    delete props.given_name;
                }
                return xmlutil_1.xml.apply(void 0, __spread(["person_name", {
                        sequence: sequence,
                        contributor_role: contributor_role
                    }], xmlutil_1.values(props)));
            });
            exports_164("titles", titles = xmlutil_1.container("titles"));
            exports_164("title", title = function (_a) {
                var title = _a.title;
                return xmlutil_1.xml("title", {}, title);
            });
            exports_164("publisher_item", publisher_item = xmlutil_1.container("publisher_item"));
            exports_164("identifier", identifier = xmlutil_1.element("identifier"));
            exports_164("doi_data", doi_data = function (props) { return xmlutil_1.xml.apply(void 0, __spread(["doi_data", {}], xmlutil_1.values(props))); });
        }
    };
});
System.register("xml/doi/common", ["xml/xmlutil", "xml/doi/generic"], function (exports_165, context_165) {
    "use strict";
    var xmlutil_2, generic_1, render;
    var __moduleName = context_165 && context_165.id;
    return {
        setters: [
            function (xmlutil_2_1) {
                xmlutil_2 = xmlutil_2_1;
            },
            function (generic_1_1) {
                generic_1 = generic_1_1;
            }
        ],
        execute: function () {
            exports_165("render", render = function (body) {
                var now = "" + Math.floor(Date.now() / 1000);
                return ("<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n" +
                    xmlutil_2.renderXml(generic_1.doi_batch({}, generic_1.head({ id: now, registrant: "Atlantis Press" }, generic_1.depositor({ name: "Zeger Karssen", email_address: "zkarssen@atlantis-press.com" })), body)));
            });
        }
    };
});
System.register("xml/doi/body/journal", ["xml/doi/generic", "xml/xmlutil", "domain/formatting"], function (exports_166, context_166) {
    "use strict";
    var generic_2, xmlutil_3, formatting_24, journal, issne, journal_metadata, journal_volume, issuee, journal_issue, journal_article, pages, formatYear;
    var __moduleName = context_166 && context_166.id;
    function renderJournalBody(journalRecord, issueRecord, articles, mode) {
        var now = "" + Math.floor(Date.now() / 1000);
        return generic_2.body({}, journal.apply(void 0, __spread([{},
            journal_metadata({
                issn: journalRecord.issn,
                abbrev_title: journalRecord.code.toUpperCase(),
                full_title: journalRecord.title || journalRecord.name
            }),
            issueRecord && journal_issue({
                issue: issueRecord.issueDescription || "" + issueRecord.issueNumber,
                volume: "" + issueRecord.volume,
                year: formatYear(issueRecord.issueDate)
            })], articles.map(function (article) { return journal_article({ publication_type: "full_text" }, generic_2.titles({}, generic_2.title({ title: article.title })), article.authors && generic_2.contributors.apply(void 0, __spread([{}], article.authors.map(function (author) { return generic_2.person_name({
            sequence: "first",
            contributor_role: "author",
            given_name: author.firstName,
            surname: author.lastName
        }); }))), generic_2.publication_date({ media_type: "online", year: formatYear(article.publicationDate || (article.issue && article.issue.issueDate)) }), article.firstPageInPublication ? pages({ first_page: "" + article.firstPageInPublication }) : null, generic_2.publisher_item({}, generic_2.identifier({ id_type: "other" }, "" + article.id)), generic_2.doi_data({
            doi: formatting_24.formatDOI(article),
            timestamp: now,
            resource: "https://www.atlantis-press.com/article/" + article.id
        }), mode === "CNKI" ? xmlutil_3.xml("abstract", {}, article.summary) : null); }))));
    }
    exports_166("default", renderJournalBody);
    return {
        setters: [
            function (generic_2_1) {
                generic_2 = generic_2_1;
            },
            function (xmlutil_3_1) {
                xmlutil_3 = xmlutil_3_1;
            },
            function (formatting_24_1) {
                formatting_24 = formatting_24_1;
            }
        ],
        execute: function () {
            journal = xmlutil_3.container("journal");
            issne = xmlutil_3.element("issn");
            journal_metadata = function (_a) {
                var issn = _a.issn, props = __rest(_a, ["issn"]);
                return xmlutil_3.xml("journal_metadata", { language: "en" }, xmlutil_3.xml("full_title", {}, props.full_title), xmlutil_3.xml("abbrev_title", {}, props.abbrev_title), issne({ media_type: "electronic" }, issn));
            };
            journal_volume = function (_a) {
                var volume = _a.volume;
                return xmlutil_3.xml("journal_volume", {}, xmlutil_3.xml("volume", {}, volume));
            };
            issuee = xmlutil_3.element("issue");
            journal_issue = function (_a) {
                var year = _a.year, issue = _a.issue, volume = _a.volume;
                return xmlutil_3.xml("journal_issue", {}, generic_2.publication_date({ year: year, media_type: "online" }), journal_volume({ volume: volume }), issue && issuee({}, issue));
            };
            journal_article = xmlutil_3.element("journal_article");
            pages = function (props) { return xmlutil_3.xml.apply(void 0, __spread(["pages",
                {}], xmlutil_3.values(props))); };
            formatYear = function (date) {
                if (typeof date === "string") {
                    try {
                        return formatYear(new Date(date));
                    }
                    catch (e) {
                        return "";
                    }
                }
                if (!date) {
                    return "";
                }
                return "" + date.getFullYear();
            };
        }
    };
});
System.register("xml/doi/body/proceedings", ["xml/doi/generic", "xml/xmlutil", "domain/formatting"], function (exports_167, context_167) {
    "use strict";
    var generic_3, xmlutil_4, formatting_25, conference_paper, proceedings_metadata;
    var __moduleName = context_167 && context_167.id;
    function renderProceedingsBody(proceedings, articles, mode) {
        var startDate = new Date(proceedings.conferenceStartDate);
        var endDate = new Date(proceedings.conferenceEndDate);
        var publicationDate = new Date(proceedings.publicationDate);
        var now = "" + Math.floor(Date.now() / 1000);
        return generic_3.body({}, generic_3.conference.apply(void 0, __spread([{},
            generic_3.event_metadata({ conference_name: proceedings.title, conference_acronym: proceedings.code, conference_location: proceedings.conferenceLocation }, generic_3.conference_date({
                start_month: "" + (startDate.getMonth() + 1),
                start_year: "" + startDate.getFullYear(),
                start_day: "" + startDate.getDate(),
                end_month: "" + (endDate.getMonth() + 1),
                end_year: "" + endDate.getFullYear(),
                end_day: "" + endDate.getDate(),
            })),
            proceedings_metadata({ proceedings_title: proceedings.title }, generic_3.publisher({ publisher_name: "Atlantis Press", publisher_place: "Paris, France" }), generic_3.publication_date({ year: "" + publicationDate.getFullYear() }), generic_3.isbn({ isbn: proceedings.isbn }))], articles.map(function (article) { return (conference_paper({ publication_type: "full_text" }, article.authors && generic_3.contributors.apply(void 0, __spread([{}], article.authors.map(function (author) { return generic_3.person_name({
            sequence: "first",
            contributor_role: "author",
            given_name: author.firstName,
            surname: author.lastName
        }); }))), generic_3.titles({}, generic_3.title({ title: article.title })), generic_3.publication_date({ media_type: "online", year: "" + publicationDate.getFullYear() }), generic_3.publisher_item({}, generic_3.identifier({ id_type: "other" }, "" + article.id)), generic_3.doi_data({
            doi: formatting_25.formatDOI(article),
            timestamp: "" + now,
            resource: "https://www.atlantis-press.com/article/" + article.id
        }), mode === "CNKI" ? xmlutil_4.xml("abstract", {}, article.summary) : null)); }))));
    }
    exports_167("default", renderProceedingsBody);
    return {
        setters: [
            function (generic_3_1) {
                generic_3 = generic_3_1;
            },
            function (xmlutil_4_1) {
                xmlutil_4 = xmlutil_4_1;
            },
            function (formatting_25_1) {
                formatting_25 = formatting_25_1;
            }
        ],
        execute: function () {
            conference_paper = xmlutil_4.element("conference_paper");
            proceedings_metadata = function (props) {
                var children = [];
                for (var _i = 1; _i < arguments.length; _i++) {
                    children[_i - 1] = arguments[_i];
                }
                return xmlutil_4.xml.apply(void 0, __spread(["proceedings_metadata",
                    { language: "en" },
                    xmlutil_4.xml("proceedings_title", {}, props.proceedings_title)], children));
            };
        }
    };
});
//# sourceMappingURL=tsbundle.js.map