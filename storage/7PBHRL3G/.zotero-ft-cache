Pulse Signal System: Sensing, Data Acquisition and Body Area Network
A Thesis Submitted to the College of Graduate and Postdoctoral Studies
in Partial Fulﬁllment of the Requirements for the Degree of Master of Science
in the Department of Electrical and Computer Engineering University of Saskatchewan
by Kai Shan
Saskatoon, Saskatchewan, Canada
© Copyright Kai Shan, July, 2017. All rights reserved.

Permission to Use
In presenting this thesis in partial fulﬁllment of the requirements for a Postgraduate degree from the University of Saskatchewan, it is agreed that the Libraries of this University may make it freely available for inspection. Permission for copying of this thesis in any manner, in whole or in part, for scholarly purposes may be granted by the professors who supervised this thesis work or, in their absence, by the Head of the Department of Electrical and Computer Engineering or the Dean of the College of Graduate Studies and Research at the University of Saskatchewan. Any copying, publication, or use of this thesis, or parts thereof, for ﬁnancial gain without the written permission of the author is strictly prohibited. Proper recognition shall be given to the author and to the University of Saskatchewan in any scholarly use which may be made of any material in this thesis.
Request for permission to copy or to make any other use of material in this thesis in whole or in part should be addressed to:
Head of the Department of Electrical and Computer Engineering 57 Campus Drive University of Saskatchewan Saskatoon, Saskatchewan, Canada S7N 5A9
i

Abstract
Heart rate variability (HRV) is an important physiological signal of the human body, which can serve as a useful biomarker for the cardiovascular health status of an individual. There are many methods to measure the HRV using electrical devices, such as ECG and PPG etc. This work presents a novel HRV detection method which is based on pressure detection on the human wrist. This method has been compared with existing HRV detection methods.
In this work, the proposed system for HRV detection is based on polyvinylidene diﬂuoride (PVDF) sensor, which can measure tiny pressure on its surface. Three PVDF sensors are mounted on the wrist, and a three-channel conditioning circuit is used to amplify signals generated by the sensors. An analog-to-digital converter and Arduino microcontroller are used to sample and process the signal. Based on the obtained signals, the HRV can be processed and detected by the proposed PVDF-sensor-based system.
Another contribution of this work is in designing a wireless body area network (WBAN) to transmit data acquired on the human body. This WBAN combines two different wireless network protocols, for both efﬁcient power consumption and data rate. Bluetooth Low Energy protocol is used for transmitting data from the microcontroller to a personal device, and Wi-Fi is used to send data to other terminals. This provides the potential for remote HRV signal monitoring.
A dataset consisting of six subjects was used to experimentally validate the proposed system design and signal processing method. ECG signals are acquired from subjects with wrist pulse signals for comparison as standard signal. The waveforms of ECG signals and wrist pulse signals are compared and HRV values are calculated from these two types of signals separately. The result shows that HRV calculated by wrist pulse has low error rate. Several examples of wrist pulse waveforms are analyzed by TCPD patterns to show the ability of the system in TCPD. A test of movement effect shows the sensor can resist mild motions of wrist. Some future improvements of system design and further signal processing methods are also discussed in the last chapter. More prospective applications of this system were proposed in the last section.
ii

Acknowledgments
I would like to express my gratitude to my supervisor, Prof. Bui for his invaluable suggestions, support and encouragement throughout my graduate program at University of Saskatchewan.
I would also like to acknowledge my thesis committee members, Professors Anh Dinh, Li Chen and Chris Zhang, for examining and providing insightful feedback to improve this thesis.
My deepest gratitude goes to my wife Wenjing and my daughter Audrey, for their unwavering love and encouragement throughout my life.
Finally, I truly appreciate the help from everyone involved in this research study. Additionally, the completion of this thesis would not have been possible without the continued support and encouragement from my friends Solomon and Min. Thank you for everything.
iii

Table of Contents

Permission to Use

i

Abstract

ii

Acknowledgments

iii

Table of Contents

iv

List of Tables

vii

List of Figures

viii

List of Abbreviations

xii

1 Introduction

1

1.1 Common Non-invasive Cardiac Monitoring . . . . . . . . . . . . . . . . . . . . . 2

1.2 Wrist Pulse Signal Sensing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4

1.3 Wireless BAN . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9

1.4 Motivations and Problem Formulation . . . . . . . . . . . . . . . . . . . . . . . . 11

1.5 Objectives of Thesis . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12

1.6 Thesis Organization . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12

2 Design Overview

14

2.1 Literature Review . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14

2.1.1 Pulse Signal Detection Methods . . . . . . . . . . . . . . . . . . . . . . . 14

2.1.2 Wireless BAN Applications . . . . . . . . . . . . . . . . . . . . . . . . . 22

2.2 Design Criteria . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23

2.3 Challenges . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24

2.3.1 Selection Of Wrist Pulse Sensor . . . . . . . . . . . . . . . . . . . . . . . 24

2.3.2 Selection Of Network Protocol . . . . . . . . . . . . . . . . . . . . . . . . 24

iv

2.3.3 System Architecture Design . . . . . . . . . . . . . . . . . . . . . . . . . 24

2.3.4 Sensing Circuit Design . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25

2.4 Pulse Sensor Selection . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25

2.4.1 Load Cell . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25

2.4.2 Medical Pressure Sensor . . . . . . . . . . . . . . . . . . . . . . . . . . . 26

2.4.3 Force Sensor . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 27

2.5 Wireless BAN Protocol Comparison and Selection . . . . . . . . . . . . . . . . . 28

3 Proposed System Design

33

3.1 System Architecture . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 33

3.1.1 Sensor Nodes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 35

3.1.2 Personal Device . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 35

3.2 Microcontrollers . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 36

3.2.1 Microcontroller of PD . . . . . . . . . . . . . . . . . . . . . . . . . . . . 36

3.2.2 Microcontroller of Sensor Nodes . . . . . . . . . . . . . . . . . . . . . . . 37

3.3 PVDF Sensor . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 39

3.4 Wireless Module . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 41

3.5 Measurement Circuit . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 43

3.6 Analog-to-Digital Converter . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 45

3.7 ECG Measurement . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 47

3.8 System Software . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 48

3.8.1 Sensor Nodes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 49

3.8.2 Personal Device . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 53

3.8.3 Desktop Computer . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 54

4 Experimental Results and Analysis

56

v

4.1 Experiment Targets . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 56

4.2 Experiment Setup . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 57

4.2.1 Network Conﬁguration . . . . . . . . . . . . . . . . . . . . . . . . . . . . 58

4.2.2 Wrist Pulse Signal Sensor Node Setup . . . . . . . . . . . . . . . . . . . . 60

4.2.3 ECG Sensor Node Setup . . . . . . . . . . . . . . . . . . . . . . . . . . . 61

4.3 Experiment Results . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 63

4.3.1 Wireless Function . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 63

4.3.2 Wrist Pulse Signal Measurement . . . . . . . . . . . . . . . . . . . . . . . 65

4.3.3 HR Calculation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 68

4.3.4 Waveform Analysis . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 72

4.3.5 Measurement With Movement . . . . . . . . . . . . . . . . . . . . . . . . 79

4.3.6 Discussions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 80

5 Future Works and Conclusions

81

5.1 Conclusions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 81

5.2 Future Works . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 82

5.2.1 System Improvements . . . . . . . . . . . . . . . . . . . . . . . . . . . . 82

5.2.2 Prospective Applications . . . . . . . . . . . . . . . . . . . . . . . . . . . 83

References

85

vi

List of Tables
2.1 Comparison of Wireless Network Protocols [1–3] . . . . . . . . . . . . . . . . . . 29 2.2 Power Consumption of Typical Wireless Chipsets [4] . . . . . . . . . . . . . . . . 29 2.3 Requirements of BAN Network in Applications [5] . . . . . . . . . . . . . . . . . 31 4.1 HR Calculated by Wrist Pulse and ECG of Subject A and B . . . . . . . . . . . . . 71 4.2 HR Calculated by Wrist Pulse and ECG of Subject C and D . . . . . . . . . . . . . 71 4.3 HR Calculated by Wrist Pulse and ECG of Subject E and F . . . . . . . . . . . . . 71
vii

List of Figures
1.1 Normal ECG Signal Waveform [6] . . . . . . . . . . . . . . . . . . . . . . . . . . 3 1.2 R-R Interval of Two Heart Beats In ECG Waveform [6] . . . . . . . . . . . . . . . 3 1.3 Typical SCG Waveform And Comparison With ECG Waveform [7] . . . . . . . . 4 1.4 Radius Artery In Human Wrist [8] . . . . . . . . . . . . . . . . . . . . . . . . . . 5 1.5 Principle of Pulse Diagnosis and “Cun”, “Guan”, “Chi” Position [9] . . . . . . . . 6 1.6 Several Typical Patterns of Wrist Pulse [10] . . . . . . . . . . . . . . . . . . . . . 7 1.7 Steps of Pattern Recognition Method of TCPD . . . . . . . . . . . . . . . . . . . 8 1.8 Tiers of Body Area Network [11] . . . . . . . . . . . . . . . . . . . . . . . . . . . 10
2.1 Measurement Mechanism of Pressure Sensor [12] . . . . . . . . . . . . . . . . . . 15 2.2 Dimension of MS5536C Pressure Sensor [13] . . . . . . . . . . . . . . . . . . . . 15 2.3 Typical Waveform of Wrist Pulse Collected by Pressure Sensor [14] . . . . . . . . 16 2.4 Measurement Mechanism of Photoelectric Sensor [12] . . . . . . . . . . . . . . . 16 2.5 Top View of Photoelectric Sensor Array And The Real Object [15] . . . . . . . . . 17 2.6 Typical Waveform of Wrist Pulse Collected by Photoelectric Sensor [15] . . . . . . 17 2.7 Measurement Mechanism of Ultrasonic Sensor [12] . . . . . . . . . . . . . . . . . 18 2.8 Photograph of Ultrasonic Wrist Pulse Sensor [16] . . . . . . . . . . . . . . . . . . 18 2.9 Typical Waveform of Wrist Pulse Collected by Photoelectric Sensor [16] . . . . . . 19 2.10 Bi-Sensing Pulse Piagnosis Pnstrument (BSPDI) [17] . . . . . . . . . . . . . . . . 20 2.11 Single Channel Pulse Tonometric Device [18] . . . . . . . . . . . . . . . . . . . . 20 2.12 9x9 Piezoelectric Pressure Sensor Array [19] . . . . . . . . . . . . . . . . . . . . 21 2.13 Three In-line Sensors and Linear Actuators [20] . . . . . . . . . . . . . . . . . . . 21 2.14 Wrist Pulse Waveform Acquired By Three In-line Sensors and Linear Actuators [20] 22
viii

2.15 Load Cell . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26 2.16 Medical Pressure Sensor . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 27 2.17 FlexiForce Sensor . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28
3.1 System Architecture . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 33 3.2 Expansion Of Designed System To Large Scale System . . . . . . . . . . . . . . 34 3.3 Structure of Sensor Node . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 35 3.4 On Board Resources of Raspberry Pi 2B [21] . . . . . . . . . . . . . . . . . . . . 37 3.5 Block Diagram of ATMEGA 328P Microcontroller [22] . . . . . . . . . . . . . . . 39 3.6 PVDF Sensor . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 40 3.7 Structure of PVDF Sensor [23] . . . . . . . . . . . . . . . . . . . . . . . . . . . . 41 3.8 Block Diagram of FSC-BT836 Bluetooth LE Module . . . . . . . . . . . . . . . . 42 3.9 One Channel Of Measurement Circuit . . . . . . . . . . . . . . . . . . . . . . . . 45 3.10 Block Diagram of ADS1118 A/D Converter . . . . . . . . . . . . . . . . . . . . . 46 3.11 Connection of ADS1118 and Arduino Pro Mini . . . . . . . . . . . . . . . . . . . 46 3.12 Block Diagram of AD8232 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 47 3.13 ECG Board Circuit . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 48 3.14 Software Structure of Whole System . . . . . . . . . . . . . . . . . . . . . . . . . 49 3.15 Flow Chart of Wrist Pulse Signal Measurement Node Software . . . . . . . . . . . 50 3.16 Structure of Wrist Pulse Signal Measurement Node Data Package . . . . . . . . . 51 3.17 Flow Chart of ECG Node Software . . . . . . . . . . . . . . . . . . . . . . . . . . 52 3.18 Structure of ECG Node Data Package . . . . . . . . . . . . . . . . . . . . . . . . 53 3.19 Flow Chart of Personal Device Software . . . . . . . . . . . . . . . . . . . . . . . 54 3.20 Flow Chart of Desktop Computer Software . . . . . . . . . . . . . . . . . . . . . 55
4.1 Prototype of Whole System . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 57
ix

4.2 Interface of LabVIEW Program . . . . . . . . . . . . . . . . . . . . . . . . . . . 58 4.3 Personal Device . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 59 4.4 Wrist Pulse Signal sensor node . . . . . . . . . . . . . . . . . . . . . . . . . . . . 60 4.5 PVDF Sensors Installed On Wrist . . . . . . . . . . . . . . . . . . . . . . . . . . 61 4.6 ECG Sensor Node . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 62 4.7 Placement of ECG Pads . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 63 4.8 Movement Route of System . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 64 4.9 Signal Received When Carried By Subject . . . . . . . . . . . . . . . . . . . . . . 64 4.10 Wrist Pulse Signal Waveforms of Subjects . . . . . . . . . . . . . . . . . . . . . . 65 4.11 ECG Signal Waveforms of Subjects . . . . . . . . . . . . . . . . . . . . . . . . . 66 4.12 Wrist Pulse and ECG Signal Waveforms of Subject C . . . . . . . . . . . . . . . . 66 4.13 Wrist Pulse and ECG Signal Waveforms of Subject D . . . . . . . . . . . . . . . . 67 4.14 Wrist Pulse and ECG Signal Waveforms of Subject E . . . . . . . . . . . . . . . . 67 4.15 Wrist Pulse and ECG Signal Waveforms of Subject F . . . . . . . . . . . . . . . . 68 4.16 Detailed Wrist Pulse Signal Waveforms . . . . . . . . . . . . . . . . . . . . . . . 69 4.17 Detailed ECG Signal Waveforms . . . . . . . . . . . . . . . . . . . . . . . . . . . 70 4.18 HR Calculated by ECG and Wrist Pulse Signals . . . . . . . . . . . . . . . . . . . 72 4.19 Theoretical Waveform of A Single Wrist Pulse [14] . . . . . . . . . . . . . . . . . 73 4.20 A Single Wrist Pulse of Subject A . . . . . . . . . . . . . . . . . . . . . . . . . . 74 4.21 A Single Wrist Pulse of Subject F . . . . . . . . . . . . . . . . . . . . . . . . . . 75 4.22 Typical Waveform of Wrist Pulse Collected by Pressure Sensor [14] . . . . . . . . 75 4.23 Wrist Pulse Waveform Acquired By Three In-line Sensors and Linear Actuators [20] 76 4.24 Typical Waveform of Wrist Pulse Collected by Photoelectric Sensor [15] . . . . . . 76 4.25 Typical Waveform of Wrist Pulse Collected by Photoelectric Sensor [16] . . . . . . 76
x

4.26 Typical Waveform Patterns of Wrist Pulse [10] . . . . . . . . . . . . . . . . . . . 78 4.27 Wrist Pulse Signal When Moving Hand . . . . . . . . . . . . . . . . . . . . . . . 80
xi

List of Abbreviations and Symbols

AP BAN BCU BLE BSN d33 ECG FHSS HR HRV ISM PAN PD PPG PVDF SCG SPS TCM TCPD

Access Point Body Area Network Body Control Unit Bluetooth Low Energy Body Sensor Network Piezo Strain Constant Electrocardiogram Frequency-Hopping Spread-Spectrum Heart Rate Heart Rate Variability Industry, Science and Medical Personal Area Network Personnel Device Photoplethysmogram Polyvinylidene Diﬂuoride Seismocardiography Samples Per Second Traditional Chinese Medicine Traditional Chinese Pulse Diagnosis
xii

1. Introduction
Recently, more and more medical researchers are focusing on cardiac diseases, because the illnesses of human heart cause a signiﬁcantly number of deaths in the world [24,25]. Therefore, it is very important to develop early diagnosis of cardiac diseases which can help the physicians ﬁnd out the potential heart problems of patients and prevent severe cardiac diseases, which may ultimately kill the patients. Heart rate (HR) is a very common and basic physiological signal from human body, and is also of high relevance in clinical diagnoses. By tracking patient’s HR and analyzing the heart rate variability (HRV) over the long term, physicians can make relevant assessment regarding the heart status, and accordingly diagnose abnormal circumstances of the patient’s heart [26, 27]. Numerous techniques that can monitor HR have been developed by physicians and scientists, such as Electrocardiography (ECG), Seismocardiography (SCG) and so on [28–33].
Moreover, as the aged population is growing and the cost of health care is increasing, it is important to develop cost-effective and resource efﬁcient techniques for individual health care. Remote monitoring of physiology signals is one of these techniques. By reading signals such as HR acquired from a patient’s body, physicians can monitor the health status of the patient, and even make relevant diagnoses. This technique have the potential to signiﬁcantly optimize the limited resources of health facilities, by avoiding spending unnecessary resources on repetitive tasks, which can be supplanted by more automated methods. Toward this end, a modern technology platform referred to as body area network (BAN), which is based on the state-of-art electrical engineering, has been advocated in recent years for remote and personalized health care. This chapter motivates this approach by providing a brief overview of existing methods for HR detection, and a general idea of BAN.
1

1.1 Common Non-invasive Cardiac Monitoring
There are many methods to detect and monitor the heart beat of a human body. These methods can be divided into two general classes, based on the manner of being applied on human body: invasive and non-invasive methods. Invasive methods can detect some arterial diseases, but they necessitate the insertion of some catheters into the heart through blood vessels, which make them typically only feasible in large medical facilities with well-trained physicians, and not suitable in individual health care applications. Compared with invasive methods, non-invasive methods typically utilize various electrical sensors placed conveniently on the surface of the human body, with the appropriate signal acquisition and processing performed, so as to deliver sufﬁcient information of heart health for monitoring and diagnosis [34].
One of the most common methods for non-invasive cardiac monitoring is ECG. This method uses electrical circuit and at least two electrodes which are attached on various places on human body to measure the electrical activities of the heart. Because of the conductivity of human skin, the weak electric signal generated by heart beat can be detected by electrode pads attached on human skin. The signal is ampliﬁed and ﬁltered by conditioning circuit to recover the heart health status [35–38]. A typical ECG signal of one heart beat period is shown in Figure 1.1. There are several peaks in the waveform. By calculating the interval time of the peaks, typically the R-R interval, HR can be readily obtained, and some cardiac diseases can also be detected using this quantitative metric, as shown in Figure 1.2.
2

Figure 1.1: Normal ECG Signal Waveform [6]
Figure 1.2: R-R Interval of Two Heart Beats In ECG Waveform [6] Because of the technological development in microelectronics, SCG is another reasonable noninvasive cardiac monitoring method which has been studied in recent years. This method utilizes one 1D or 3D accelerometer to detect the mechanical information produced by heart beat [39–43]. In actual applications, SCG is usually performed with ECG simultaneously. A typical SCG signal
3

with ECG is shown in Figure 1.3. The SCG waveform contains many more peaks than a ECG waveform, so the ECG is often used to facilitate recovery of timing reference [7].
Figure 1.3: Typical SCG Waveform And Comparison With ECG Waveform [7]
1.2 Wrist Pulse Signal Sensing
Besides ECG and SCG, the wrist pulse signal is another way to extract HR information from the human body. There is one radial artery in each human wrist, connecting hand vessels and heart. When the heart is beating, blood ﬂows past the artery, and the information of heart beat can be obtained by measuring the pulse signal which is synchronous with heart beat in wrist artery. The radial artery is located near the skin surface of the wrist, with other soft tissues of the human body. Accordingly, this wrist location is a suitable anatomical candidate for the detection of blood ﬂows in the artery by electrical methods. The illustration of the radius artery in the human wrist is shown in Figure 1.4.
4

Figure 1.4: Radius Artery In Human Wrist [8]
Furthermore, the wrist pulse signal not only has the suitable promise for monitoring HR, it can also be potentially used for acquiring broader physiological information for clinical diagnoses. Traditional Chinese Medicine (TCM) is a unique medical theory system which has persisted for thousands of years in Chinese culture. The principle of TCM is based primarily not on the effects of chemicals to human tissues as in Modern Western Medicine, but is instead focused on the balance of Yin Yang and the movement of Qi in human body [44, 45]. While the validity of these approaches may be subject to debates, there are also many accepted common features with Modern Medicine, especially in terms of clinical diagnoses based on physiological signals. In particular, similar to Modern Medicine, TCM also makes diagnoses from the signals appearing
5

on the patient’s body, such as color change, sweating, swelling, breathing and so on. However, the most fundamental diagnosis of experienced TCM physicians involves the pulse vibration on the patient’s wrist artery, which is also called Traditional Chinese Pulse Diagnosis (TCPD). In this method, the TCM physician uses three ﬁngers to feel the pulse vibrations on the patient’s wrist, then makes a diagnosis through the feedback of his or her ﬁngers. Figure 1.5 illustrates the principle of TCPD used by TCM physicians.
Figure 1.5: Principle of Pulse Diagnosis and “Cun”, “Guan”, “Chi” Position [9]
From an anatomical and physical perspective, the wrist pulse signal is a series of mechanical vibrations which can be treated as a continuous waveform caused by heart beats and ﬂow of blood in wrist artery. For experienced TCM physicians, this pulse waveform can be described in ﬁve aspects which can reﬂect body and health status of human: Depth, Frequency, Rhythm, Quality and Strength [46]. Also, the waveform can be classiﬁed into several patterns to help the diagnosis [10, 47]. Figure 1.6 shows several typical patterns of wrist pulse drawn by TCM physicians. From this ﬁgure, it can be seen that there are signiﬁcant differences between each patterns. It is not surprisingly that a TCM physician can make diagnosis of many kinds of disease or abnormal status such as heart disease just by putting his three ﬁngers on the wrist of the patient without any other tools [48]. This achievement suggests that a plausible way to manage people’s health status in homes, as inspired by the TCPD, may be realized with modern electronics by measuring the wrist pulse signals, using a low-cost and portable device which can be used in patients’ homes.
6

Figure 1.6: Several Typical Patterns of Wrist Pulse [10]
However, it should be noted that the classical TCPD is somewhat of a subjective qualitative nature. All the TCPD is made by the experience, knowledge and feeling of the physician, and not actual objective physiological data reporting as in modern medicine diagnoses. It requires highly trained physicians who have been in this area for many years. This means that the number of physicians who can make accurate diagnoses through TCPD remains on a rather low level. A patient who wants to receive pulse diagnosis from an TCM physician must book an appointment and arrive the clinic in person. On the other hand, an experienced TCM physician has to spend long time in making diagnosis for each patient, which means lower efﬁciency and longer waiting time. Furthermore, even for the most experienced physicians, misdiagnosis caused by many facts of interference may happen. These two problems restrict the application of TCPD in the ﬁeld of individual health care.
The solution of these problems is modern electronics and signal processing technology. A Body
7

Area Network (BAN) can be used to transmit pulse signal data acquired by sensors and electric circuits which are mounted on the patient’s wrist to physicians in medical facilities from patient’s home for diagnosis. The patient does not need to be in the treating room and the physicians can arrange their time for diagnosis more ﬂexible to optimize the efﬁciency of medical service.
To avoid misdiagnosis and help physicians making diagnosis quickly, ﬁnding out the connections between wrist pulse signal and patient’s actual health status is the most important research direction. A modern data processing method which is widely researched today called pattern recognition is a powerful tool to solve this problem. Some researchers are working in this ﬁeld and introduced algorithms to process wrist pulse signal [49, 50]. General steps of pattern recognition system for TCPD are shown in Figure 1.7. The sensors acquire abundant wrist pulse signals as sample data. The features will be generated and selected in the next two steps in the pattern recognition system. Then a classiﬁer will be designed to perform classiﬁcation stage which make the diagnosis based on the features of the signals. The ﬁnal but signiﬁcant part of the system is system evaluation which needs participation of experienced physicians. By comparing the diagnosis made by the system and the experience accumulated in their professional lives, the physicians will assess the accuracy of the diagnosis of the system. Researchers can modify the algorithm of each step in the system according to the feedback by physicians, till the diagnosis made by system meet the ones made by these physicians, i.e., the ground truth.
Figure 1.7: Steps of Pattern Recognition Method of TCPD
Some researchers with TCM and electrical engineering background are doing research in this 8

area [51, 52]. However, a speciﬁed measurement system which can sense, acquire, and transmit wrist pulse signal is the ﬁrst but very critical step of the this goal. After all, obtaining sufﬁcient accurate data conveniently is the fundamental of data processing algorithm design. This thesis focuses on the ﬁrst step, signal sensing, acquisition and transmission.
1.3 Wireless BAN
Also known as Body Sensor Network (BSN) or Personal Area Network (PAN), BAN becomes increasingly important in modern health monitoring, medical applications, and entertainment, among many applications. The general deﬁnition of BAN is a network which contains sensors on human body. This network has the ability of signal processing and data communication. The basic element of BAN can be called node which means an stand-alone device with communication ability in the network. From the point view of function, each device in one BAN can be classiﬁed into three types of nodes: Personal Device (PD), Sensor and Actuator [11, 53].
PD is the device which collects all the data transmitted from sensors or sends data to actuators. This node acts as the gateway between a BAN and larger scale networks to realize the information exchange. This node can also be called Body Control Unit (BCU).
Sensors are fundamental devices of BAN. The term “Sensors” is referring to the nodes which are responsible for measuring physiological signals of human body and transduce these signals into electrical signals which can be collected, transmitted and processed easily. The type of sensor depends on which signal it measures [54].
Actuator acts as the interacts part of the system. After receiving the data from sensors through BAN, the upper-level center might send some commands to actuators to implement some functions, such as control a pump to inject correct dose of medicine into human body.
Normally, BAN communications can be divided into three different tiers as Figure 1.8 shows: [11, 55]
9

• Tier1: Intra-BAN communication • Tier 2: Inter-BAN communication • Tier3: Beyond-BAN communication
Figure 1.8: Tiers of Body Area Network [11] The Intra-BAN tier is the basic layer of BAN. This layer is on human body and all three types of nodes mentioned above are belong to this tier. The sensors collect physiological signals then send them to PD. The data will be forwarded to upper tier by PD. This tier is also the fundamental network of BAN. The communication between PD and other Access Points (APs) can be named Inter-BAN tier. This tier performs as an interconnector of Intra-BAN and a wider range network, also provides network links between several individual Intra-BANs for data sharing. This tier of network is
10

often placed around Intra-BAN while the communication range is from tens to hundreds of meters. This tier makes the physiological data easily accessible by database through large scale network such as the Internet, or by other PDs mounted on human bodies.
The tier above Inter-BAN is Beyond-BAN. This tier serves as a wide and large-scale network which provides data from Inter-BAN to medical institutions and physicians for diagnosis or monitoring applications. Also, doctors can send commands or notiﬁcations to devices on patients from this tier. Communications for this tier are often provided by Internet, cellular network, etc.
1.4 Motivations and Problem Formulation
Imagine the scenario that a patient is suffering from some cardiac disease: he needs his heart beat recorded frequently, to monitor the health status of his heart. Typically, he has to visit the physicians in the medical facility, attach some sensors, for example, electrode pads of ECG or accelerometer of SCG, on his body to some equipment by wires, then stay in the treatment room for several minutes. The physician analyzes the ECG or SCG waveforms acquired during that time, and makes diagnosis according to the results. That means the diagnosis is only based on the heart beat during that time, which might not reﬂect the patient’s health status through the full day.
In some better cases, the physicians will provide a portable device which can be mounted on patient’s body and record the ECG or SCG signal. This device records all heart beat information of entire day, which can reﬂect the heart status change in patient’s daily life. However, patient has to wait for the results after the physicians can access the data recorded. Waiting time and inconvenience obstruct the promotion of health care service.
To solve these problems described, new devices which can monitor heart beat signal in long time and accelerate the progress of diagnosis are necessary for health care applications. These devices measure the heart beat signal continuously and transmit the data to physicians in medical facility in long range simultaneously for real-time diagnosis. A lot of time will be saved, the patient and physicians will feel convenient, much medical resources will be distributed to other urgent treatment.
11

Moreover, not only heart beat information but also other physiology signals from human body are crucial for comprehensive diagnosis. That means more signals acquired from patient’s body, more accurate the diagnosis will be. A device which can measure multiple signals such as body temperature, blood pressure, glucose, along with heart beat signal will improve the accuracy of diagnosis.
Furthermore, even in modern society, TCM still performs as an essential part of medical service. Many researchers are interested in analyzing and explaining the principle of TCM by modern science and technology. Using state-of-the-art data processing methods to interpret TCPD is a representative research area. A measurement system which can acquire and transmit wrist pulse signals as TCPD describes will help physicians to study the ancient medicine by modern scientiﬁc tools.
1.5 Objectives of Thesis
The purpose of this thesis is to design a pulse signal sensing system which achieves the goals mentioned in Section 1.4. This system will help physicians to monitor patients’ heart rate by measuring wrist pulse signal over the network with higher efﬁciency. The main functions of this system prototype are described as follows:
• Measure pulse signals on wrist non-invasively for HR monitoring. • Acquire three-position wrist pulse signals following the principle of TCPD for further re-
search. • Has feature of scalability for transmitting multiple physiological signals at the same time. • Transmit digital signal from human body to physician’s terminal over a wireless network. • Reconstruct, display and save the pulse signal waveforms.
1.6 Thesis Organization
The remainder of this thesis is organized as follows. Chapter 1 introduces the background and motivation of the work, then proposes the objectives of this thesis. Chapter 2 ﬁrst provides
12

an overview of the whole system design — including a literature survey on pulse signal sensing methods, body area networks, and the design criteria of system — then analyzes the sensors and network protocols that can be selected for design. The detailed hardware and software design of the system is presented in Chapter 3. Chapter 4 describes experimental steps and setups, then presents the experiment results acquired from two subjects and performs analysis. Finally, future works are discussed and conclusions are made in Chapter 5.
13

2. Design Overview
This chapter reviews the literature with a focus on pulse signal measurement and BAN, summarizes challenges when designing a wireless pulse signal measurement system, and proposes system design and selects components according to speciﬁcation requirement.
2.1 Literature Review
2.1.1 Pulse Signal Detection Methods
Several ways to detect the pulse signal of blood vessel on human’s wrist have been proposed. Goyal, Krittika and Agarwal, Ravinder proposed a measurement system by piezoresistive pussure sensor MPXM2053D for wrist pulse diagnosis in [56]. Thakkar, Suket and Thakker, Bhaskar used the same sensor in the system introduced in [57].W. Zuo, P. Wang and D. Zhang introduced three main methods used for wrist pulse signal detection in [12]. Figure 2.1 shows the principle of measurement by pressure senor. Pulse waves are generated by the expulsion of blood with heart contraction into the aorta, resulting in the dilatation of the vessel [58]. Because the blood ﬂow is a closed loop, any pressure pulse generated by heart beat will affect each point of this loop. As described in Section 1.2, the radial artery is closed to the skin which is soft and elastic, the changes of radial artery can be measured from the skin non-invasively. A typical wrist pulse measuring system based on pressure sensor is introduced by W. Zhou in [14]. The piezoresistive pressure sensor MS5536C is used in this design for wrist pulse signal measurement. However, this type of sensor is designed for air pressure and altimeter measurement speciﬁcally, which causes mechanical modiﬁcations are needed for wrist pulse signal measurement. The dimension of this sensor is shown in Figure 2.2. It is still not small enough to be mounted on the wrist conveniently. Figure 2.3 shows a typical wrist pulse waveform collected by this system. Another system which
14

used similar principle is described by Kabigting, Jessica ET et. al. in [59]. The sensors used in this system has to be immersed into water to measure the pressure generated by wrist pulse.
Figure 2.1: Measurement Mechanism of Pressure Sensor [12]
Figure 2.2: Dimension of MS5536C Pressure Sensor [13] 15

Figure 2.3: Typical Waveform of Wrist Pulse Collected by Pressure Sensor [14] Figure 2.4 shows the measurement mechanism of photoelectric sensors. The principle of this method is using a light source to irradiate of radial artery in human wrist. When the blood ﬂow in the blood vessel is changing, the reﬂected light from the artery will change accordingly. The intensity of reﬂected light depends on the volume of variation of blood ﬂow. Compared to normal visible light source, IR can penetrate deeper so it often be used as the photoelectric sensor to measure the wrist pulse [60]. D. Wang, D.Zhang and G.Lu introduced a detailed design of photoelectrical wrist pulse sensor in [15]. This sensor has nine photoelectric emitters and nine photoelectric detectors as array, shown in Figure 2.5. Figure 2.6 shows a typical wrist pulse waveform collected by photoelectric sensor system.
Figure 2.4: Measurement Mechanism of Photoelectric Sensor [12]
16

Figure 2.5: Top View of Photoelectric Sensor Array And The Real Object [15]
Figure 2.6: Typical Waveform of Wrist Pulse Collected by Photoelectric Sensor [15] Ultrasonic sensor is another common seen method to measure the wrist pulse signal, shown in Figure 2.7. An ultrasonic transmitter and a receiver are placed on the skin of human wrist. Ultrasonic wave emitted by the transmitter is reﬂected by the the artery to the receiver with a frequency-shift, which can be used to calculate the velocity of blood cells in radial artery [61]. A ultrasonic wrist pulse measurement system is introduced by F. Wang et. al. in [16], shown in Figure 2.8, (a) is active antenna wrist band, (b) is frequency discriminator. It can be found that the sensor is wearable but the whole system is so large, which means it has no practical value.Figure 2.9 shows a typical wrist pulse waveform collected by ultrasonic sensor system. An, Yong-Jun et. al. also introduced another ultrasonic sensor system for wrist pulse sensor in [62].
17

Figure 2.7: Measurement Mechanism of Ultrasonic Sensor [12] Figure 2.8: Photograph of Ultrasonic Wrist Pulse Sensor [16]
18

Figure 2.9: Typical Waveform of Wrist Pulse Collected by Photoelectric Sensor [16] There are several researchers are devoting to wrist pulse signal measurement for TCPD purpose [17–19]. Chu, Yu-Wen et al. used a Bi-Sensing pulse diagnosis instrument (BSPDI) which can sense three positions on the wrist at the same time for measurement in Figure 2.10 [17]. Bae, Jang Han et al. used a type of single channel pulse tonometric device which is shown in Figure 2.11 to measure the signal [18]. Chang, Hung and Chen, Jia-Xu developed a 9x9 piezoelectric pressure sensor array to detect wrist signal as Figure 2.12 shows [19]. Another device developed by Spulak, Nathan et. al. which has three sensors and adjustable frame in [20] is shown in Figure 2.13 and the waveform acquired is shown in Figure 2.14. It can be seen that the instrumentation in these experiments are too huge in dimensions and complicate for using in home by individuals.
19

Figure 2.10: Bi-Sensing Pulse Piagnosis Pnstrument (BSPDI) [17]
Figure 2.11: Single Channel Pulse Tonometric Device [18] 20

Figure 2.12: 9x9 Piezoelectric Pressure Sensor Array [19]
Figure 2.13: Three In-line Sensors and Linear Actuators [20] 21

Figure 2.14: Wrist Pulse Waveform Acquired By Three In-line Sensors and Linear Actuators [20]
However, the existing systems are not suitable for practical use with health care in home due to the dimension, function, cost and complexity of system. The method which is similar to Traditional Chinese Pulse Diagnosis is pressure measurement but the pressure sensor has too large dimension that is difﬁcult to be used in a portable system. Most of this kind systems do not concern wireless data transmission because they are too inconvenient to be moved around or carried by patient. This point will be addressed in this thesis, because a practical system in daily life is the main goal of biomedical instrumentation development.
2.1.2 Wireless BAN Applications
With the growth of population and increased demands of medical service, one way to improve quality of medical service is using remote diagnosis and monitoring by modern network communication technologies. Researchers and developers around the world have proposed different applications of BAN on biomedical signal sensing area. As the key features, such as data rate, power consumption, security being improved, the applications of BAN in biomedical sensing area will be more extensive in the future.
As described in Chapter 1, ECG is the most important signal of human body to reﬂect the heart health status. This kind of signal which is generated by the heartbeat attracts physicians because of the relationship between ECG signal and heart disease. By analyzing ECG signal collected from patient’s body, it is convenient to make a correct and fast diagnosis. The combination of wearable ECG circuits and wireless BAN provides a great solution for remote and continuous heart monitoring. There are different BAN systems which can collect and transmit ECG signal by wireless communication network are described in literature. Most of these applications are based
22

on ZigBee network because of the features of low-power and easy to use [63–65]. A. Voykin designed a BAN system to monitor ECG signal based on FPGA and ZigBee transceivers in [6]. Some of systems for this application use Bluetooth network instead of ZigBee for better power consumption performance and compatibility with mobile devices [66–69]. Besides ECG, another signal to reﬂect heart rate is PPG (Photoplethysmogram) which uses LED and photodiode to detect blood ﬂow status in vessels. Wireless BAN can also be used to transmit PPG signal, as described in [70,71]. Some other biomedical signals can be transmitted by wireless BAN for online monitoring, such as blood pressure [72, 73], SpO2 [74, 75] and motions [76]. The BAN can also be used in wireless remote diagnosis applications, for example, help physicians to diagnosis diabetes [77]and sleep apnea [78].
2.2 Design Criteria
This design includes Intra-BAN tier, Inter-BAN tier and Beyond-BAN tier at the same time. However, in the Inter-BAN tier only the communication between PD and AP is studied for the ﬁrst step because it is the basic function of the whole system. In the future, more work will be done in the ﬁeld of communication between individual PDs. There are several design criteria of the system prototype:
• The magnitude of vibration generated by blood vessel on human’s wrist is rather small, which means the sensor should be sensitive enough to detect the vibration without losing any detail of the signal.
• The system should be wearable, which means all the components of the system should be small enough to be placed on human body conveniently.
• The cost of the system should be as low as possible for the future implementation in commercial applications. That require the system be built by Off-The-Shelf components for a cost-effective solution.
• The system should have scalability for future applications. Not only wrist pulse signal sensors but also other wearable sensors can be combined with this system to collect and transmit multiple types of biomedical signals for wireless medical service.
23

2.3 Challenges
As the design criteria described in previous section, there are four major challenges which are listed below when designing the actual system prototype.
2.3.1 Selection Of Wrist Pulse Sensor
There are several types of sensor based on various principles can be used to detect wrist pulse signal as described in Section 2.1. Each of them has its pros and cons. Due to design criteria, this system is a wearable one so the sensor’s dimension should be as small as possible. It should be deployed on human’s wrist without any uncomfortable feeling and interference to patient’s daily life. Moreover, the selected sensor should be robust enough to ﬁt any operation environment and has a relative low price for large scale commercial use.
2.3.2 Selection Of Network Protocol
When selecting the network protocol, some factors should be taken into consideration. The data rate is the most vital speciﬁcation of wireless network protocols. In general, the data rate should be as high as possible for bulk data transmission. However, the system is designed based on battery power for wearable purpose, only pursuing high data rate is not appropriate. A trade-off between data rate and power consumption is important here. Furthermore, the system is designed to be a scalable one, which means the wireless network protocol selected here should be opening and being widely used. So that sensor nodes and PDs designed by different parties can connects each other without trouble.
2.3.3 System Architecture Design
The design of system architecture need to be considered carefully. There are three tiers of wireless networks are contained in the system, each has its own use and characteristic. The design of system architecture should divide the three tiers clearly and keep the system as simple as possible for purpose of reliability.
24

2.3.4 Sensing Circuit Design
Sensing circuit mainly includes two major parts, conditioning circuit and A/D converter circuit. The output signal generated by sensor might not be able to be digitalized directly, because of its output form, amplitude and interference contained in the signal. A conditioning circuit must be designed in the system to transform the sensor output signal to a voltage analog signal in suitable amplitude, so that the signal can be digitalized easily. The A/D converter circuit is used to transform the analog signal to digital signal which can be transmitted by wireless network. When designing the A/D converter circuit, the balance between sample speed, numbers of channels, sample precision and power consumption should be considered carefully.
2.4 Pulse Sensor Selection
Our goal of this system is design a portable and affordable device which can be mounted on human body easily and monitor HR for long time in home. That means the sensors in this system should has tiny dimension, low power consumption and the price is low enough for further application. Also, the output of the signal should be easy to collect and read for diagnosis.In this design of wrist pulse signal measurement system, some different types of sensors were purchased and compared as the candidates. These sensors include load cell, medical pressure sensor, FlexiForce force sensor and PVDF sensor.
2.4.1 Load Cell
Load cell shown in Figure 2.15 is a kind of weight sensor which has been widely used in industrial areas for tens of years. This sensor contains a Wheatstone bridge which has one or two resistors sensitive to external force. Normally, the resistors stay on constant resistances and the output voltage won’t be changed under a constant excitation voltage. When the external force is applied on the sensor pad, the resistances of the resistors are changed and the bridge circuit is unbalanced. The output voltage of the sensor will change linearly to reﬂect the volume of force applied. Usually a differential ampliﬁer and a high-resolution A/D converter is used to measure the change of output voltage. After long time developing and applying in many scenarios, the
25

load cell has high performance such as high precision, fast response, high linearity, and the signal measurement circuit is mature and easy to use. However, the drawbacks of load cell are also obviously. The core of the load cell is very fragile and can be damaged by environment factors easily, so the steel shell of the core must be tough and heavy to protect the core, and the dimension of the shell is relatively large. It is hard to ﬁnd a load cell has a dimension of human’s tip on the market. This factors cause the load cell difﬁcult to be mounted on human’s wrist area, especially use three individual load cells to measure three nearby areas.
Figure 2.15: Load Cell 2.4.2 Medical Pressure Sensor
Medical pressure sensor which is shown in Figure 2.16 is a kind of commercial component based on piezoresistive sensing principle. This type of sensor is designed for medical equipment to measure the liquid or gas pressure in or out of human body [79]. Same as the load cell, the pressure sensor is driven by DC voltage and output a voltage signal changed with force applied on the sensor. Compared with the load cell, the medical pressure sensor has much smaller dimension
26

and less weight which make it can be mounted in the wrist area of human body. However, because this kind of sensor is designed for sensing liquid and gas pressure, the sensing area is built by soft gel which cannot contact human body directly or the sensor will be damaged very soon. A solution of this drawback is design a tool to convert wrist pulse force to liquid pressure, such as the modiﬁcation introduced in [14]. Obviously, it will cause the system design more complicated signiﬁcantly.
Figure 2.16: Medical Pressure Sensor 2.4.3 Force Sensor
In Figure 2.17 is the FlexiForce force sensor which is made by Tekscan [80]. This type of force sensor is also based on piezoresistive principle but is very thin and ﬂexible. The sensing area of this sensor is made with two silver ink electrodes and one polyester piezo material between the two electrodes. When the force is applied on the sensing area, the resistance between the electrodes will change. This sensor can be treated as a resistor in an invert ampliﬁer to measure the change of resistance. Although this sensor has some advantages such as light-weight, tiny dimension, easy to
27

install, robust to environment factors, there are still some drawbacks with it. The linearity of this sensor is relative low than other sensors and the hysteresis is relative high, which means it can not response to the rapid vibration waveform of wrist pulse. To measure the resistance of the sensor, negative power supply has to be contained in measurement circuit and the complexity of the design will be increased.
Figure 2.17: FlexiForce Sensor
2.5 Wireless BAN Protocol Comparison and Selection
There are several wireless network technologies developed which have been widely used in different data transmission areas that can be chosen as the BAN communication network, including IEEE 802.15.4 (ZigBee), IEEE 802.15.1 (Bluetooth), IEEE 802.11 (Wi-Fi), IEEE 802.15.3 (UWB), Bluetooth Low Energy (BLE). Each of them has signiﬁcantly different characteristics such as communication distance, data rate, power consumption. Table 2.1 lists the main features of these communication technologies [1–3].
28

Standard

Bluetooth

UWB

ZigBee

Wi-Fi

BLE

IEEE spec.

802.15.1

802.15.3

802.15.4

802.1 1a/b/g

N/A

Frequency band

2.4 GHz 3.1-10.6 GHz 868/915 MHz; 2.4 GHz 2.4 GHz; 5 GHz

2.4 GHz

Max signal rate

1 Mb/s

110 Mb/s

250 Kb/s

54 Mb/s

1 Mb/s

Nominal range

10m

10m

10-100m

100m

<50m

Max data rate

0.72 Mb/s 110 Mb/s

250 Kb/s

54 Mb/s

0.27 Mb/s

Max number of cell nodes

8

8

>65000

2007

implementation dependent

Encryption

E0

AES

AES

WEP, AES

AES-CCM

Table 2.1: Comparison of Wireless Network Protocols [1–3]

From Table 2.1, it can be found that the UWB and Wi-Fi have signiﬁcantly higher data rates than others, which make them more suitable for large data transmission. However, if the power consumption which is more important than data rate in the applications of BAN is taken into consideration, these three technologies are not the right choice of the human body applications. Table 2.2 lists the power consumption of typical chipsets of each wireless protocol [4].

Standard

BLE Bluetooth UWB ZigBee Wi-Fi

Chipset CC2540 BlueCore2 XS110 CC2520 CC3000

VDD(volt) 3.0

1.8

3.3

3.0

3.6

Tx(mA)

21.0

57

˜227.3 25.8

190.0

Rx(mA)

15.8

47

˜227.3 18.5

92.0

Table 2.2: Power Consumption of Typical Wireless Chipsets [4]

Bluetooth is a short-distance wireless communication technology which use 2.4GHz ISM (Industry, Science and Medical) radio band by FHSS (Frequency-Hopping Spread-Spectrum). This protocol is developed by SIG and standardized by IEEE as IEEE 802.15.1 standard. Normally, Bluetooth provides 1Mbit/s in-the-air data rate, but the actual data throughput is limited by sys-
29

tem conﬁguration and communication between microcontroller and module to 720kbps maximum. Bluetooth can support either point-to-point and point-to-multipoint topology, with one point is the host and the others are slaves. In the protocol, maximum 8 points can be set in one Bluetooth network, which means one host and seven slaves. Because of the features of Bluetooth, this technology is widely used in a lot of commercial areas, such as remote control, voice transmission, short range data exchange and biomedical sensing network mentioned in previous section. This is also called Classic Bluetooth and be contained in Bluetooth 4.0.
Bluetooth Low Energy, also known as BLE, was proposed by SIG in 2010 as a part of Bluetooth 4.0. Similar to Classic Bluetooth, BLE operates on 2.4Ghz ISM radio band. Compared with Classic Bluetooth, BLE has wider communication range, lower data rate and less power consumption, as table shows. This new version of Bluetooth has speciﬁed plenty of interface proﬁles for solutions of health monitoring, such as health thermometer, heart rate and glucose, etc. These features make BLE suitable for the low speed health monitoring applications especially.
Unlike the Bluetooth, ZigBee cannot be seen in consumer electric products too often. This wireless communication technology is developed mainly focus on industry automatic data acquisition and remote control with low-power, short-range and high data rate. ZigBee is standardized by IEEE as IEEE 802.15.4 standard, operated on three different bands with different maximum data rate: 250 kbps @2.4 GHz, 40 kbps @ 915 MHz and 20 kbps @868 MHz. One of the highlights of ZigBee is the capability of the network which can have more than 65000 nodes in one ZigBee mesh in maximum. This feature makes ZigBee became very popular in industrial ﬁeld applications where often need huge number of nodes to collect data and execute commands.
IEEE 802.15.6 which was designed speciﬁcally for wireless BAN and describes physical layer and MAC layer for wireless BAN was completed in 2012. It deﬁnes three different physical layers, called Narrow Band, Ultra Wide Band and Human Body Band. Each of them operates on different radio frequency bands and has different data rates and characteristics. Compared with other IEEE standards used in wireless BAN area, it has more ﬂexible network topology, higher data rate and lower power consumption. However, commercial off-the-shelf modules which support this state-of-art technology are still unavailable on the market, which restricts the applications of this standard.
30

According to the differences of biomedical signals in sensing applications, the requirement of features of BAN is variable. Some of the common requirements of BAN in different applications can be illustrated in the Table 2.3 [5].

Sensor node
Glucose sensor ECG SCG SpO2
Blood pressure Music for headsets Forgotten things monitor Social networking

Date rate
Few kbps 3 kbps 2 kbps 32 bps <10 bps 1.4Mbps 256 kbps
<200 kbps

Sensitive to Latency
Yes Yes Yes Yes Yes Yes No Low

Power Consumption
Extremely low Low Low Low High
Relatively high Low Low

Privacy
High High High High High Low Low High

Table 2.3: Requirements of BAN Network in Applications [5]

From Table 2.3, it can be noticed that the common requirement is low power consumption and latency, high privacy, and the requirement of data rate is not so high for most of the applications. When making selection of wireless protocol, the requirement of the application must be taken into consideration ﬁrst. Other factors such as cost and market availability should be considered also.
According to the portable wrist pulse signal measurement system presented in [14], the sample rate of the pulse signal is 20 SPS (Samples Per Second) and the experiment result shows the performance is enough. In the SCG measurement system which use Bluetooth to transmit data to smartphone described in [81], the sample rate is set to 40 SPS and shows good performance. In our system, there are three channels to measure the signals and 16-bit A/D converters are used to digitalize the signal. It can be calculated that each sample has 6 bytes data. That means when the sample rate is 40SPS, the data rate is 240 bytes per second which can be satisﬁed by all the protocols listed in Table.
It also can be known from Table 2.1 and Table 2.2, compared with other protocols, BLE has the lowest power consumption when satisfying the demand of data rate. Considering the choices of BLE modules on commercial market and the prices of BLE modules are reasonable, BLE protocol is the ideal selection for the Intra-BAN tier of this wireless BAN project.
For the Inter-BAN tier, the network should have the features of high data throughput and easy
31

accessibility. Among the protocols listed in Table 2.1, Wi-Fi is the only one which has a widelyimplanted network already and can be accessed by computers and other devices easily with high speed. Through Wi-Fi network, data collected from sensors on patient’s body can be transmitted to APs in the Inter-BAN tier by PD, then be transmitted to the Beyond-BAN tier.
32

3. Proposed System Design
This chapter describes the detailed design of the entire system, including components selections, hardware design, embedded ﬁrmware coding and LabVIEW programming.
3.1 System Architecture
As described in Section 2.2, the system designed in this thesis is a wireless BAN system which has ability of measuring wrist pulse signal on human body and wearable sensors for other biomedical signals can be added into the system easily. That means the scalability of the system is vital. To achieve this goal, the sensors in the system are connected to PD by open network protocol so that any sensor node can be added into or removed from the system without any difﬁculty and the performance of entire system will not be inﬂuenced. The number of total sensor nodes depends on the wireless network protocol chosen. The architecture of the system can be illustrated by Figure 3.1.
Figure 3.1: System Architecture 33

Both Inter-BAN and Intra-BAN tiers which are introduced in Section 1.3 are contained in the system. The Inter-BAN tier of this system is the network connection between PD and wireless AP which provide broader network for data access. The Intra-BAN tier of this system refers to the wireless network connections between PD and sensor nodes which are located on human body. Each sensor node measures different physiology signals such as wrist pulse, ECG, blood pressure, glucose from human body independently, then transmit the data through Intra-BAN tier wireless network. After receiving the data from each sensor node, the PD forward all data to wireless AP through Inter-BAN network which has higher data rate, then other terminals such as desktop computers can access the data through Beyond-BAN tier network easily. One factor should be pointed out that there is only two sensor nodes, one PD and one terminal in this work, but in practical applications, there might be more than one devices in each tier of the whole system, depends on the speciﬁc requirement and scenario of applications. Figure 3.2 shows that the system designed here can be expanded to a large scale system by adding more sensor nodes, PDs, APs and terminals easily.
Figure 3.2: Expansion Of Designed System To Large Scale System
34

3.1.1 Sensor Nodes Sensor nodes are basic parts in the system, which are used to implement the function of biomed-
ical data acquisition. According to Figure 3.1, there are more than one sensor node in the system. One wrist pulse signal sensor node is set to measure the pulse signal and one ECG node is set for the comparison of wrist pulse signal and ECG signal. Some other sensor nodes can be added into the system for more signal measurement functions. However, due to the research prospective there are only two sensor nodes are included in the system. The detailed design of sensor node might be variable according to different kind of signal be acquired, but the typical structure of sensor node can be described in Figure 3.3. One sensor node can be divided to ﬁve parts which are essential by their functions. The electric signal generated by sensor from human body is conditioned by a conditioning circuit. The output of conditioning circuit is an analog voltage signal which has proper amplitude for analog-digital conversion by A/D converter. Digital data will be outputted by A/D converter to microcontroller through data bus such as SPI and I2C. After receiving digital data from A/D converter, the microcontroller will operate the wireless module to send the data to PD.
Figure 3.3: Structure of Sensor Node
3.1.2 Personal Device The PD is the central part of the system. All the signals collected by sensor nodes on body
are transmitted to PD by wireless network. Then the PD forwards the data to higher level wireless network which can be accessed by medical service provider. The PD does not acquire data from sensors directly but receive and send all data from all sensor nodes connected to it. That feature makes the PD must have strong communication ability both in Intra-BAN tier and Inter-BAN tier. In Figure 3.1, it can be seen that the PD are composed by one microcontroller and two separated
35

wireless modules. One module is used to communicate with sensor nodes via Intra-BAN tier network while the other one is used to communicate with wireless AP via Inter-BAN network.
3.2 Microcontrollers
3.2.1 Microcontroller of PD To transmit all the signals stably and efﬁciently, the device selected for PD should have strong
power of communication, also the feature of easy developing. In the system design, Raspberry Pi B2 is selected as the hardware platform of personal device. This type of popular micro computer board is based on Broadcom BCM2836 chipset which has four ARMv7-A cores running on 900MHz clock, provides much higher ability than common microcontrollers. There are four USB ports and one serial port included integrated on Raspberry Pi B2 so it can be connected to different communication modules easily. The operation system named Raspbian is developed based on Linux Debian and provides development environment of Python 3 which can be used to design the data communication code efﬁciently. Because of its features of high speed, multi-function, rich development resources and low price, Raspberry Pi has been implemented in various of Internetof-Things design to perform data communication [82–86].
The drawback of this type of micro computer board is the highly power consumption which is about 4 Watts from power supply. For further development and application, some other type of micro computer board with lower power consumption can be used, such as Raspberry Pi Zero. Figure 3.4 is the on board resources of Raspberry Pi 2B used in this design. One UART interface and one USB port are used to connect peripherals.
36

Figure 3.4: On Board Resources of Raspberry Pi 2B [21]
3.2.2 Microcontroller of Sensor Nodes When choosing the microcontroller platform of sensor nodes, some factors include dimension,
power consumption, capability, cost and developing method should be considered and well balanced. In recent years, an embedded Open-source electronic prototyping platform family named Arduino has been widely used to design BAN all over the world [87–91]. The smallest version of
37

Arduino family, Arduino Pro Mini is chosen for the sensor nodes of wrist pulse signal and ECG signal here. This board is designed based on Atmel ATMEGA 328P 8-bit microcontroller which consumes less than 4mA current when running at 8Mhz and 3.3V, that makes it can be used with a Li-on battery for long time [22]. The board has I2C, SPI and serial communication ports which can be used to link with other peripheral devices such as A/D converters and wireless modules. The dimension of the board is only 34mm by 19mm which can be combined with other measuring circuits and mounted on human body easily.
Same as other products of Arduino family, the Pro Mini can be programmed by Arduino IDE with easy-to-use libraries and a coding language which is based on C. The ﬁrmware codes are compiled in Arduino IDE environment and downloaded to board by USB-Serial cable easily. These features make the Pro Mini become an ideal platform of sensor nodes design. The block diagram is shown in Figure 3.5.
38

Figure 3.5: Block Diagram of ATMEGA 328P Microcontroller [22]
3.3 PVDF Sensor
To overcome the drawbacks of the different sensors listed above, a new type sensor is selected here for measuring wrist pulse signal. Polyvinylidene diﬂuoride, also called PVDF, is a highly non-reactive thermoplastic ﬂuoropolymer produced by the polymerization of vinylidene diﬂuoride. This material has strong piezoelectricity and are widely used in various industrial and research areas, such as wearable medical sensing [92], manufacture of tactile sensor [93], strain gauges [94, 95] and audio transducers [96].
39

Compared with traditional semiconductor piezoresistive pressure sensors, force sensor made of PVDF is more suitable for dynamic sensing because of its high response speed. Compared with piezoceramic transducers, PVDF sensor has more robust capability which make it cannot be damaged by force or shock easily. Also, the thickness of PVDF sensor is rather thin and the weight is almost can be ignored compared with normal pressure sensors and load cells, which makes it very easy to be mounted on subjects non-invasively. This feature make it more compliant in biomedical signal sensing and daily heath monitoring. Furthermore, because of the high production of PVDF material, the price of PVDF sensor maintains in a relative low level, make it possible to be widely used in low-cost biomedical sensing applications.
Figure 3.6: PVDF Sensor The PVDF sensor used in this system is produced by TE Connectivity, bought from Digikey, shown in Figure 3.6. The type of sensor is DT series which is designed for sensing contact forces, recording the time of event and counting the number of impacts, also can be used to make customized sensor element in variety applications [97, 98]. The structure of this PVDF sensor is
40

shown in Figure 3.7. In the center of the sensor is the PVDF material which performs the mechanoelectrical conversion. The piezo strain constant d33 is -33 pC/N, which means the electric charge generated by the sensor is proportional to the force applied on the 3-axis in Figure 3.7. Two electrodes printed by silver ink are placed on both sides of the PVDF material. The outside of the electrodes are polyester ﬁlms to protect the PVDF material and electrodes. Two metal pins are riveted on each electrode to connect wires between sensor and measurement circuit. When wrist pulse is applied on the surface of the sensor, electric charges will be generated by PVDF material. The charges then move to measurement circuit through silver ink electrodes and pins. The length of sensing area of the sensor is 15mm and the width is 10mm, just close to the size of ﬁnger tip used to feel the wrist pulse. This PVDF sensor is ﬂexible sensor which can be bent to ﬁt the shape of wrist surface, that makes it can pick the details of the pulse signal as much as possible.
Figure 3.7: Structure of PVDF Sensor [23]
3.4 Wireless Module
As discussed in the analysis and comparison in Section 2.4, Bluetooth Low Energy was decided as the network protocol in Intra-BAN tier for data communication between sensor nodes and PD, and Wi-Fi was selected as the network protocol in Inter-BAN tier and Beyond-BAN tier for data communication between PD and wireless AP.
The Wi-Fi module used in this design is a miniature USB Wi-Fi module which is common on 41

digital market. This module is designed based on Realtek RTL8188 chipset, which support IEEE 802.11b/n/g standard in a tiny dimension. The most important advantage of this module is the fully support from Raspberry Pi and Raspbian OS. Also the module has very low price and small dimensions which meet the design criteria perfectly.
A fully integrated Bluetooth module FSC-BT836 made by FEASYCOM is selected as the wireless module between sensor nodes and PD. This Bluetooth module is designed based on Realtek RTL8761 chipset for applications such as heath & medical devices, measurement and monitoring system. It is fully compatible with Bluetooth 4.0 dual mode protocols and has small dimension and low power features. One module can be conﬁgured to master or slave role in different communication applications, so both PD and sensor nodes can use the same model of module with modiﬁcation of software only [99]. The BT836 module provides several communication ports between itself and microcontrollers, such as UART, I2C, SPI and USB. Considering the complexity of hardware and software design, the data communication between the module and Raspberry Pi or Arduino Pro Mini is through UART port. Figure 3.8 shows the block diagram of the FSC-BT836 module.
Figure 3.8: Block Diagram of FSC-BT836 Bluetooth LE Module
42

3.5 Measurement Circuit
The function of measurement circuit is converting the electric charge to voltage signal which can be measured by A/D converter. This circuit can be divided into three stages: charge ampliﬁer, voltage ampliﬁer and low pass ﬁlter. There are three same channels in the circuit for three sensors on different wrist positions. Figure 3.9 shows one channel of measurement circuit. The charge ampliﬁer in the circuit is the ﬁrst stage, composed by ampliﬁer U1B. This ampliﬁer converts electric charge signal from sensor to voltage signal. Capacitors C5 and C8 are set to prevent ampliﬁer being interfered from common-mode voltage of sensor, also prevent sensor being interfered by bias voltage of ampliﬁer. R7 is used to release the charge accumulated on sensor to prevent the saturation of the sensor. C1 is the feedback capacitor which converts the charge from sensor to voltage and its capacitance determines the output level of the ampliﬁer. Feedback resistor R1 is used to avoid saturation of C1. R11 is a bias resistor to provide DC path for ampliﬁer’s bias voltage and balance the system impedance. C9 is a balance capacitor which has same capacitance as feedback capacitor C1 to prevent differential input voltage caused by bias input current when the circuit is unbalanced. The relationship of input and output of U1B is

−KQ

U=

(3.1)

(1 + K)C1

In equation(1) , K is the open-loop gain of U1B, Q is the electric charge generated by force applied on PVDF sensor and is proportion to the force. Because the value of K is extremely large, the output of U1B can be calculated by

−Q

U=

(3.2)

C1

Capacitor C6 is used to get rid of DC voltage from output signal and prepare for voltage ampliﬁcation. After the charge ampliﬁer, a voltage ampliﬁer is used to amplify the voltage to the range which can be measured by A/D converter. The voltage ampliﬁer is composed by U1C, R2 and R6. R51 is a balance resistor to balance the whole ampliﬁer. The gain of U1C is

43

G = − R2 R6

(3.3)

In this application, the gain is adjusted to 62 according to experiment result. The frequency of human’s heart rate is rather low, about 0.5Hz to 4Hz, so a low pass ﬁlter is needed in the circuit to cancel the high frequency interference introduced by environment around human body. In this circuit, a second-order multi feedback Butterworth low pass ﬁlter is placed in each channel. The cut-off frequency can be determined by R3, R4, C3 and C7, it can be calculated by

1

1

f=

2π R3R4C3C7

(3.4)

The gain of the ﬁlter is

G = − R4 R8

(3.5)

The cut-off frequency is set to 20Hz in this circuit and the gain is set to 1.

The operational ampliﬁer in this circuit is MCP6004 produced by MICROCHIP. This quad package ampliﬁer is designed for general purpose battery-powered applications. It has rail-to-rail input and output features; the supply voltage can be as low as 1.8V and the typical supply current is 100 uA. These features make it very suitable for designing biomedical signal sensing circuits used in sensor nodes powered by batteries [100]. There are four ampliﬁers in one MCP6004 so each channel of the circuit only use one MCP6004.

44

Figure 3.9: One Channel Of Measurement Circuit
3.6 Analog-to-Digital Converter
To measure the analog signal and transmit it by digital wireless network, analog-to-digital converters are necessary in system design. Although the ATMEGA 328P has four A/D converter input pins, it’s converter is only 10bit which means the resolution is about 3mV [22]. External converters are needed for better performance of signal measurement. Considering the balance of cost, performance, power consumption and connection method, ADS1118 which is manufactured by TI is selected to convert the analog signal to digital in this design.
The ADS1118 is a precision, low power, 16-bit A/D converter that provides all features necessary to measure the most common sensor signals in an ultra-small package. The ADS1118 integrates a programmable gain ampliﬁer (PGA), n voltage reference, oscillator and high-accuracy temperature sensor. These features, along with a wide power supply range from 2 V to 5.5 V, make the ADS1118 ideally suited for power- and space- constrained, sensor-measurement applications. This A/D converter chip can perform conversions at data rates up to 860 SPS. The PGA offers input ranges from ±256 mV to ±6.144 V, allowing both large and small signals to be measured with high resolution. An input multiplexer allows to measure two differential or four single-ended inputs. The ADS1118 operates either in continuous conversion mode, or in a single-shot mode that automatically powers down after a conversion [101]. The diagram of ADS1118 is shown in Figure 3.10.
45

Figure 3.10: Block Diagram of ADS1118 A/D Converter In this system design, there is one ADS1118 to measure three channels, so three input pins are used. The input range is set to +-4.096V to cover the 3.3V range outputted by conditioning circuit. SPI port is used to connect Arduino Pro Mini and ADS1118. Arduino Pro Mini’s Pin 8 is used to monitor the Data Ready signal outputted by Pin9 of ADS1118. The connection of Arduino Pro Mini and ADS1118 is shown in Figure 3.11.
Figure 3.11: Connection of ADS1118 and Arduino Pro Mini 46

3.7 ECG Measurement
To validate the experiment result of newly developed wrist pulse signal measurement circuit, a heart rate signal acquired simultaneously from the same human body as contrast is necessary. This signal is introduced into this system as another individual sensor node to validate the system structure, wireless communication method and wrist pulse signal sensing. A single lead heart rate monitor board based on AD8232 and some electrodes were purchased from SparkFun which is a famous open source hardware website to simplify developing.
AD8232 is a fully integrated heart rate monitor front-end chipset produced by Analog Devices. This product is an integrated signal conditioning block for ECG and other biopotential measurement applications. It is designed to extract, amplify, and ﬁlter small biopotential signals in the presence of noisy conditions, such as those created by motion or remote electrode placement. This design allows for an ultra-low power ADC or an embedded microcontroller to acquire the output signal easily [102].
Figure 3.12: Block Diagram of AD8232 47

Figure 3.13: ECG Board Circuit
The block diagram of AD8232 is shown in Figure 3.12. The schematic of ECG board is shown in Figure 3.13. By the adhesive biomedical sensor pads and wires purchased with the ECG board, it is very easy to mount three pads on human body and get clear ECG signal. The analog signal outputted by ECG board is measured by ADS1118 A/D converter and sent to Raspberry Pi by wireless network same as wrist pulse signals.
3.8 System Software
There are three parts of software in the whole system. The software of personal device is designed by Python 3. The software of sensor nodes is coded in Arduino IDE and a software with GUI is designed on platform of LabVIEW running on desktop computer. Figure 3.14 illustrate the structure of software in whole system and the data ﬂows. The ﬁrmware runs in two sensor nodes’ Arduinos control the sampling and BLE data transmission, the software runs in Raspberry Pi of PD receives and sends data between two different networks, and a program on desktop computer display and storage data after receiving and restructuring data.
48

Figure 3.14: Software Structure of Whole System
3.8.1 Sensor Nodes The software of sensor nodes has three functions, set the sample time, control the ADS1118 to
sample the analog signal from wrist pulse measurement circuit and ECG board, and write the data read from ADS1118 to BT836 module. The sample rate of sensor nodes is set to 200Hz, which means the time between two samples is 5ms. Figure 3.15 shows the ﬂow chart of wrist pulse signal measurement node software.
49

Figure 3.15: Flow Chart of Wrist Pulse Signal Measurement Node Software
The ADS1118 is conﬁgured to single-shot mode which allow the Arduino to send a start conversion command every 5ms. At the beginning, Arduino sends command to select the ﬁrst channel, then sends start conversion command. After the conversion starts, the Arduino will wait until the Pin8 receive the Data Ready signal from ADS1118 which indicates the conversion is done and data is in the register for reading. The Arduino then read the data, select the next channel and start the
50

next conversion. When all three channels are sampled, data will be saved in send buffer. According to BLE
protocol, the maximum length of one package is 20 bytes. At the same time, each channel will produce 2 bytes after sampling and the total of three channels is 6 bytes. To maximize the communication data rate, each package transmitted by BT836 module will have three times of samples of all three channels, which is 18 bytes in total. Figure 3.16 shows the package structure of wrist pulse signal measurement node.
Figure 3.16: Structure of Wrist Pulse Signal Measurement Node Data Package The ﬁrst byte of the package is used to indicate the identity of the sensor node and the second one is reserved. After three times of sampling, the Arduino send the package to BT836 module and the module transmitted the data to personal device by Bluetooth network. The software of ECG node has the same process. However, the sample data of ECG signal has only one channel so there are only two bytes for every 5ms.
51

Figure 3.17: Flow Chart of ECG Node Software The package structure of ECG node is shown in Figure 3.18, it contains 9 sample results in one package and the interval of two transmission is 45ms. Figure 3.17 shows the ﬂow chart of ECG signal measurement node software.
52

Figure 3.18: Structure of ECG Node Data Package 3.8.2 Personal Device
There are two functions included in the software of personal device, which is coded in Python 3 and running on Raspberry. The ﬁrst function is receiving data package from BT836 module through UART port and the second one is forward the data to desktop computer by Wi-Fi network.
Figure 3.19 is the ﬂow chart of personal device software. The software is conﬁgured to start automatically when Raspberry Pi is powered up. It creates a TCP server socket which can be connected by desktop computer and tries to connect sensor nodes’ Bluetooth modules when starts. After all links are established, all data received from sensor nodes will be forward to TCP client connected by Wi-Fi.
53

Figure 3.19: Flow Chart of Personal Device Software
3.8.3 Desktop Computer
Any device connected to the Raspberry Pi as TCP client can receive the data forwarded. In this system, a desktop computer is used to receive, display and store all the data sent by Raspberry Pi. To display all the biomedical signals’ waveforms, a program with GUI are developed based on the LabVIEW platform. Figure 3.20 shows the ﬂow chart of desktop computer software.
After start, the program will connect to the Raspberry Pi’s address and port, then receive the data packages through WiFi network. To enhance the efﬁciency of data receiving and processing, a data queue is used in program design. There are two independent inﬁnite loop in the program, one is for data package receiving while the other one is for data package decoding. When the receiving loop receives a new data package, this package will be pushed into the queue as the last element. At the same time, the program retrieve the ﬁrst element from the queue in each execution of data decoding loop if there is any element available in the queue. After the data package being retrieved
54

from the queue, it will be decoded according to the structure described in previous sections. When the packages are decoded by the program, the signals are recovered. There are two charts
on main screen to display the waveforms of wrist pulse signal and ECG signal recovered from data packages simultaneously and lively. All data received and displayed is saved on hard disk in format of text ﬁles for further researches. Other software and coding languages, such as MATLAB and Python can be used to read these ﬁles to reconstruct the signals and perform more processes.
Figure 3.20: Flow Chart of Desktop Computer Software
55

4. Experimental Results and Analysis
In this chapter, the experimental results and analysis of the designed system are presented. The preparation and setup of system are described ﬁrst, followed by the test results and discussions.
4.1 Experiment Targets
As the system design described in Chapter 3, this work focuses on two areas: wireless body area network implementation and wrist pulse signal measurement. So, there are two main targets to be validated and demonstrated in the experiments.
First, in the aspect of wireless body area network transmission, the data acquired by wrist pulse signal measurement circuit and ECG board should be transmitted from sensor node to personal device by Bluetooth LE and then be sent to desktop computer by Wi-Fi network. This two-stage wireless transmission should handle the data packages without any loss when the sensor nodes and personal device are carried by subjects and moving in the area covered by Wi-Fi network. An experiment is set in this chapter to ﬁnd out whether the system can work properly in a certain environment.
Second, wrist pulse signal measurement is the other main design goal of this system. The measurement circuit is expected to acquire the wrist pulse signals from three different position, and the waveforms will be recovered on the desktop computer. To verify the measurement results of the circuit, an ECG sensor node is added into the system which was introduced in the previous chapter. The wrist pulse signal waveforms will be compared with the ECG waveform and the heart rate will be calculated from the waveforms as an example of data processing which can be researched by wrist pulse signal in the future.
56

4.2 Experiment Setup
The prototype of the system is shown in Figure 4.1. A is the personal device of the system, B is wrist pulse signal sensor node, C is ECG sensor node. This prototype is made with bread board and in-line components to save developing time and cost.
Figure 4.1: Prototype of Whole System Figure 4.2 shows the interface of LabVIEW program runs on desktop computer. Network parameters and paths of data ﬁles can be set in this interface. There are two separated charts in this interface. The upper one shows the waveform of ECG signal while the lower one shows the waveforms of wrist pulse signals from three positions by three colors.
57

Figure 4.2: Interface of LabVIEW Program
4.2.1 Network Conﬁguration
There are two networks in the system correspond to two layers of wireless body area network. A Bluetooth LE network performs the Intra-BAN layer and a Wi-Fi network acts as the Inter-BAN layer and Beyond-BAN layer.
The topology of Bluetooth LE network is a star network which is composed by three BT836 modules marked in Figure 4.3. The master node of the network is the module which is connected to Raspberry Pi in the personal device and the other two same modules in sensor nodes are work in salve mode with Arduinos. After the Raspberry Pi is powered up, the master node will try to connect the slave ones automatically then a Bluetooth LE network will be established after the sensor nodes are powered up.
A D-Link Wi-Fi router is used in this experiment to provide a Wi-Fi network. Both Raspberry Pi and desktop computer connect to this router by Wi-Fi Ethernet adapter. The IP address of the Raspberry Pi is set to 192.168.0.12 and the desktop computer address is 192.168.0.3. When the LabVIEW program starts, a TCP/IP connection is established between desktop computer and Raspberry Pi then the data transmission starts.
58

Figure 4.3: Personal Device 59

4.2.2 Wrist Pulse Signal Sensor Node Setup
Figure 4.4: Wrist Pulse Signal sensor node Figure 4.4 shows the detailed parts of wrist pulse signal sensor node. To measure the weak pulse signal from human’s wrist, the PVDF sensors must be attached to the wrist surface ﬁrmly to transduce the mechanical pulse force signal to electrical signal. The thickness of the PVDF sensor is only 64um which makes it difﬁcult when ﬁxing the three sensors to human’s wrist. To solve this problem, a pad is stuck to each sensor’s one side to increase the thickness of the sensors to make them steady and protect them from external installation force. Three plastic clamps are used here to ﬁx the sensors to human’s wrist. Unlike normal plastic clamps, these ones are designed to be adjustable and reusable which makes the contact force between the sensors and wrist can be adjust easily for the balance of contact quality and comfort. Between each sensor and the clamp, there is one silicon bracelet to protect the skin of the wrist. The edge of the clamp is sharp and rough which may cause injury to skin. The silicon bracelet is
60

soft and thick enough to disperse the pressure from the clamp and separate the skin to the clamp. The silicon bracelets are cut to a strip to ﬁt different sizes of wrists. A rubber band is used to ﬁx the bracelet’s position when installing the sensor. Three different colors silicon bracelets are used here, and these three colors are corresponds to three color lines in signal chart described in next sections. Blue line is the signal from wrist position 1, red line is the signal from wrist position 2, and green line is the signal from wrist position 3. Figure 4.5 is the photo of PVDF sensors installed on human’s wrist.
Figure 4.5: PVDF Sensors Installed On Wrist 4.2.3 ECG Sensor Node Setup
The ECG sensor node uses a AD8232 heart rate monitor board and electrode pads purchased from Sparkfun. There are three electrode pads used with this board to detect ECG signal, each electrode pad connects to a cable which has unique color. The black cable connects to right arm (RA) electrode pad, the blue cable connects to left arm (LA) electrode pad and the red cable connects to the right leg (RL) electrode pad. All three cables connect to the ECG board by a 3.5mm audio jack connector. Figure 4.6 shows the detailed parts of ECG sensor node.
61

Figure 4.6: ECG Sensor Node The electrode pads have adhesive latex-free gel on their surfaces so they can by stuck on human’s skin easily. The LA electrode is placed on the left chest, the RA electrode is placed on the right chest and the RL electrode is placed on the right waist. Figure 4.7 shows the detailed placement of three ECG electrode pads.
62

Figure 4.7: Placement of ECG Pads
4.3 Experiment Results
4.3.1 Wireless Function To verify the wireless network function, an experiments is designed to ﬁnd out whether the
data can be transmitted while the subject is moving around in nearby area. Figure 4.8 shows the map of the experiment environment and the movement route of the system. The Wi-Fi router is placed near the door of the room so the Wi-Fi network can cover the room and hallway. A subject who carries this system sits still in a chair, then walks around in the coverage area and gets back to the chair. Wrist pulse and ECG signals will be measured and transmitted during this period.
63

Figure 4.8: Movement Route of System Figure 4.9 is the waveforms of the wrist pulse signal when the system is carried by the subject. There is no breaks and interrupts of the waveform, illustrate that when the system is taken by a subject and moves in a Wi-Fi network area, such as medical facilities, the data of biomedical signals still can be transmitted stable.
Figure 4.9: Signal Received When Carried By Subject 64

4.3.2 Wrist Pulse Signal Measurement There are two adults acting as subjects to test wrist pulse signal measurement function here.
Subject A is a 31 years old male with 94kg body weight and 178cm height. Subject B is a 31years old male with 110kg body weight and 185cm height. The PVDF sensors and ECG electrode pads are installed on subjects’ body as described in Section 4.2, the network is also conﬁgured as well. The wrist pulse and ECG signals are acquired for around 60 seconds for each subject; the data is transmitted to computer for monitoring in the interface of LabVIEW program and saved in disk for further restructuring and processing. Figure 4.10 shows the wrist pulse signal waveforms of subjects, Figure 4.11 show the ECG signal waveforms of subject. Figure 4.12 to Figure 4.15 are four more wrist pulse and ECG signal waveforms acquired from subjects C to subject F.
Figure 4.10: Wrist Pulse Signal Waveforms of Subjects
65

Figure 4.11: ECG Signal Waveforms of Subjects
Figure 4.12: Wrist Pulse and ECG Signal Waveforms of Subject C 66

Figure 4.13: Wrist Pulse and ECG Signal Waveforms of Subject D
Figure 4.14: Wrist Pulse and ECG Signal Waveforms of Subject E 67

Figure 4.15: Wrist Pulse and ECG Signal Waveforms of Subject F
4.3.3 HR Calculation From these Figures, it is obviously that the heart rates (HR) of subjects are different and HR is
a main factor which can reﬂect human body status. Different methods are being used to test HRV of human body while the wrist pulse signal measurement provides a new way. The values of heart rates can be calculated from waveform data easily. As described in Chapter 3, the sample rate of the system is 200SPS which means the time between each two samples is 5ms. The heart rate of subject can be calculated by counting samples between any two peaks or valleys neighbored of a certain position wrist pulse signal. Figure 4.16 and 4.17 show same detailed waveforms which last 3 seconds correspond to Figure 4.10 and 4.11. There are 136 samples between two peaks in subject A’s Position 2 waveform and the samples number between two peaks in subject B’s Position 2 waveform is 164. It can be calculated by Equation 4.1, the heart rate of subject A is 88.2 beats per minute and the heart rate of subject B is 73.2 beats per minute.
68

60 × 1000

HR =

(4.1)

(Peak2 − Peak1) × 5

Figure 4.16: Detailed Wrist Pulse Signal Waveforms 69

Figure 4.17: Detailed ECG Signal Waveforms
Seven peaks and six intervals of wrist pulse and ECG waveforms of six subjects in same time are chosen for HR calculation. The subjects’ HR calculated by intervals of wrist pulse waveforms and ECG waveforms are presented in Table 4.1 to Table 4.3 by 4.1. The HR values calculated by ECG waveforms are considered as standard values in this comparison. So, the relative error can be deﬁned by 4.2. Figure 4.18 shows the HR calculated by ECG and wrist pulse signals separately from subject A to subject F. It can be seen the HR value calculated by wrist pulse signals follows the variation of the HR value calculated by ECG signals and the relative errors are less than 2% in most of the cases, which means this signal can be used to calculate the HR and the variety of HR can be detected by this method.

W rist Pulse HR − ECG HR

Relarive Error =

× 100%

(4.2)

ECG HR

70

ECG Interval HR
137 87.6 138 87.0 138 87.0 139 86.3 138 87.0 135 88.9

Subject A Wrist Pulse Interval HR 136 88.2 139 86.3 140 85.7 137 87.6 139 86.3 136 88.2

Relative Error
0.7% -0.8% -1.5% 1.5% -0.8% -0.8%

ECG Interval HR
169 71.0 170 70.6 168 71.4 162 74.1 162 74.1 164 73.2

Subject B Wrist Pulse Interval HR 168 71.4 169 71.0 171 70.2 161 74.5 162 74.1 164 73.2

Relative Error
0.6% 0.6% -1.7% 0.5%
0 0

Table 4.1: HR Calculated by Wrist Pulse and ECG of Subject A and B

ECG Interval HR
125 96.0 129 93.0 134 89.6 142 84.5 147 81.6 152 78.9

Subject C Wrist Pulse Interval HR 124 96.8 125 96.0 136 88.2 138 87.0 147 81.6 150 80.0

Relative Error
0.8% 3.2% -1.6% 2.9%
0 1.4%

ECG Interval HR
181 66.3 171 70.2 180 66.7 185 64.9 177 67.8 184 65.2

Subject D Wrist Pulse Interval HR 183 65.6 189 63.5 192 62.5 178 67.4 182 65.9 180 66.7

Relative Error
1.1% 9.5% 6.3% 3.9% 2.8% 2.3%

Table 4.2: HR Calculated by Wrist Pulse and ECG of Subject C and D

ECG Interval HR
154 77.9 160 75.0 159 75.5 166 72.3 165 72.7 168 71.4

Subject E Wrist Pulse Interval HR 154 77.9 159 75.5 160 75.0 166 72.3 165 72.7 169 71.0

Relative Error
0 0.7%
0 0 0 -0.6%

ECG Interval HR
165 72.7 162 74.1 159 75.5 162 74.1 169 71.0 163 73.6

Subject F Wrist Pulse Interval HR 163 73.6 165 72.7 157 76.4 163 73.6 171 70.2 166 72.3

Relative Error
1.2% 1.9% 1.2% -0.7% -1.1% -1.8%

Table 4.3: HR Calculated by Wrist Pulse and ECG of Subject E and F

71

Figure 4.18: HR Calculated by ECG and Wrist Pulse Signals 4.3.4 Waveform Analysis
As the background of TCPD introduced in Chapter 1, the most interesting thing of wrist pulse signal is the different shapes of waveforms acquired from three positions. These waveforms can be used for health status diagnoses by experienced TCM physicians. Figure 4.19 is the theoretical waveform of a single wrist pulse, described in [14]. The pulse can be divided into two phase, the left one is systolic phase and the right one is diastolic phase. Between these two phases, a dicrotic notch can be found on the descending curve.
72

Figure 4.19: Theoretical Waveform of A Single Wrist Pulse [14] 73

Figure 4.20: A Single Wrist Pulse of Subject A 74

Figure 4.21: A Single Wrist Pulse of Subject F
Figure 4.22: Typical Waveform of Wrist Pulse Collected by Pressure Sensor [14] 75

Figure 4.23: Wrist Pulse Waveform Acquired By Three In-line Sensors and Linear Actuators [20]
Figure 4.24: Typical Waveform of Wrist Pulse Collected by Photoelectric Sensor [15]
Figure 4.25: Typical Waveform of Wrist Pulse Collected by Photoelectric Sensor [16] Figure 4.20 and 4.21 are single pulses acquired from subject A and F respectively by this
76

system. Figure 4.22 and 4.23 are wrist pulses presented in [14] and [20], acquired by pressure sensors, Figure 4.24 is wrist pulse waveform presented in [15], acquired by photoelectric sensor and Figure 4.25 is the measurement result obtained by ultrasonic sensor in [16]. It can be seen, the waveform collected by ultrasonic sensor hardly illustrate the details of wrist pulse as Figure 4.19 shows. In Figure 4.20 and 4.21, the waveforms have the same features as the theoretical wrist pulse, such as systolic phase, diastolic phase, systolic peak and dicrotic notch, which make the waveforms useful for TCPD analysis. In Figure 4.22, 4.23 and 4.24, these characteristics are also can be observed in waveforms obviously, which means the wrist pulse signal can be collected by various types of sensors and similar waveforms can be acquired.
77

Figure 4.26: Typical Waveform Patterns of Wrist Pulse [10] 78

Figure 1.6 and 4.26 [10] shows typical waveform patterns of wrist pulse. Comparing the waveforms in Figure 4.20 and 4.21 with the waveforms in Figure 4.26, the shapes of waveforms acquired from two subjects can be classiﬁed into to different patterns of wrist pulse. The pulse in Figure 4.20 has smoother dicrotic notch and sharper systolic peak which make it is more like ﬁne pulse in Figure 4.26, while the pulse in Figure 4.21 has larger dicrotic notch and less sharp systolic peak which make it is more like normal pulse. However, one point should be noticed that the TCPD is a subjective diagnosis and the typical waveforms of wrist pulse are drawn by TCM physicians based on their ﬁngertip feelings and experience. Also, the patterns in Figure 1.6 and 4.26 may not cover all kinds of wrist pulse waveform. In the future, experienced TCM physicians are needed to participate into wrist pulse analysis.
4.3.5 Measurement With Movement
When the sensors measure the wrist pulse signals, the movement of subject’s wrist is inevitable. The PVDF sensor is a kind of pressure sensor, the acceleration of wrist will cause the pressure on the sensor changes, which will effect the result. A test was designed here to ﬁnd the inﬂuence of movement to the sensor performance. Figure 4.27 shows a waveform of wrist pulse recorded from a subject. There are four sections which are correspond to four status of movement of wrist in this waveform. In section 1, the wrist was almost steady without any movement. In section 2, the wrist waved in 20cm range and the frequency of movement was one time per second. In section 3, the wrist waved in 20cm range and the frequency of movement was two time per second. Finally in section 4, the the wrist waved in 20cm range and the frequency of movement was one time per two second. From this ﬁgure, it can be seen in section 2 and 3, the signal was totally interfered by the movement of wrist and the waveform in these sections are useless for HRV calculation. The system design can resist slight movement and obtain useful signal from wrist, like the section 4 of the waveform shows. However, for best performance, the wrist should be kept as steady as possible, like the TCPD requires.
79

. Figure 4.27: Wrist Pulse Signal When Moving Hand
4.3.6 Discussions
In previous ﬁve sections, some experiments have been complete to verify the principle and design of the system.
For the wireless body area network, the capability of the system to integrate and transmit data from sensor nodes installed on human body to computer via two layers of different network protocols has been validated. The movement of subject in Wi-Fi network coverage area also has no negative effect to data transmission.
The PVDF sensors used as wrist pulse sensors and measurement circuit designed can detect the weak signals from human’s wrist and convert them to digital format. All six subjects have different shapes of wrist pulse waveforms. By acquiring wrist pulse and ECG signals from different subject’s bodies, the wrist pulse signals show potentials in biomedical applications, not only measuring the heart rate variability but also can be used to analyze body health status by TCPD after more studies.
80

5. Future Works and Conclusions
5.1 Conclusions
In this thesis work, research and experiments of a sensor system with wireless network are proposed. This system is designed for detecting wrist pulse signal and other biomedical signals from human body and transmitting the data to computer through wireless body area network. This thesis focuses on two areas of work. The ﬁrst on is the wireless body area network design and another one is wrist pulse signal measurement method includes sensor selection and circuit design. An ECG monitor board is introduced in the system for signal comparison.
There are two layers in the system network structure. The Intra-BAN layer is the lower one which located on patient’s body. This layer has a Raspberry Pi works as personal device which connects to all sensing nodes by Bluetooth LE network and forward data from sensor nodes to Wi-Fi network. Sensor nodes are used to measure various kinds of biomedical signals from patient body. In this work, there are two sensor nodes included in Intra-BAN layer but more nodes for other applications can be added because of the scalability of the network structure.
Wi-Fi network is used as the Inter-BAN layer in this system. The Wi-Fi network connects personal devices carried by patient and computers located in certain places. Data ﬂows from Raspberry Pi to computer through Wi-Fi and a LabVIEW program on computer displays and saves data. Experiments described in Section 4.3.1 show the network function of the system works well as expectation.
The wrist pulse signal measurement circuit designed in Chapter 3 can transfer the tiny vibration on wrist artery to voltage signal which can be processed easily. By comparing several kinds of sensors, PVDF sensors are selected to measure the wrist pulse considering the size, performance
81

and cost. A three-channel measurement circuit is designed to convert the charge signal to voltage signal and an A/D converter chip is used to sample the signal to digital data. According to the experiment results in Chapter 4, the output of this measurement circuit can reﬂect the pulses on three different positions on subjects’ wrist. By calculating the time intervals between peaks of wrist pulse signal, heart rate of the patient can be obtained as an example of information which can be get from this signal. Also two examples of wrist pulse waveforms are shown for analysis in TCPD patterns.
Finally, some future works are discussed for the potential application of this system. Some improvements are needed to make the system easier to use. Another important future research area is the combination of this system with TCPD, cooperated by some experienced traditional Chinese medicine physicians and modern data processing methods such as machine learning.
5.2 Future Works
Although the preliminary goals are achieved by this prototype of system, future improvements and additional research efforts are still needed to realize the full potential of the proposed system. The ultimate goals of this research are to implement this system in medical facilities or home health care applications and use the wrist pulse signal for remote diagnoses of cardiovascular diseases to improve health care services.
5.2.1 System Improvements
Before being applied on human body, calibration of sensors is an important part of work to identify the inﬂuence of external conditions to the performance of sensor. In this system, the preset pressure on the sensors may effect the measurement result the most. Although it is not easy to measure the pressure applied by plastic clamps directly, ﬁnding a way to establish the relation of pre-set pressure and output of sensors is vital in further development.
In existing system, three sensors are placed on wrist by simple materials without too much consideration on ergonomic factors. The sensor installation procedure costs over 15 minutes and is difﬁcult by one hand. Also, the comfort of method of sensor installation is not satisfactory. A new
82

device which considers the ergonomics is needed for installing the sensors on wrist. This device should have the features such as fast installing, adaptivity to diverse sizes of wrist, comfortable feeling after sensors are installed. Also, as the description above, the pre-set pressure may effect the measurement result a lot, this new device must has a function of adjusting and measuring pre-set pressure applied on sensors.
The experiment result in Section 4.3.3 shows that the system has ability of anti-movement to some extent. However, it still can not tolerant motions such as walking and jogging while physicians may be interested in the wrist pulse when these motions occur. To avoid interference from hand movements, some motion sensors such as accelerometers can be used to measure the movements of hand then some certain algorithm will be used to cancel the motion interference from wrist pulse signal.
The wrist pulse signal measurement circuit performs satisfactory as a prototype board. However, the circuit is still needed to be optimized for stability, anti-interference ability, dimension and power consumption.
Another area which should be focused on is data processing. In Section 4.3.2, the method of using wrist pulse signal to calculate HR is introduced. However, there are more applications can be achieved by using wrist pulse signals. To extract more information about health status by using wrist pulse signal, more data from patients who have different health issues is needed as training data. Some experienced TCM physicians are needed to participate to ﬁnd out the relationships between these visualized wrist pulse signal waveforms and certain health issues by their professional knowledge in TCPD. Then machine learning methods can be used to help making diagnoses by existing wrist pulse signal database founded by the physicians.
5.2.2 Prospective Applications
There are only two sensor nodes installed on subjects in this thesis. Some other sensor nodes can be added into the Intra-BAN layer network for other biomedical applications, such as motion sensing, blood pressure monitoring. The compatibility and scalability of this system structure needs further test by adding other sensor nodes and setting multi subjects in same area. Also, ac-
83

cessing the data from wider network such as Internet by other devices is a vital feature of practical wireless body area network. More works on developing programs on other platforms are needed, for example, data can be accessed by not only desktop computers but also smart phones to monitor patients remotely. This system can be combined with some in-door locating systems to track the positions of patients while monitoring their health status in large medical facility buildings.
In this thesis, three sensors are placed on the human wrist to ﬁnd the the potential of this system on the purpose of TCPD. However, there are many potential applications of this system including but not limited to wrist pulse detection for TCPD. PVDF sensor is a type of pressure sensor with high sensitivity and is easy to use, so it can be used to measure diverse biomedical signals on human body as long as there are pulse movements on skin. Also, the scalability and ﬂexibility of this system provided by wireless BAN make the system easy to measure biomedical signals on any location of human body comprehensively.
For example, Jugular venous pulse(JVP) which acquired from human’s neck can be used to analyze some important cardiac parameters, such as venous pulse contour and type of cardiac arrhythmias. There are several system are designed to measure JVP signal, described in [103–105]. These systems use accelerometer, hemodynamic imaging and ultrasonographic technique to measure the JVP signal while the PVDF sensor also can be attempted for that purpose to provide more options, just by installing the sensors on carotid artery and jugular vein. For these prospective applications, some devices for supporting of sensors may be needed while the principle of measurement is the same as the system presented in this thesis.
84

References
[1] J.-S. Lee, Y.-W. Su, and C.-C. Shen, “A comparative study of wireless protocols: Bluetooth, uwb, zigbee, and wi-ﬁ,” in Industrial Electronics Society, 2007. IECON 2007. 33rd Annual Conference of the IEEE, pp. 46–51, IEEE, 2007.
[2] S. Chakkor, E. A. Cheikh, M. Baghouri, and A. Hajraoui, “Comparative performance analysis of wireless communication protocols for intelligent sensors and their applications,” arXiv preprint arXiv:1409.6884, 2014.
[3] T. Zhang, J. Lu, F. Hu, and Q. Hao, “Bluetooth low energy for wearable sensor-based healthcare systems,” in Healthcare Innovation Conference (HIC), 2014 IEEE, pp. 251–254, IEEE, 2014.
[4] K. Shahzad and B. Oelmann, “A comparative study of in-sensor processing vs. raw data transmission using zigbee, ble and wi-ﬁ for data intensive monitoring applications,” in 2014 11th International Symposium on Wireless Communications Systems (ISWCS), pp. 519–524, IEEE, 2014.
[5] S. Ullah, H. Higgins, B. Braem, B. Latre, C. Blondia, I. Moerman, S. Saleem, Z. Rahman, and K. S. Kwak, “A comprehensive survey of wireless body area networks,” Journal of medical systems, vol. 36, no. 3, pp. 1065–1094, 2012.
[6] A. Voykin, F. M. Bui, and R. Bolton, “Fpga based reconﬁgurable body area network using nios ii and uclinux,” in Electrical and Computer Engineering (CCECE), 2013 26th Annual IEEE Canadian Conference on, pp. 1–4, IEEE, 2013.
[7] J. M. Zanetti and D. M. Salerno, “Seismocardiography: a technique for recording precordial acceleration,” in Computer-Based Medical Systems, 1991. Proceedings of the Fourth Annual IEEE Symposium, pp. 4–9, IEEE, 1991.
[8] Rhcastilhos, “Radial artery.” https://en.wikipedia.org, 02 2007.
85

[9] P. Wang, W. Zuo, and D. Zhang, “A compound pressure signal acquisition system for multichannel wrist pulse signal analysis,” IEEE Transactions on Instrumentation and Measurement, vol. 63, no. 6, pp. 1556–1565, 2014.
[10] J.-J. Shu and Y. Sun, “Developing classiﬁcation indices for chinese pulse diagnosis,” Complementary Therapies in Medicine, vol. 15, no. 3, pp. 190–198, 2007.
[11] S. Movassaghi, M. Abolhasan, J. Lipman, D. Smith, and A. Jamalipour, “Wireless body area networks: A survey,” IEEE Communications Surveys & Tutorials, vol. 16, no. 3, pp. 1658– 1686, 2014.
[12] W. Zuo, P. Wang, and D. Zhang, “Comparison of three different types of wrist pulse signals by their physical meanings and diagnosis performance,” IEEE journal of biomedical and health informatics, vol. 20, no. 1, pp. 119–127, 2016.
[13] TE Connectivity, http://www.te.com, Ms6636c datasheet, Sep 2015.
[14] W. Zhou, “A wireless sensor system and applications of traditional chinese pulse diagnosis for individual healthcare monitoring,” 2009.
[15] D. Wang, D. Zhang, and G. Lu, “A novel multichannel wrist pulse system with different sensor arrays,” IEEE Transactions on Instrumentation and Measurement, vol. 64, no. 7, pp. 2020–2034, 2015.
[16] F.-K. Wang, M.-C. Tang, S.-C. Su, and T.-S. Horng, “Wrist pulse rate monitor using selfinjection-locked radar technology,” Biosensors, vol. 6, no. 4, p. 54, 2016.
[17] Y.-W. Chu, C.-H. Luo, Y.-F. Chung, C.-S. Hu, and C.-C. Yeh, “Using an array sensor to determine differences in pulse diagnosis-three positions and nine indicators,” European Journal of Integrative Medicine, vol. 6, no. 5, pp. 516–523, 2014.
[18] J.-H. Bae, Y. J. Jeon, J. Y. Kim, and J. U. Kim, “New assessment model of pulse depth based on sensor displacement in pulse diagnostic devices,” Evidence-Based Complementary and Alternative Medicine, vol. 2013, 2013.
86

[19] H. Chang and J.-X. Chen, “Piezoelectric pulse diagnosis transducer of 9x9 sensing arrays and pulse signal processing,” in International Conference on Applied Informatics and Communication, pp. 541–548, Springer, 2011.
[20] N. Spulak, S. Foeldi, M. Koller, M. Niemier, J. Schmiedeler, and G. Cserey, “Wrist pulse detection and analysis using three in-line sensors and linear actuators,” in CNNA 2016; 15th International Workshop on Cellular Nanoscale Networks and their Applications; Proceedings of, pp. 1–2, VDE, 2016.
[21] Deepesh Agarwal, Raspberry pi 2 model b pinout diagram, 06 2015.
[22] Atmel Corporation, http://www.atmel.com, Atmel 8-bit microcontroller with 4/8/16/32kbytes in-system programmable ﬂash, Oct. 2014.
[23] E. S. Cao Vu Dung, “Numerical simulation of output response of pvdf sensor attached on a cantilever beam subjected to impact loading,” Sensor, vol. 5, no. 16, 2016.
[24] M. Paukkunen, M. Linnavuo, and R. Sepponen, “A portable measurement system for the superior-inferior axis of the seismocardiogram,” J Bioengineer Biomedical Sci, vol. 3, no. 1, pp. 1–4, 2013.
[25] S. F. Sheet-Populations, “International cardiovascular disease statistics,” American Heart Association, 2004.
[26] N. Bu, N. Ueno, and O. Fukuda, “Monitoring of respiration and heartbeat during sleep using a ﬂexible piezoelectric ﬁlm sensor and empirical mode decomposition,” in Engineering in Medicine and Biology Society, 2007. EMBS 2007. 29th Annual International Conference of the IEEE, pp. 1362–1366, IEEE, 2007.
[27] J. Parak, J. Dvorak, and J. Havlik, “Device for long term measurement of heart rate,” in Proceedings of the 4th International Symposium on Applied Sciences in Biomedical and Communication Technologies, p. 19, ACM, 2011.
[28] S. Stern, D. TzIVONI, and Z. Stern, “Diagnostic accuracy of ambulatory ecg monitoring in ischemic heart disease.,” Circulation, vol. 52, no. 6, pp. 1045–1049, 1975.
87

